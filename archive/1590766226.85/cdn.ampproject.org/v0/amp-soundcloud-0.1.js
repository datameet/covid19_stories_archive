(self.AMP=self.AMP||[]).push({n:"amp-soundcloud",v:"2005151844001",f:(function(AMP,_){
var c="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},e;if("function"==typeof Object.setPrototypeOf)e=Object.setPrototypeOf;else{var g;a:{var h={a:!0},l={};try{l.__proto__=h;g=l.a;break a}catch(a){}g=!1}e=g?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var m=e;/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var p=self.AMP_CONFIG||{},q=("string"==typeof p.cdnProxyRegex?new RegExp(p.cdnProxyRegex):p.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function r(a){if(self.document&&self.document.head&&(!self.location||!q.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}p.cdnUrl||r("runtime-host");p.geoApiUrl||r("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var t=self.__AMP_LOG;function u(a){return a||{}};u({c:!0,v:!0,a:!0,ad:!0,action:!0});function v(a){a=AMP.BaseElement.call(this,a)||this;a.h=null;return a}var x=AMP.BaseElement;v.prototype=c(x.prototype);v.prototype.constructor=v;if(m)m(v,x);else for(var y in x)if("prototype"!=y)if(Object.defineProperties){var z=Object.getOwnPropertyDescriptor(x,y);z&&Object.defineProperty(v,y,z)}else v[y]=x[y];v.j=x.prototype;
v.prototype.preconnectCallback=function(a){var b=this.win;b=b.__AMP_TOP||(b.__AMP_TOP=b);var k=b.__AMP_SERVICES;k||(k=b.__AMP_SERVICES={});b=k.preconnect;b.obj||(b.obj=new b.ctor(b.context),b.ctor=null,b.context=null,b.resolve&&b.resolve(b.obj));b.obj.url(this.getAmpDoc(),"https://api.soundcloud.com/",a)};v.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a};v.prototype.buildCallback=function(){this.element.classList.add("i-amphtml-media-component")};
v.prototype.layoutCallback=function(){var a=this.element.getAttribute("height"),b=this.element.getAttribute("data-color"),k=this.element.getAttribute("data-visual"),f="https://api.soundcloud.com/"+(this.element.hasAttribute("data-trackid")?"tracks":"playlists")+"/";var n=this.element.getAttribute("data-trackid")||this.element.getAttribute("data-playlistid");var A=this.element;if(!t.user)throw Error("failed to call initLogConstructor");n=t.user.assert(n,"data-trackid or data-playlistid is required for <amp-soundcloud> %s",
A,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0);var w=this.element.getAttribute("data-secret-token"),d=this.element.ownerDocument.createElement("iframe");d.setAttribute("frameborder","no");d.setAttribute("scrolling","no");f="https://w.soundcloud.com/player/?url="+encodeURIComponent(f+n);w&&(f+=encodeURIComponent("?secret_token="+w));"true"===k?f+="&visual=true":b&&(f+="&color="+encodeURIComponent(b));d.src=f;this.applyFillContent(d);d.height=a;this.element.appendChild(d);this.h=d;return this.loadPromise(d)};
v.prototype.pauseCallback=function(){this.h&&this.h.contentWindow&&this.h.contentWindow.postMessage(JSON.stringify(u({method:"pause"})),"https://w.soundcloud.com")};(function(a){a.registerElement("amp-soundcloud",v)})(self.AMP);
})});

//# sourceMappingURL=amp-soundcloud-0.1.js.map
