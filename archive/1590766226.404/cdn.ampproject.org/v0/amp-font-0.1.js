(self.AMP=self.AMP||[]).push({n:"amp-font",v:"2005151844001",f:(function(AMP,_){
var f="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},l;if("function"==typeof Object.setPrototypeOf)l=Object.setPrototypeOf;else{var m;a:{var p={a:!0},q={};try{q.__proto__=p;m=q.a;break a}catch(a){}m=!1}l=m?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var r=l;/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var t=self.AMP_CONFIG||{},u=("string"==typeof t.cdnProxyRegex?new RegExp(t.cdnProxyRegex):t.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function w(a){if(self.document&&self.document.head&&(!self.location||!u.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}t.cdnUrl||w("runtime-host");t.geoApiUrl||w("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var x=self.__AMP_LOG;function y(){if(!x.user)throw Error("failed to call initLogConstructor");return x.user};(function(a){return a||{}})({c:!0,v:!0,a:!0,ad:!0,action:!0});function z(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);var c=a.__AMP_SERVICES;c||(c=a.__AMP_SERVICES={});b=c[b];b.obj||(b.obj=new b.ctor(b.context),b.ctor=null,b.context=null,b.resolve&&b.resolve(b.obj));return b.obj};var A,B="Webkit webkit Moz moz ms O o".split(" ");function C(a,b){for(var c in b){var d=a,k=b[c];var e=d.style;var g=c;if(2>g.length?0:0==g.lastIndexOf("--",0))e=g;else{A||(A=Object.create(null));var n=A[g];if(!n){n=g;if(void 0===e[g]){var h=g;h=h.charAt(0).toUpperCase()+h.slice(1);b:{for(var v=0;v<B.length;v++){var E=B[v]+h;if(void 0!==e[E]){h=E;break b}}h=""}void 0!==e[h]&&(n=h)}A[g]=n}e=n}e&&((2>e.length?0:0==e.lastIndexOf("--",0))?d.style.setProperty(e,k):d.style[e]=k)}};var D=["sans-serif","serif"];function F(a){this.o=a;this.j=a.win.document;this.h=this.l=null;this.D=this.F=!1}F.prototype.load=function(a,b){var c=this;this.h=a;return z(this.o.win,"timer").timeoutPromise(b,G(this)).then(function(){c.F=!0;c.m()},function(a){c.D=!0;c.m();throw a;})};
function G(a){return new Promise(function(b,c){var d=a.h.fontStyle+" "+a.h.variant+" "+a.h.weight+" "+a.h.size+" '"+a.h.family+"'";"fonts"in a.j?a.j.fonts.check(d)?b():a.j.fonts.load(d).then(function(){return a.j.fonts.load(d)}).then(function(){a.j.fonts.check(d)?b():c(Error("Font could not be loaded, probably due to incorrect @font-face."))}).catch(c):H(a).then(b,c)})}
function H(a){return new Promise(function(b,c){var d=z(a.o.win,"vsync"),k=I(a),e=d.createTask({measure:function(){a.F?b():a.D?c(Error("Font loading timed out.")):k.some(function(a){return a.compare()})?b():e()}});e()})}
function I(a){var b=a.l=a.j.createElement("div");C(b,{fontSize:"40px",fontVariant:a.h.variant,fontWeight:a.h.weight,fontStyle:a.h.fontStyle,left:"-999px",lineHeight:"normal",margin:0,padding:0,position:"absolute",top:"-999px",visibility:"hidden"});var c=D.map(function(c){return new J(b,a.h.family,c)});a.o.getBody().appendChild(b);return c}F.prototype.m=function(){if(this.l){var a=this.l;a.parentElement&&a.parentElement.removeChild(a)}this.l=null};
function J(a,b,c){var d=a.ownerDocument,k=b+","+c;this.w=K(d,c);this.C=K(d,k);a.appendChild(this.w);a.appendChild(this.C)}function K(a,b){a=a.createElement("div");a.textContent="MAxmTYklsjo190QW";C(a,{float:"left",fontFamily:b,margin:0,padding:0,whiteSpace:"nowrap"});return a}J.prototype.compare=function(){var a=2<Math.abs(this.w.offsetHeight-this.C.offsetHeight);return 2<Math.abs(this.w.offsetWidth-this.C.offsetWidth)||a};function L(a){a=AMP.BaseElement.call(this,a)||this;a.A="";a.I="";a.G="";a.H="";a.B=null;return a}var M=AMP.BaseElement;L.prototype=f(M.prototype);L.prototype.constructor=L;if(r)r(L,M);else for(var N in M)if("prototype"!=N)if(Object.defineProperties){var O=Object.getOwnPropertyDescriptor(M,N);O&&Object.defineProperty(L,N,O)}else L[N]=M[N];L.J=M.prototype;L.prototype.prerenderAllowed=function(){return!0};
L.prototype.buildCallback=function(){var a=this.element.getAttribute("font-family"),b=this.element;this.A=y().assert(a,"The font-family attribute is required for <amp-font> %s",b,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0);this.I=this.element.getAttribute("font-weight")||"400";this.G=this.element.getAttribute("font-style")||"normal";this.H=this.element.getAttribute("font-variant")||"normal";this.B=new F(this.getAmpDoc());P(this)};
function P(a){a.B.load({fontStyle:a.G,variant:a.H,weight:a.I,size:"medium",family:a.A},Q(a)).then(function(){var b=a.element.getAttribute("on-load-add-class"),c=a.element.getAttribute("on-load-remove-class");R(a,b,c)}).catch(function(){var b=a.element.getAttribute("on-error-add-class"),c=a.element.getAttribute("on-error-remove-class");R(a,b,c);y().warn("amp-font","Font download timed out for "+a.A)})}
function R(a,b,c){var d=a.getAmpDoc();d=d.getRootNode().documentElement||d.getBody();b&&d.classList.add(b);c&&d.classList.remove(c);a.m()}L.prototype.m=function(){this.B=null};function Q(a){var b=parseInt(a.element.getAttribute("timeout"),10),c=b;b="number"!==typeof c||!isFinite(c)||0>b?3E3:b;return b=Math.max(b-z(a.win,"timer").timeSinceStart(),100)}(function(a){a.registerElement("amp-font",L)})(self.AMP);
})});

//# sourceMappingURL=amp-font-0.1.js.map
