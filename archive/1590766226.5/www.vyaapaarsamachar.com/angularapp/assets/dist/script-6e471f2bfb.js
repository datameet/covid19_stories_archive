var mod;if($(document).ready(function(){$(".bxslider").bxSlider({auto:!0,autoControls:!0})}),$("button").click(function(){var t=$("input[name=message]").val();$("#messages").append("<p>"+t+"</p>")}),function(F){var R={},U={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};F.fn.bxSlider=function(e){if(0==this.length)return this;if(1<this.length)return this.each(function(){F(this).bxSlider(e)}),this;var c={},u=this;R.el=this;var r=F(window).width(),o=F(window).height(),n=function(){c.settings=F.extend({},U,e),c.settings.slideWidth=parseInt(c.settings.slideWidth),c.children=u.children(c.settings.slideSelector),c.children.length<c.settings.minSlides&&(c.settings.minSlides=c.children.length),c.children.length<c.settings.maxSlides&&(c.settings.maxSlides=c.children.length),c.settings.randomStart&&(c.settings.startSlide=Math.floor(Math.random()*c.children.length)),c.active={index:c.settings.startSlide},c.carousel=1<c.settings.minSlides||1<c.settings.maxSlides,c.carousel&&(c.settings.preloadImages="all"),c.minThreshold=c.settings.minSlides*c.settings.slideWidth+(c.settings.minSlides-1)*c.settings.slideMargin,c.maxThreshold=c.settings.maxSlides*c.settings.slideWidth+(c.settings.maxSlides-1)*c.settings.slideMargin,c.working=!1,c.controls={},c.interval=null,c.animProp="vertical"==c.settings.mode?"top":"left",c.usingCSS=c.settings.useCSS&&"fade"!=c.settings.mode&&function(){var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in e)if(void 0!==t.style[e[n]])return c.cssPrefix=e[n].replace("Perspective","").toLowerCase(),c.animProp="-"+c.cssPrefix+"-transform",!0;return!1}(),"vertical"==c.settings.mode&&(c.settings.maxSlides=c.settings.minSlides),u.data("origStyle",u.attr("style")),u.children(c.settings.slideSelector).each(function(){F(this).data("origStyle",F(this).attr("style"))}),t()},t=function(){u.wrap('<div class="'+c.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),c.viewport=u.parent(),c.loader=F('<div class="bx-loading" />'),c.viewport.prepend(c.loader),u.css({width:"horizontal"==c.settings.mode?100*c.children.length+215+"%":"auto",position:"relative"}),c.usingCSS&&c.settings.easing?u.css("-"+c.cssPrefix+"-transition-timing-function",c.settings.easing):c.settings.easing||(c.settings.easing="swing");h();c.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),c.viewport.parent().css({maxWidth:l()}),c.settings.pager||c.viewport.parent().css({margin:"0 auto 0px"}),c.children.css({float:"horizontal"==c.settings.mode?"left":"none",listStyle:"none",position:"relative"}),c.children.css("width",p()),"horizontal"==c.settings.mode&&0<c.settings.slideMargin&&c.children.css("marginRight",c.settings.slideMargin),"vertical"==c.settings.mode&&0<c.settings.slideMargin&&c.children.css("marginBottom",c.settings.slideMargin),"fade"==c.settings.mode&&(c.children.css({position:"absolute",zIndex:0,display:"none"}),c.children.eq(c.settings.startSlide).css({zIndex:c.settings.slideZIndex,display:"block"})),c.controls.el=F('<div class="bx-controls" />'),c.settings.captions&&k(),c.active.last=c.settings.startSlide==f()-1,c.settings.video&&u.fitVids();var t=c.children.eq(c.settings.startSlide);"all"==c.settings.preloadImages&&(t=c.children),c.settings.ticker?c.settings.pager=!1:(c.settings.pager&&y(),c.settings.controls&&x(),c.settings.auto&&c.settings.autoControls&&w(),(c.settings.controls||c.settings.autoControls||c.settings.pager)&&c.viewport.after(c.controls.el)),a(t,s)},a=function(t,e){var n=t.find("img, iframe").length;if(0!=n){var i=0;t.find("img, iframe").each(function(){F(this).one("load",function(){++i==n&&e()}).each(function(){this.complete&&F(this).load()})})}else e()},s=function(){if(c.settings.infiniteLoop&&"fade"!=c.settings.mode&&!c.settings.ticker){var t="vertical"==c.settings.mode?c.settings.minSlides:c.settings.maxSlides,e=c.children.slice(0,t).clone().addClass("bx-clone"),n=c.children.slice(-t).clone().addClass("bx-clone");u.append(e).prepend(n)}c.loader.remove(),v(),"vertical"==c.settings.mode&&(c.settings.adaptiveHeight=!0),c.viewport.height(d()),u.redrawSlider(),c.settings.onSliderLoad(c.active.index),c.initialized=!0,c.settings.responsive&&F(window).bind("resize",W),c.settings.auto&&c.settings.autoStart&&(1<f()||c.settings.autoSlideForOnePage)&&O(),c.settings.ticker&&P(),c.settings.pager&&_(c.settings.startSlide),c.settings.controls&&D(),c.settings.touchEnabled&&!c.settings.ticker&&z()},d=function(){var e=0,t=F();if("vertical"==c.settings.mode||c.settings.adaptiveHeight)if(c.carousel){var n=1==c.settings.moveSlides?c.active.index:c.active.index*g();for(t=c.children.eq(n),i=1;i<=c.settings.maxSlides-1;i++)t=n+i>=c.children.length?t.add(c.children.eq(i-1)):t.add(c.children.eq(n+i))}else t=c.children.eq(c.active.index);else t=c.children;return"vertical"==c.settings.mode?(t.each(function(t){e+=F(this).outerHeight()}),0<c.settings.slideMargin&&(e+=c.settings.slideMargin*(c.settings.minSlides-1))):e=Math.max.apply(Math,t.map(function(){return F(this).outerHeight(!1)}).get()),"border-box"==c.viewport.css("box-sizing")?e+=parseFloat(c.viewport.css("padding-top"))+parseFloat(c.viewport.css("padding-bottom"))+parseFloat(c.viewport.css("border-top-width"))+parseFloat(c.viewport.css("border-bottom-width")):"padding-box"==c.viewport.css("box-sizing")&&(e+=parseFloat(c.viewport.css("padding-top"))+parseFloat(c.viewport.css("padding-bottom"))),e},l=function(){var t="100%";return 0<c.settings.slideWidth&&(t="horizontal"==c.settings.mode?c.settings.maxSlides*c.settings.slideWidth+(c.settings.maxSlides-1)*c.settings.slideMargin:c.settings.slideWidth),t},p=function(){var t=c.settings.slideWidth,e=c.viewport.width();return 0==c.settings.slideWidth||c.settings.slideWidth>e&&!c.carousel||"vertical"==c.settings.mode?t=e:1<c.settings.maxSlides&&"horizontal"==c.settings.mode&&(e>c.maxThreshold||e<c.minThreshold&&(t=(e-c.settings.slideMargin*(c.settings.minSlides-1))/c.settings.minSlides)),t},h=function(){var t=1;if("horizontal"==c.settings.mode&&0<c.settings.slideWidth)if(c.viewport.width()<c.minThreshold)t=c.settings.minSlides;else if(c.viewport.width()>c.maxThreshold)t=c.settings.maxSlides;else{var e=c.children.first().width()+c.settings.slideMargin;t=Math.floor((c.viewport.width()+c.settings.slideMargin)/e)}else"vertical"==c.settings.mode&&(t=c.settings.minSlides);return t},f=function(){var t=0;if(0<c.settings.moveSlides)if(c.settings.infiniteLoop)t=Math.ceil(c.children.length/g());else for(var e=0,n=0;e<c.children.length;)++t,e=n+h(),n+=c.settings.moveSlides<=h()?c.settings.moveSlides:h();else t=Math.ceil(c.children.length/h());return t},g=function(){return 0<c.settings.moveSlides&&c.settings.moveSlides<=h()?c.settings.moveSlides:h()},v=function(){if(c.children.length>c.settings.maxSlides&&c.active.last&&!c.settings.infiniteLoop){if("horizontal"==c.settings.mode){var t=c.children.last(),e=t.position();m(-(e.left-(c.viewport.width()-t.outerWidth())),"reset",0)}else if("vertical"==c.settings.mode){var n=c.children.length-c.settings.minSlides;e=c.children.eq(n).position();m(-e.top,"reset",0)}}else{e=c.children.eq(c.active.index*g()).position();c.active.index==f()-1&&(c.active.last=!0),null!=e&&("horizontal"==c.settings.mode?m(-e.left,"reset",0):"vertical"==c.settings.mode&&m(-e.top,"reset",0))}},m=function(t,e,n,i){if(c.usingCSS){var r="vertical"==c.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)";u.css("-"+c.cssPrefix+"-transition-duration",n/1e3+"s"),"slide"==e?(u.css(c.animProp,r),u.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){u.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),A()})):"reset"==e?u.css(c.animProp,r):"ticker"==e&&(u.css("-"+c.cssPrefix+"-transition-timing-function","linear"),u.css(c.animProp,r),u.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){u.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),m(i.resetValue,"reset",0),I()}))}else{var o={};o[c.animProp]=t,"slide"==e?u.animate(o,n,c.settings.easing,function(){A()}):"reset"==e?u.css(c.animProp,t):"ticker"==e&&u.animate(o,speed,"linear",function(){m(i.resetValue,"reset",0),I()})}},b=function(){for(var t="",e=f(),n=0;n<e;n++){var i="";c.settings.buildPager&&F.isFunction(c.settings.buildPager)?(i=c.settings.buildPager(n),c.pagerEl.addClass("bx-custom-pager")):(i=n+1,c.pagerEl.addClass("bx-default-pager")),t+='<div class="bx-pager-item"><a href="" data-slide-index="'+n+'" class="bx-pager-link">'+i+"</a></div>"}c.pagerEl.html(t)},y=function(){c.settings.pagerCustom?c.pagerEl=F(c.settings.pagerCustom):(c.pagerEl=F('<div class="bx-pager" />'),c.settings.pagerSelector?F(c.settings.pagerSelector).html(c.pagerEl):c.controls.el.addClass("bx-has-pager").append(c.pagerEl),b()),c.pagerEl.on("click","a",T)},x=function(){c.controls.next=F('<a class="bx-next" href="">'+c.settings.nextText+"</a>"),c.controls.prev=F('<a class="bx-prev" href="">'+c.settings.prevText+"</a>"),c.controls.next.bind("click",$),c.controls.prev.bind("click",S),c.settings.nextSelector&&F(c.settings.nextSelector).append(c.controls.next),c.settings.prevSelector&&F(c.settings.prevSelector).append(c.controls.prev),c.settings.nextSelector||c.settings.prevSelector||(c.controls.directionEl=F('<div class="bx-controls-direction" />'),c.controls.directionEl.append(c.controls.prev).append(c.controls.next),c.controls.el.addClass("bx-has-controls-direction").append(c.controls.directionEl))},w=function(){c.controls.start=F('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+c.settings.startText+"</a></div>"),c.controls.stop=F('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+c.settings.stopText+"</a></div>"),c.controls.autoEl=F('<div class="bx-controls-auto" />'),c.controls.autoEl.on("click",".bx-start",C),c.controls.autoEl.on("click",".bx-stop",M),c.settings.autoControlsCombine?c.controls.autoEl.append(c.controls.start):c.controls.autoEl.append(c.controls.start).append(c.controls.stop),c.settings.autoControlsSelector?F(c.settings.autoControlsSelector).html(c.controls.autoEl):c.controls.el.addClass("bx-has-controls-auto").append(c.controls.autoEl),E(c.settings.autoStart?"stop":"start")},k=function(){c.children.each(function(t){var e=F(this).find("img:first").attr("title");null!=e&&(""+e).length&&F(this).append('<div class="bx-caption"><span>'+e+"</span></div>")})},$=function(t){c.settings.auto&&u.stopAuto(),u.goToNextSlide(),t.preventDefault()},S=function(t){c.settings.auto&&u.stopAuto(),u.goToPrevSlide(),t.preventDefault()},C=function(t){u.startAuto(),t.preventDefault()},M=function(t){u.stopAuto(),t.preventDefault()},T=function(t){c.settings.auto&&u.stopAuto();var e=F(t.currentTarget);if(void 0!==e.attr("data-slide-index")){var n=parseInt(e.attr("data-slide-index"));n!=c.active.index&&u.goToSlide(n),t.preventDefault()}},_=function(n){var t=c.children.length;if("short"==c.settings.pagerType)return 1<c.settings.maxSlides&&(t=Math.ceil(c.children.length/c.settings.maxSlides)),void c.pagerEl.html(n+1+c.settings.pagerShortSeparator+t);c.pagerEl.find("a").removeClass("active"),c.pagerEl.each(function(t,e){F(e).find("a").eq(n).addClass("active")})},A=function(){if(c.settings.infiniteLoop){var t="";0==c.active.index?t=c.children.eq(0).position():c.active.index==f()-1&&c.carousel?t=c.children.eq((f()-1)*g()).position():c.active.index==c.children.length-1&&(t=c.children.eq(c.children.length-1).position()),t&&("horizontal"==c.settings.mode?m(-t.left,"reset",0):"vertical"==c.settings.mode&&m(-t.top,"reset",0))}c.working=!1,c.settings.onSlideAfter(c.children.eq(c.active.index),c.oldIndex,c.active.index)},E=function(t){c.settings.autoControlsCombine?c.controls.autoEl.html(c.controls[t]):(c.controls.autoEl.find("a").removeClass("active"),c.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},D=function(){1==f()?(c.controls.prev.addClass("disabled"),c.controls.next.addClass("disabled")):!c.settings.infiniteLoop&&c.settings.hideControlOnEnd&&(0==c.active.index?(c.controls.prev.addClass("disabled"),c.controls.next.removeClass("disabled")):c.active.index==f()-1?(c.controls.next.addClass("disabled"),c.controls.prev.removeClass("disabled")):(c.controls.prev.removeClass("disabled"),c.controls.next.removeClass("disabled")))},O=function(){if(0<c.settings.autoDelay)setTimeout(u.startAuto,c.settings.autoDelay);else u.startAuto();c.settings.autoHover&&u.hover(function(){c.interval&&(u.stopAuto(!0),c.autoPaused=!0)},function(){c.autoPaused&&(u.startAuto(!0),c.autoPaused=null)})},P=function(){var t=0;if("next"==c.settings.autoDirection)u.append(c.children.clone().addClass("bx-clone"));else{u.prepend(c.children.clone().addClass("bx-clone"));var e=c.children.first().position();t="horizontal"==c.settings.mode?-e.left:-e.top}m(t,"reset",0),c.settings.pager=!1,c.settings.controls=!1,c.settings.autoControls=!1,c.settings.tickerHover&&!c.usingCSS&&c.viewport.hover(function(){u.stop()},function(){var e=0;c.children.each(function(t){e+="horizontal"==c.settings.mode?F(this).outerWidth(!0):F(this).outerHeight(!0)});var t=c.settings.speed/e,n="horizontal"==c.settings.mode?"left":"top",i=t*(e-Math.abs(parseInt(u.css(n))));I(i)}),I()},I=function(t){speed=t||c.settings.speed;var e={left:0,top:0},n={left:0,top:0};"next"==c.settings.autoDirection?e=u.find(".bx-clone").first().position():n=c.children.first().position();var i="horizontal"==c.settings.mode?-e.left:-e.top,r="horizontal"==c.settings.mode?-n.left:-n.top;m(i,"ticker",speed,{resetValue:r})},z=function(){c.touch={start:{x:0,y:0},end:{x:0,y:0}},c.viewport.bind("touchstart",N)},N=function(t){if(c.working)t.preventDefault();else{c.touch.originalPos=u.position();var e=t.originalEvent;c.touch.start.x=e.changedTouches[0].pageX,c.touch.start.y=e.changedTouches[0].pageY,c.viewport.bind("touchmove",L),c.viewport.bind("touchend",H)}},L=function(t){var e=t.originalEvent,n=Math.abs(e.changedTouches[0].pageX-c.touch.start.x),i=Math.abs(e.changedTouches[0].pageY-c.touch.start.y);if(i<3*n&&c.settings.preventDefaultSwipeX?t.preventDefault():n<3*i&&c.settings.preventDefaultSwipeY&&t.preventDefault(),"fade"!=c.settings.mode&&c.settings.oneToOneTouch){var r=0;if("horizontal"==c.settings.mode){var o=e.changedTouches[0].pageX-c.touch.start.x;r=c.touch.originalPos.left+o}else{o=e.changedTouches[0].pageY-c.touch.start.y;r=c.touch.originalPos.top+o}m(r,"reset",0)}},H=function(t){c.viewport.unbind("touchmove",L);var e=t.originalEvent,n=0;if(c.touch.end.x=e.changedTouches[0].pageX,c.touch.end.y=e.changedTouches[0].pageY,"fade"==c.settings.mode){(i=Math.abs(c.touch.start.x-c.touch.end.x))>=c.settings.swipeThreshold&&(c.touch.start.x>c.touch.end.x?u.goToNextSlide():u.goToPrevSlide(),u.stopAuto())}else{var i=0;n="horizontal"==c.settings.mode?(i=c.touch.end.x-c.touch.start.x,c.touch.originalPos.left):(i=c.touch.end.y-c.touch.start.y,c.touch.originalPos.top),!c.settings.infiniteLoop&&(0==c.active.index&&0<i||c.active.last&&i<0)?m(n,"reset",200):Math.abs(i)>=c.settings.swipeThreshold?(i<0?u.goToNextSlide():u.goToPrevSlide(),u.stopAuto()):m(n,"reset",200)}c.viewport.unbind("touchend",H)},W=function(t){if(c.initialized){var e=F(window).width(),n=F(window).height();r==e&&o==n||(r=e,o=n,u.redrawSlider(),c.settings.onSliderResize.call(u,c.active.index))}};return u.goToSlide=function(t,e){if(!c.working&&c.active.index!=t)if(c.working=!0,c.oldIndex=c.active.index,t<0?c.active.index=f()-1:t>=f()?c.active.index=0:c.active.index=t,c.settings.onSlideBefore(c.children.eq(c.active.index),c.oldIndex,c.active.index),"next"==e?c.settings.onSlideNext(c.children.eq(c.active.index),c.oldIndex,c.active.index):"prev"==e&&c.settings.onSlidePrev(c.children.eq(c.active.index),c.oldIndex,c.active.index),c.active.last=c.active.index>=f()-1,c.settings.pager&&_(c.active.index),c.settings.controls&&D(),"fade"==c.settings.mode)c.settings.adaptiveHeight&&c.viewport.height()!=d()&&c.viewport.animate({height:d()},c.settings.adaptiveHeightSpeed),c.children.filter(":visible").fadeOut(c.settings.speed).css({zIndex:0}),c.children.eq(c.active.index).css("zIndex",c.settings.slideZIndex+1).fadeIn(c.settings.speed,function(){F(this).css("zIndex",c.settings.slideZIndex),A()});else{c.settings.adaptiveHeight&&c.viewport.height()!=d()&&c.viewport.animate({height:d()},c.settings.adaptiveHeightSpeed);var n=0,i={left:0,top:0};if(!c.settings.infiniteLoop&&c.carousel&&c.active.last)if("horizontal"==c.settings.mode){i=(o=c.children.eq(c.children.length-1)).position(),n=c.viewport.width()-o.outerWidth()}else{var r=c.children.length-c.settings.minSlides;i=c.children.eq(r).position()}else if(c.carousel&&c.active.last&&"prev"==e){var o,a=1==c.settings.moveSlides?c.settings.maxSlides-g():(f()-1)*g()-(c.children.length-c.settings.maxSlides);i=(o=u.children(".bx-clone").eq(a)).position()}else if("next"==e&&0==c.active.index)i=u.find("> .bx-clone").eq(c.settings.maxSlides).position(),c.active.last=!1;else if(0<=t){var s=t*g();i=c.children.eq(s).position()}if(void 0!==i){var l="horizontal"==c.settings.mode?-(i.left-n):-i.top;m(l,"slide",c.settings.speed)}}},u.goToNextSlide=function(){if(c.settings.infiniteLoop||!c.active.last){var t=parseInt(c.active.index)+1;u.goToSlide(t,"next")}},u.goToPrevSlide=function(){if(c.settings.infiniteLoop||0!=c.active.index){var t=parseInt(c.active.index)-1;u.goToSlide(t,"prev")}},u.startAuto=function(t){c.interval||(c.interval=setInterval(function(){"next"==c.settings.autoDirection?u.goToNextSlide():u.goToPrevSlide()},c.settings.pause),c.settings.autoControls&&1!=t&&E("stop"))},u.stopAuto=function(t){c.interval&&(clearInterval(c.interval),c.interval=null,c.settings.autoControls&&1!=t&&E("start"))},u.getCurrentSlide=function(){return c.active.index},u.getCurrentSlideElement=function(){return c.children.eq(c.active.index)},u.getSlideCount=function(){return c.children.length},u.redrawSlider=function(){c.children.add(u.find(".bx-clone")).width(p()),c.viewport.css("height",d()),c.settings.ticker||v(),c.active.last&&(c.active.index=f()-1),c.active.index>=f()&&(c.active.last=!0),c.settings.pager&&!c.settings.pagerCustom&&(b(),_(c.active.index))},u.destroySlider=function(){c.initialized&&(c.initialized=!1,F(".bx-clone",this).remove(),c.children.each(function(){null!=F(this).data("origStyle")?F(this).attr("style",F(this).data("origStyle")):F(this).removeAttr("style")}),null!=F(this).data("origStyle")?this.attr("style",F(this).data("origStyle")):F(this).removeAttr("style"),F(this).unwrap().unwrap(),c.controls.el&&c.controls.el.remove(),c.controls.next&&c.controls.next.remove(),c.controls.prev&&c.controls.prev.remove(),c.pagerEl&&c.settings.controls&&c.pagerEl.remove(),F(".bx-caption",this).remove(),c.controls.autoEl&&c.controls.autoEl.remove(),clearInterval(c.interval),c.settings.responsive&&F(window).unbind("resize",W))},u.reloadSlider=function(t){null!=t&&(e=t),u.destroySlider(),n()},n(),this}}(jQuery),function(c){"use strict";var t="socialshare",u=["facebook","facebook-messenger","twitter","linkedin","google","pinterest","tumblr","reddit","stumbleupon","buffer","digg","delicious","vk","pocket","wordpress","flipboard","xing","hackernews","evernote","whatsapp","telegram","viber","skype","email","ok"],n=function(t,e){var n;e.socialshareType&&"feed"===e.socialshareType?(n="https://www.facebook.com/dialog/feed?",e.socialshareVia&&(n+="&app_id="+encodeURIComponent(e.socialshareVia)),e.socialshareRedirectUri&&(n+="&redirect_uri="+encodeURIComponent(e.socialshareRedirectUri)),e.socialshareUrl&&(n+="&link="+encodeURIComponent(e.socialshareUrl)),e.socialshareTo&&(n+="&to="+encodeURIComponent(e.socialshareTo)),e.socialshareDisplay&&(n+="&display="+encodeURIComponent(e.socialshareDisplay)),e.socialshareRef&&(n+="&ref="+encodeURIComponent(e.socialshareRef)),e.socialshareFrom&&(n+="&from="+encodeURIComponent(e.socialshareFrom)),e.socialshareDescription&&(n+="&description="+encodeURIComponent(e.socialshareDescription)),e.socialshareText&&(n+="&name="+encodeURIComponent(e.socialshareText)),e.socialshareCaption&&(n+="&caption="+encodeURIComponent(e.socialshareCaption)),e.socialshareMedia&&(n+="&picture="+encodeURIComponent(e.socialshareMedia)),e.socialshareSource&&(n+="&source="+encodeURIComponent(e.socialshareSource)),t.open(n,"Facebook","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)):e.socialshareType&&"send"===e.socialshareType?(n="https://www.facebook.com/dialog/send?",e.socialshareVia&&(n+="&app_id="+encodeURIComponent(e.socialshareVia)),e.socialshareRedirectUri&&(n+="&redirect_uri="+encodeURIComponent(e.socialshareRedirectUri)),e.socialshareUrl&&(n+="&link="+encodeURIComponent(e.socialshareUrl)),e.socialshareTo&&(n+="&to="+encodeURIComponent(e.socialshareTo)),e.socialshareDisplay&&(n+="&display="+encodeURIComponent(e.socialshareDisplay)),e.socialshareRef&&(n+="&ref="+encodeURIComponent(e.socialshareRef)),t.open(n,"Facebook","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)):t.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e.socialshareUrl||t.location.href),"Facebook","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},i=function(t,e){var n="mailto:";e.socialshareTo&&(n+=encodeURIComponent(e.socialshareTo)),n+="?",e.socialshareBody&&(n+="body="+e.socialshareBody),e.socialshareSubject&&(n+="&subject="+encodeURIComponent(e.socialshareSubject)),e.socialshareCc&&(n+="&cc="+encodeURIComponent(e.socialshareCc)),e.socialshareBcc&&(n+="&bcc="+encodeURIComponent(e.socialshareBcc)),t.open(n,"_self")},r=function(t,e){var n="https://www.twitter.com/intent/tweet?";e.socialshareText&&(n+="text="+encodeURIComponent(e.socialshareText)),e.socialshareVia&&(n+="&via="+encodeURIComponent(e.socialshareVia)),e.socialshareHashtags&&(n+="&hashtags="+encodeURIComponent(e.socialshareHashtags)),n+="&url="+encodeURIComponent(e.socialshareUrl||t.location.href),t.open(n,"Twitter","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},o=function(t,e){t.open("https://plus.google.com/share?url="+encodeURIComponent(e.socialshareUrl||t.location.href),"Google+","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},a=function(t,e){var n="https://www.reddit.com/";e.socialshareSubreddit?n+="r/"+e.socialshareSubreddit+"/submit?url=":n+="submit?url=",e.socialsharePopupWidth<900&&(e.socialsharePopupWidth=900),e.socialsharePopupHeight<650&&(e.socialsharePopupHeight=650),t.open(n+encodeURIComponent(e.socialshareUrl||t.location.href)+"&title="+encodeURIComponent(e.socialshareText),"Reddit","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},s=function(t,e){t.open("https://www.stumbleupon.com/submit?url="+encodeURIComponent(e.socialshareUrl||t.location.href)+"&title="+encodeURIComponent(e.socialshareText),"StumbleUpon","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},l=function(t,e){var n="https://www.linkedin.com/shareArticle?mini=true";n+="&url="+encodeURIComponent(e.socialshareUrl||t.location.href),e.socialshareText&&(n+="&title="+encodeURIComponent(e.socialshareText)),e.socialshareDescription&&(n+="&summary="+encodeURIComponent(e.socialshareDescription)),e.socialshareSource&&(n+="&source="+encodeURIComponent(e.socialshareSource)),t.open(n,"Linkedin","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},d=function(t,e){t.open("https://www.pinterest.com/pin/create/button/?url="+encodeURIComponent(e.socialshareUrl||t.location.href)+"&media="+encodeURIComponent(e.socialshareMedia)+"&description="+encodeURIComponent(e.socialshareText),"Pinterest","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},p=function(t,e){t.open("https://www.digg.com/submit?url="+encodeURIComponent(e.socialshareUrl||t.location.href)+"&title="+encodeURIComponent(e.socialshareText),"Digg","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},h=function(t,e){if(e.socialshareMedia){var n="https://www.tumblr.com/share/photo?source="+encodeURIComponent(e.socialshareMedia);e.socialshareText&&(n+="&caption="+encodeURIComponent(e.socialshareText)),t.open(n,"Tumblr","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)}else t.open("https://www.tumblr.com/share/link?url="+encodeURIComponent(e.socialshareUrl||t.location.href)+"&description="+encodeURIComponent(e.socialshareText),"Tumblr","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},f=function(t,e){var n="https://www.vk.com/share.php?url="+encodeURIComponent(e.socialshareUrl||t.location.href);e.socialshareText&&(n+="&title="+encodeURIComponent(e.socialshareText)),e.socialshareMedia&&(n+="&image="+encodeURIComponent(e.socialshareMedia)),e.socialshareDescription&&(n+="&description="+encodeURIComponent(e.socialshareDescription)),t.open(n,"Vk","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},g=function(t,e){t.open("http://www.odnoklassniki.ru/dk?st.cmd=addShare&st.s=1&st._surl="+encodeURIComponent(e.socialshareUrl||t.location.href)+"&st.comments="+encodeURIComponent(e.socialshareText),"Ok","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},v=function(t,e){t.open("https://www.delicious.com/save?v=5&noui&jump=close&url="+encodeURIComponent(e.socialshareUrl||t.location.href)+"&title="+encodeURIComponent(e.socialshareText),"Delicious","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},m=function(t,e){var n="https://bufferapp.com/add?";e.socialshareText&&(n+="text="+encodeURIComponent(e.socialshareText)),e.socialshareVia&&(n+="&via="+encodeURIComponent(e.socialshareVia)),n+="&url="+encodeURIComponent(e.socialshareUrl||t.location.href),t.open(n,"Buffer","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},b=function(t,e){var n="https://news.ycombinator.com/submitlink?";e.socialshareText&&(n+="t="+encodeURIComponent(e.socialshareText)+"&"),n+="u="+encodeURIComponent(e.socialshareUrl||t.location.href),t.open(n,"Hackernews","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},y=function(t,e){var n="https://share.flipboard.com/bookmarklet/popout?v=2&";e.socialshareText&&(n+="title="+encodeURIComponent(e.socialshareText)+"&"),n+="url="+encodeURIComponent(e.socialshareUrl||t.location.href),t.open(n,"Flipboard","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},x=function(t,e){var n="https://getpocket.com/save?";e.socialshareText&&(n+="text="+encodeURIComponent(e.socialshareText)+"&"),n+="url="+encodeURIComponent(e.socialshareUrl||t.location.href),t.open(n,"Pocket","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},w=function(t,e){var n="http://wordpress.com/press-this.php?";e.socialshareText&&(n+="t="+encodeURIComponent(e.socialshareText)+"&"),e.socialshareMedia&&(n+="i="+encodeURIComponent(e.socialshareMedia)+"&"),n+="u="+encodeURIComponent(e.socialshareUrl||t.location.href),t.open(n,"Wordpress","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},k=function(t,e){var n="";e.socialshareFollow&&(n="&follow_url="+encodeURIComponent(e.socialshareFollow)),t.open("https://www.xing.com/spi/shares/new?url="+encodeURIComponent(e.socialshareUrl||t.location.href)+n,"Xing","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},$=function(t,e){var n="http://www.evernote.com/clip.action?url="+encodeURIComponent(e.socialshareUrl||t.location.href);e.socialshareText&&(n+="&title="+encodeURIComponent(e.socialshareText)),t.open(n,"Evernote","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},S=function(t,e){var n="https://telegram.me/share/url?url="+encodeURIComponent(e.socialshareUrl||t.location.href);e.socialshareText&&(n+="&text="+encodeURIComponent(e.socialshareText)),t.open(n,"Telegram","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},C=function(t,e){var n="https://web.skype.com/share?source=button&url="+encodeURIComponent(e.socialshareUrl||t.location.href);e.socialshareText&&(n+="&text="+encodeURIComponent(e.socialshareText)),t.open(n,"Skype","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},e=["$window",function(e){this.emailShare=i,this.facebookShare=n,this.twitterShare=r,this.stumbleuponShare=s,this.pinterestShare=d,this.googleShare=o,this.bufferShare=m,this.hackernewsShare=b,this.okShare=g,this.deliciousShare=v,this.pocketShare=x,this.vkShare=f,this.flipboardShare=y,this.xingShare=k,this.diggShare=p,this.linkedinShare=l,this.wordpressShare=w,this.telegramShare=S,this.redditShare=a,this.evernoteShare=$,this.tumblrShare=h,this.skypeShare=C,this.share=function(t){switch(t.provider){case"email":this.emailShare(e,t.attrs);break;case"facebook":this.facebookShare(e,t.attrs);break;case"twitter":this.twitterShare(e,t.attrs);break;case"pinterest":this.pinterestShare(e,t.attrs);break;case"ok":this.okShare(e,t.attrs);break;case"vk":this.vkShare(e,t.attrs);break;case"delicious":this.deliciousShare(e,t.attrs);break;case"digg":this.diggShare(e,t.attrs);break;case"google+":this.googleShare(e,t.attrs);break;case"reddit":this.redditShare(e,t.attrs);break;case"hackernews":this.hackernewsShare(e,t.attrs);break;case"skype":this.skypeShare(e,t.attrs);break;case"evernote":this.evernoteShare(e,t.attrs);break;case"pocket":this.pocketShare(e,t.attrs);break;case"tumblr":this.tumblrShare(e,t.attrs);break;case"telegram":this.telegramShare(e,t.attrs);break;case"xing":this.xingShare(e,t.attrs);break;case"buffer":this.bufferShare(e,t.attrs);break;case"stumbleupon":this.stumbleuponShare(e,t.attrs);break;case"linkedin":this.linkedinShare(e,t.attrs);break;case"wordpress":this.wordpressShare(e,t.attrs);break;case"flipboard":this.flipboardShare(e,t.attrs);break;default:return}}}],M=["$window","socialshareConf","Socialshare","$log",function(a,s,l){return{restrict:"A",link:function(t,e,n){for(var i,r=0,o=function(){if(!(n.socialshareProvider in T))return!0;T[n.socialshareProvider](a,n,e)};r<s.length;r+=1)if(s[r].provider===n.socialshareProvider){i=s[r];break}-1===u.indexOf(i.provider)&&l.warn("Invalid Provider Name : "+n.socialshareProvider),n.socialshareUrl=n.socialshareUrl||i.conf.url,n.socialshareText=n.socialshareText||i.conf.text,n.socialshareMedia=n.socialshareMedia||i.conf.media,n.socialshareType=n.socialshareType||i.conf.type,n.socialshareVia=n.socialshareVia||i.conf.via,n.socialshareTo=n.socialshareTo||i.conf.to,n.socialshareFrom=n.socialshareFrom||i.conf.from,n.socialshareRef=n.socialshareRef||i.conf.ref,n.socialshareDislay=n.socialshareDislay||i.conf.display,n.socialshareSource=n.socialshareSource||i.conf.source,n.socialshareCaption=n.socialshareCaption||i.conf.caption,n.socialshareRedirectUri=n.socialshareRedirectUri||i.conf.redirectUri,n.socialshareTrigger=n.socialshareTrigger||i.conf.trigger,n.socialsharePopupHeight=n.socialsharePopupHeight||i.conf.popupHeight,n.socialsharePopupWidth=n.socialsharePopupWidth||i.conf.popupWidth,n.socialshareSubreddit=n.socialshareSubreddit||i.conf.subreddit,n.socialshareDescription=n.socialshareDescription||i.conf.description,n.socialshareFollow=n.socialshareFollow||i.conf.follow,n.socialshareHashtags=n.socialshareHashtags||i.conf.hashtags,n.socialshareBody=n.socialshareBody||i.conf.body,n.socialshareSubject=n.socialshareSubject||i.conf.subject,n.socialshareCc=n.socialshareCc||i.conf.cc,n.socialshareBcc=n.socialshareBcc||i.conf.bcc,n.socialshareTrigger?e.bind(n.socialshareTrigger,o):o()}}}],T={email:i,facebook:n,"facebook-messenger":function(t,e,n){var i="fb-messenger://share?link="+encodeURIComponent(e.socialshareUrl||t.location.href);n.attr("href",i)},twitter:r,google:o,reddit:a,stumbleupon:s,linkedin:l,pinterest:d,digg:p,tumblr:h,vk:f,ok:g,delicious:v,buffer:m,hackernews:b,flipboard:y,pocket:x,wordpress:w,xing:k,evernote:$,whatsapp:function(t,e,n){var i="whatsapp://send?text="+encodeURIComponent(e.socialshareText+" ")+encodeURIComponent(e.socialshareUrl||t.location.href);n.attr("href",i)},telegram:S,viber:function(t,e,n){var i="viber://forward?text="+encodeURIComponent(e.socialshareText+" ")+encodeURIComponent(e.socialshareUrl||t.location.href);n.attr("href",i)},skype:C};c.module("720kb.socialshare",[]).provider(t+"Conf",function(){var l=[{provider:"email",conf:{subject:"",body:"",to:"",cc:"",bcc:"",trigger:"click"}},{provider:"facebook",conf:{url:"",text:"",media:"",type:"",via:"",to:"",from:"",ref:"",display:"",source:"",caption:"",redirectUri:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"facebook-messenger",conf:{url:""}},{provider:"twitter",conf:{url:"",text:"",via:"",hashtags:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"linkedin",conf:{url:"",text:"",description:"",source:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"reddit",conf:{url:"",text:"",subreddit:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"vk",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"ok",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"digg",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"delicious",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"stumbleupon",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"pinterest",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"google",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"tumblr",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"buffer",conf:{url:"",text:"",via:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"pocket",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"flipboard",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"hackernews",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"wordpress",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"xing",conf:{url:"",text:"",media:"",follow:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"evernote",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"whatsapp",conf:{url:"",text:""}},{provider:"telegram",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"viber",conf:{url:"",text:""}},{provider:"skype",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}}];return{configure:function(t){var e,n,i,r,o=0,a=0,s=c.injector(["ng"]).get("$log");if(t&&0<t.length)for(;o<t.length;o+=1)if(t[o].provider&&-1<u.indexOf(t[o].provider)){for(;a<l.length;a+=1)if((r=l[a])&&r.provider&&t[o].provider===r.provider){for(e=Object.keys(r.conf),n=0;n<e.length;n+=1)(i=e[n])&&t[o].conf[i]&&(r.conf[i]=t[o].conf[i]);a=0;break}}else s.warn("Invalid provider at element "+o+" with name:"+t[o].provider)},$get:function(){return l}}}).service("Socialshare",e).directive(t,M)}(angular),function(){"use strict";angular.module("ngtweet",[]).value("ngTweetLogVerbose",!0).value("twitterWidgetURL","https://platform.twitter.com/widgets.js")}(),function(){"use strict";function t(t,e){var n=function(){},i=function(t){return!0===e?t:n};return{log:i(t.log),debug:i(t.debug),info:i(t.info),warn:t.warn,error:t.error}}t.$inject=["$log","ngTweetLogVerbose"],angular.module("ngtweet").factory("ngTweetLogger",t)}(),function(){"use strict";function t(r,o,t){function u(t,e){this.timelineType=t,this.message=e}var d={profile:[["screenName"],["userId"]],likes:[["screenName"],["userId"]],collection:[["id"]],widget:[["id"]],list:[["id"],["ownerScreenName","slug"]],url:[["url"]]};return{restrict:"E",replace:!0,transclude:!0,scope:{id:"=?twitterTimelineId",screenName:"=?twitterTimelineScreenName",sourceType:"@?twitterTimelineType",userId:"=?twitterTimelineUserId",ownerScreenName:"=?twitterTimelineOwnerScreenName",slug:"=?twitterTimelineSlug",url:"=?twitterTimelineUrl"},template:'<div class="ngtweet-wrapper"  ng-transclude></div>',link:function(n,e,i){n.id&&!angular.isString(n.id)&&r.warn("twitterTimelineId should probably be a string due to loss of precision.");try{n.twitterTimelineOptions=JSON.parse(i.twitterTimelineOptions)}catch(t){n.$watch(function(){return n.$parent.$eval(i.twitterTimelineOptions)},function(t,e){n.twitterTimelineOptions=t})}if(angular.isUndefined(n.twitterTimelineOptions)&&(n.twitterTimelineOptions={}),n.sourceType){var t;try{t=function(t){var e={sourceType:t.sourceType};if(!d.hasOwnProperty(t.sourceType))throw new u(t.sourceType,"unknown type");for(var n=d[t.sourceType],i=!1,r=0,o=n.length;r<o;r++){for(var a=n[r],s={},l=0,c=a.length;l<c;l++)t[a[l]]&&(s[a[l]]=t[a[l]]);if(Object.keys(s).length===c){angular.merge(e,s),i=!0;break}}if(!i)throw new u(t.sourceType,"args: "+n.map(function(t){return 1===t.length?'"'+t+'"':'("'+t.join('" AND "')+'")'}).join(" OR "));return e}(n)}catch(t){return void r.error('Could not create new timeline: bad args for type "'+t.timelineType+'". Reason: '+t.message)}o.createTimelineNew(t,e[0],n.twitterTimelineOptions).then(function(t){r.debug("New Timeline Success!!!")}).catch(function(t){r.error("Could not create new timeline: ",t,e)})}else!angular.isUndefined(n.id)||angular.isString(n.screenName)?o.createTimeline(n.id,n.screenName,e[0],n.twitterTimelineOptions).then(function(t){r.debug("Timeline Success!!!")}).catch(function(t){r.error("Could not create timeline: ",t,e)}):o.load(e[0])}}}t.$inject=["ngTweetLogger","TwitterWidgetFactory","$compile"],angular.module("ngtweet").directive("twitterTimeline",t)}(),function(){"use strict";function t(a,s){return{restrict:"E",replace:!0,transclude:!0,scope:{twitterWidgetId:"=",twitterWidgetOnRendered:"&",twitterWidgetOptions:"@"},template:'<div class="ngtweet-wrapper" ng-transclude></div>',link:function(i,r,o){i.$watch("twitterWidgetId",function(t,e){var n=i.$eval(o.twitterWidgetOptions);void 0!==e&&t!==e&&angular.element(r[0]).empty(),angular.isUndefined(i.twitterWidgetId)?s.load(r[0]):(angular.isString(i.twitterWidgetId)||a.warn("twitterWidgetId should probably be a string due to loss of precision."),s.createTweet(i.twitterWidgetId,r[0],n).then(function(t){a.debug("Created tweet widget: ",i.twitterWidgetId,r),i.twitterWidgetOnRendered()}).catch(function(t){a.error("Could not create widget: ",t,r)}))})}}}t.$inject=["ngTweetLogger","TwitterWidgetFactory"],angular.module("ngtweet").directive("twitterWidget",t)}(),function(){"use strict";function t(t,e,o,a,s,l,n){var i;function c(){return angular.isUndefined(i)&&(i=s.defer(),l.twttr=function(t,e,n){var i,r=t.getElementsByTagName("script")[0],o=l.twttr||{};if(!t.getElementById(n))return(i=t.createElement("script")).id=n,i.src=a,r.parentNode.insertBefore(i,r),o._e=[],o.ready=function(t){o._e.push(t)},o}(t[0],0,"twitter-wjs"),l.twttr.ready(function(t){t.events.bind("loaded",u),t.events.bind("rendered",r),i.resolve(t)})),i.promise}function r(t){$(t.target).contents().find(".timeline-Body").css({width:"100%",height:"100%",overflow:"hidden"}),$(t.target).contents().find(".timeline-Viewport").css({width:"100%",height:"300px","overflow-y":"scroll","padding-right":"17px"})}function u(t){t.widgets.forEach(function(t){})}return{createTweet:function(e,n,i){return c().then(function(t){return o.debug("Creating Tweet",t,e,n,i),s.when(t.widgets.createTweet(e,n,i))})},createTimeline:function(e,n,i,r){return c().then(function(t){return o.debug("Creating Timeline",e,n,r,i),angular.isString(n)&&0<n.length&&(r.screenName=n),s.when(t.widgets.createTimeline(e,i,r))})},createTimelineNew:function(e,n,i){return c().then(function(t){return o.debug("Creating new Timeline",e,i,n),s.when(t.widgets.createTimeline(e,n,i))})},initialize:c,load:function(e){c().then(function(t){t.widgets.load(e)}).catch(function(t){o.error("Could not wrap element: ",t,e)})}}}t.$inject=["$document","$http","ngTweetLogger","twitterWidgetURL","$q","$window","$compile"],angular.module("ngtweet").factory("TwitterWidgetFactory",t)}(),function(){"use strict";function t(i,r){return{restrict:"A",replace:!1,scope:!1,link:function(t,e,n){i.debug("Initializing"),r.initialize()}}}t.$inject=["ngTweetLogger","TwitterWidgetFactory"],angular.module("ngtweet").directive("twitterWidgetInitialize",t)}(),function(x,c){"use strict";var w=["ng","oc.lazyLoad"],k={},$=[],S=[],C=[],M=[],T=x.noop,_={},A=[];x.module("oc.lazyLoad",["ng"]).provider("$ocLazyLoad",["$controllerProvider","$provide","$compileProvider","$filterProvider","$injector","$animateProvider",function(t,e,n,i,r,o){var u={},s={$controllerProvider:t,$compileProvider:n,$filterProvider:i,$provide:e,$injector:r,$animateProvider:o},a=!1,d=!1,p=[],h={};p.push=function(t){-1===this.indexOf(t)&&Array.prototype.push.apply(this,arguments)},this.config=function(t){x.isDefined(t.modules)&&(x.isArray(t.modules)?x.forEach(t.modules,function(t){u[t.name]=t}):u[t.modules.name]=t.modules),x.isDefined(t.debug)&&(a=t.debug),x.isDefined(t.events)&&(d=t.events)},this._init=function(i){if(0===S.length){var e=[i],r=["ng:app","ng-app","x-ng-app","data-ng-app"],o=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,n=function(t){return t&&e.push(t)};x.forEach(r,function(t){r[t]=!0,n(document.getElementById(t)),t=t.replace(":","\\:"),void 0!==i[0]&&i[0].querySelectorAll&&(x.forEach(i[0].querySelectorAll("."+t),n),x.forEach(i[0].querySelectorAll("."+t+"\\:"),n),x.forEach(i[0].querySelectorAll("["+t+"]"),n))}),x.forEach(e,function(t){if(0===S.length){var e=" "+i.className+" ",n=o.exec(e);n?S.push((n[2]||"").replace(/\s+/g,",")):x.forEach(t.attributes,function(t){0===S.length&&r[t.name]&&S.push(t.value)})}})}0!==S.length||(c.jasmine||c.mocha)&&x.isDefined(x.mock)||console.error("No module found during bootstrap, unable to init ocLazyLoad. You should always use the ng-app directive or angular.boostrap when you use ocLazyLoad.");x.forEach(S,function(t){!function t(e){if(-1===w.indexOf(e)){w.push(e);var n=x.module(e);m(null,n._invokeQueue,e),m(null,n._configBlocks,e),x.forEach(n.requires,t)}}(t)}),S=[],M.pop()};var f=function(e){try{return JSON.stringify(e)}catch(t){var n=[];return JSON.stringify(e,function(t,e){if(x.isObject(e)&&null!==e){if(-1!==n.indexOf(e))return;n.push(e)}return e})}},l=function(t){var e,n,i=0;if(0==t.length)return i;for(e=0,n=t.length;e<n;e++)i=(i<<5)-i+t.charCodeAt(e),i|=0;return i};function g(t,e,n){if(e){var i,r,o,a=[];for(i=e.length-1;0<=i;i--)if(r=e[i],x.isString(r)||(r=b(r)),r&&-1===A.indexOf(r)&&(!u[r]||-1!==C.indexOf(r))){var s=-1===w.indexOf(r);if(o=D(r),s&&(w.push(r),g(t,o.requires,n)),0<o._runBlocks.length)for(_[r]=[];0<o._runBlocks.length;)_[r].push(o._runBlocks.shift());x.isDefined(_[r])&&(s||n.rerun)&&(a=a.concat(_[r])),m(t,o._invokeQueue,r,n.reconfig),m(t,o._configBlocks,r,n.reconfig),T(s?"ocLazyLoad.moduleLoaded":"ocLazyLoad.moduleReloaded",r),e.pop(),A.push(r)}var l=t.getInstanceInjector();x.forEach(a,function(t){l.invoke(t)})}}function v(t,n){var i=t[2][0],r=t[1],o=!1;x.isUndefined(k[n])&&(k[n]={}),x.isUndefined(k[n][r])&&(k[n][r]={});var a=function(t,e){k[n][r].hasOwnProperty(t)||(k[n][r][t]=[]),function(t,e){var n,i=!0;e.length&&(n=s(t),x.forEach(e,function(t){i=i&&s(t)!==n}));return i}(e,k[n][r][t])&&(o=!0,k[n][r][t].push(e),T("ocLazyLoad.componentLoaded",[n,r,t]))};function s(t){return x.isArray(t)?l(t.toString()):x.isObject(t)?l(f(t)):x.isDefined(t)&&null!==t?l(t.toString()):t}if(x.isString(i))a(i,t[2][1]);else{if(!x.isObject(i))return!1;x.forEach(i,function(t,e){x.isString(t)?a(t,i[1]):a(e,t)})}return o}function m(t,e,n,i){var r,o,a,s;if(e)for(r=0,o=e.length;r<o;r++)if(a=e[r],x.isArray(a)){if(null!==t){if(!t.hasOwnProperty(a[0]))throw new Error("unsupported provider "+a[0]);s=t[a[0]]}var l=v(a,n);if("invoke"!==a[1])l&&x.isDefined(s)&&s[a[1]].apply(s,a[2]);else{var c=function(t){var e=$.indexOf(n+"-"+t);(-1===e||i)&&(-1===e&&$.push(n+"-"+t),x.isDefined(s)&&s[a[1]].apply(s,a[2]))};if(x.isFunction(a[2][0]))c(a[2][0]);else if(x.isArray(a[2][0]))for(var u=0,d=a[2][0].length;u<d;u++)x.isFunction(a[2][0][u])&&c(a[2][0][u])}}}function b(t){var e=null;return x.isString(t)?e=t:x.isObject(t)&&t.hasOwnProperty("name")&&x.isString(t.name)&&(e=t.name),e}function y(t){if(!x.isString(t))return!1;try{return D(t)}catch(t){if(/No module/.test(t)||-1<t.message.indexOf("$injector:nomod"))return!1}}this.$get=["$log","$rootElement","$rootScope","$cacheFactory","$q",function(n,t,i,e,l){var r,o=e("ocLazyLoad");function c(t){var e=l.defer();return n.error(t.message),e.reject(t),e.promise}return a||((n={}).error=x.noop,n.warn=x.noop,n.info=x.noop),s.getInstanceInjector=function(){return r||(r=t.data("$injector")||x.injector())},{_broadcast:T=function(t,e){d&&i.$broadcast(t,e),a&&n.info(t,e)},_$log:n,_getFilesCache:function(){return o},toggleWatch:function(t){t?M.push(!0):M.pop()},getModuleConfig:function(t){if(!x.isString(t))throw new Error("You need to give the name of the module to get");return u[t]?x.copy(u[t]):null},setModuleConfig:function(t){if(!x.isObject(t))throw new Error("You need to give the module config object to set");return u[t.name]=t},getModules:function(){return w},isLoaded:function(t){var e,n;if(x.isString(t)&&(t=[t]),x.isArray(t)){var i,r;for(i=0,r=t.length;i<r;i++)if(e=t[i],n=void 0,(n=-1<w.indexOf(e))||(n=!!y(e)),!n)return!1;return!0}throw new Error("You need to define the module(s) name(s)")},_getModuleName:b,_getModule:function(e){try{return D(e)}catch(t){throw(/No module/.test(t)||-1<t.message.indexOf("$injector:nomod"))&&(t.message='The module "'+f(e)+'" that you are trying to load does not exist. '+t.message),t}},moduleExists:y,_loadDependencies:function(i,r){var t,e,o,a=[],s=this;if(null===(i=s._getModuleName(i)))return l.when();try{t=s._getModule(i)}catch(t){return c(t)}return e=s.getRequires(t),x.forEach(e,function(e){if(x.isString(e)){var t=s.getModuleConfig(e);if(null===t)return void p.push(e);(e=t).name=void 0}if(s.moduleExists(e.name))return 0!==(o=e.files.filter(function(t){return s.getModuleConfig(e.name).files.indexOf(t)<0})).length&&s._$log.warn('Module "',i,'" attempted to redefine configuration for dependency. "',e.name,'"\n Additional Files Loaded:',o),x.isDefined(s.filesLoader)?void a.push(s.filesLoader(e,r).then(function(){return s._loadDependencies(e)})):c(new Error("Error: New dependencies need to be loaded from external files ("+e.files+"), but no loader has been defined."));if(x.isArray(e)){var n=[];x.forEach(e,function(t){var e=s.getModuleConfig(t);null===e?n.push(t):e.files&&(n=n.concat(e.files))}),0<n.length&&(e={files:n})}else x.isObject(e)&&e.hasOwnProperty("name")&&e.name&&(s.setModuleConfig(e),p.push(e.name));if(x.isDefined(e.files)&&0!==e.files.length){if(!x.isDefined(s.filesLoader))return c(new Error('Error: the module "'+e.name+'" is defined in external files ('+e.files+"), but no loader has been defined."));a.push(s.filesLoader(e,r).then(function(){return s._loadDependencies(e)}))}}),l.all(a)},inject:function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],e=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],i=this,r=l.defer();if(x.isDefined(t)&&null!==t){if(x.isArray(t)){var o=[];return x.forEach(t,function(t){o.push(i.inject(t,n,e))}),l.all(o)}i._addToLoadList(i._getModuleName(t),!0,e)}if(0<S.length){var a=S.slice();!function t(e){p.push(e),h[e]=r.promise,i._loadDependencies(e,n).then(function(){try{A=[],g(s,p,n)}catch(t){return i._$log.error(t.message),void r.reject(t)}0<S.length?t(S.shift()):r.resolve(a)},function(t){r.reject(t)})}(S.shift())}else{if(n&&n.name&&h[n.name])return h[n.name];r.resolve()}return r.promise},getRequires:function(t){var e=[];return x.forEach(t.requires,function(t){-1===w.indexOf(t)&&e.push(t)}),e},_invokeQueue:m,_registerInvokeList:v,_register:g,_addToLoadList:E,_unregister:function(t){x.isDefined(t)&&x.isArray(t)&&x.forEach(t,function(t){k[t]=void 0})}}}],this._init(x.element(c.document))}]);var i=x.bootstrap;x.bootstrap=function(t,e,n){return x.forEach(e.slice(),function(t){E(t,!0,!0)}),i(t,e,n)};var E=function(t,e,n){(0<M.length||e)&&x.isString(t)&&-1===S.indexOf(t)&&(S.push(t),n&&C.push(t))},D=x.module;x.module=function(t,e,n){return E(t,!1,!0),D(t,e,n)},"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="oc.lazyLoad")}(angular,window),function(c){"use strict";c.module("oc.lazyLoad").directive("ocLazyLoad",["$ocLazyLoad","$compile","$animate","$parse","$timeout",function(o,a,s,l,t){return{restrict:"A",terminal:!0,priority:1e3,compile:function(t,e){var r=t[0].innerHTML;return t.html(""),function(e,n,t){var i=l(t.ocLazyLoad);e.$watch(function(){return i(e)||t.ocLazyLoad},function(t){c.isDefined(t)&&o.load(t).then(function(){s.enter(r,n),a(n.contents())(e)})},!0)}}}}])}(angular),function($){"use strict";$.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q","$window","$interval",function(m,b,y,x){var w=!1,k=y.document.getElementsByTagName("head")[0]||y.document.getElementsByTagName("body")[0];return m.buildElement=function(t,e,n){var i,r,o=b.defer(),a=m._getFilesCache(),s=function(t){var e=(new Date).getTime();return 0<=t.indexOf("?")?"&"===t.substring(0,t.length-1)?t+"_dc="+e:t+"&_dc="+e:t+"?_dc="+e};switch($.isUndefined(a.get(e))&&a.put(e,o.promise),t){case"css":(i=y.document.createElement("link")).type="text/css",i.rel="stylesheet",i.href=!1===n.cache?s(e):e;break;case"js":(i=y.document.createElement("script")).src=!1===n.cache?s(e):e;break;default:a.remove(e),o.reject(new Error('Requested type "'+t+'" is not known. Could not inject "'+e+'"'))}i.onload=i.onreadystatechange=function(t){i.readyState&&!/^c|loade/.test(i.readyState)||r||(i.onload=i.onreadystatechange=null,r=1,m._broadcast("ocLazyLoad.fileLoaded",e),o.resolve())},i.onerror=function(){a.remove(e),o.reject(new Error("Unable to load "+e))},i.async=n.serie?0:1;var l=k.lastChild;if(n.insertBefore){var c=$.element($.isDefined(window.jQuery)?n.insertBefore:document.querySelector(n.insertBefore));c&&0<c.length&&(l=c[0])}if(l.parentNode.insertBefore(i,l),"css"==t){var u=y.navigator.userAgent.toLowerCase();if(/iP(hone|od|ad)/.test(y.navigator.platform)){var d=y.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),p=parseFloat([parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3]||0,10)].join("."));w=p<6}else if(-1<u.indexOf("android")){var h=parseFloat(u.slice(u.indexOf("android")+8));w=h<4.4}else if(-1<u.indexOf("safari")){var f=u.match(/version\/([\.\d]+)/i);w=f&&f[1]&&parseFloat(f[1])<6}if(w)var g=1e3,v=x(function(){try{i.sheet.cssRules,x.cancel(v),i.onload()}catch(t){--g<=0&&i.onerror()}},20)}return o.promise},m}])}])}(angular),function(v){"use strict";v.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(f,g){return f.filesLoader=function(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=[],o=[],a=[],s=[],l=null,c=f._getFilesCache();f.toggleWatch(!0),v.extend(i,t);var e=function(t){var e,n=null;if(v.isObject(t)&&(n=t.type,t=t.path),l=c.get(t),v.isUndefined(l)||!1===i.cache){if(null!==(e=/^(css|less|html|htm|js)?(?=!)/.exec(t))&&(n=e[1],t=t.substr(e[1].length+1,t.length)),!n)if(null!==(e=/[.](css|less|html|htm|js)?((\?|#).*)?$/.exec(t)))n=e[1];else{if(f.jsLoader.hasOwnProperty("ocLazyLoadLoader")||!f.jsLoader.hasOwnProperty("requirejs"))return void f._$log.error("File type could not be determined. "+t);n="js"}"css"!==n&&"less"!==n||-1!==r.indexOf(t)?"html"!==n&&"htm"!==n||-1!==o.indexOf(t)?"js"===n||-1===a.indexOf(t)?a.push(t):f._$log.error("File type is not valid. "+t):o.push(t):r.push(t)}else l&&s.push(l)};if(i.serie?e(i.files.shift()):v.forEach(i.files,function(t){e(t)}),0<r.length){var n=g.defer();f.cssLoader(r,function(t){v.isDefined(t)&&f.cssLoader.hasOwnProperty("ocLazyLoadLoader")?(f._$log.error(t),n.reject(t)):n.resolve()},i),s.push(n.promise)}if(0<o.length){var u=g.defer();f.templatesLoader(o,function(t){v.isDefined(t)&&f.templatesLoader.hasOwnProperty("ocLazyLoadLoader")?(f._$log.error(t),u.reject(t)):u.resolve()},i),s.push(u.promise)}if(0<a.length){var d=g.defer();f.jsLoader(a,function(t){v.isDefined(t)&&(f.jsLoader.hasOwnProperty("ocLazyLoadLoader")||f.jsLoader.hasOwnProperty("requirejs"))?(f._$log.error(t),d.reject(t)):d.resolve()},i),s.push(d.promise)}if(0!==s.length)return i.serie&&0<i.files.length?g.all(s).then(function(){return f.filesLoader(t,i)}):g.all(s).finally(function(t){return f.toggleWatch(!1),t});var p=g.defer(),h="Error: no file to load has been found, if you're trying to load an existing module you should use the 'inject' method instead of 'load'.";return f._$log.error(h),p.reject(h),p.promise},f.load=function(t){var e,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=this,r=null,o=[],a=g.defer(),s=v.copy(t),l=v.copy(n);if(v.isArray(s))return v.forEach(s,function(t){o.push(i.load(t,l))}),g.all(o).then(function(t){a.resolve(t)},function(t){a.reject(t)}),a.promise;if(v.isString(s)?(r=i.getModuleConfig(s))||(r={files:[s]}):v.isObject(s)&&(r=v.isDefined(s.path)&&v.isDefined(s.type)?{files:[s]}:i.setModuleConfig(s)),null===r)return e='Module "'+(i._getModuleName(s)||"unknown")+'" is not configured, cannot load.',f._$log.error(e),a.reject(new Error(e)),a.promise;v.isDefined(r.template)&&(v.isUndefined(r.files)&&(r.files=[]),v.isString(r.template)?r.files.push(r.template):v.isArray(r.template)&&r.files.concat(r.template));var c=v.extend({},l,r);return v.isUndefined(r.files)&&v.isDefined(r.name)&&f.moduleExists(r.name)?f.inject(r.name,c,!0):(f.filesLoader(r,c).then(function(){f.inject(null,c).then(function(t){a.resolve(t)},function(t){a.reject(t)})},function(t){a.reject(t)}),a.promise)},f}])}])}(angular),function(a){"use strict";a.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(r,o){return r.cssLoader=function(t,e,n){var i=[];a.forEach(t,function(t){i.push(r.buildElement("css",t,n))}),o.all(i).then(function(){e()},function(t){e(t)})},r.cssLoader.ocLazyLoadLoader=!0,r}])}])}(angular),function(a){"use strict";a.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(r,o){return r.jsLoader=function(t,e,n){var i=[];a.forEach(t,function(t){i.push(r.buildElement("js",t,n))}),o.all(i).then(function(){e()},function(t){e(t)})},r.jsLoader.ocLazyLoadLoader=!0,r}])}])}(angular),function(c){"use strict";c.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$templateCache","$q","$http",function(n,a,s,l){return n.templatesLoader=function(t,e,i){var r=[],o=n._getFilesCache();return c.forEach(t,function(e){var n=s.defer();r.push(n.promise),l.get(e,i).success(function(t){c.isString(t)&&0<t.length&&c.forEach(c.element(t),function(t){"SCRIPT"===t.nodeName&&"text/ng-template"===t.type&&a.put(t.id,t.innerHTML)}),c.isUndefined(o.get(e))&&o.put(e,!0),n.resolve()}).error(function(t){n.reject(new Error('Unable to load template file "'+e+'": '+t))})}),s.all(r).then(function(){e()},function(t){e(t)})},n.templatesLoader.ocLazyLoadLoader=!0,n}])}])}(angular),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n;if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),r=i.length>>>0;if(0===r)return-1;var o=+e||0;if(Math.abs(o)===1/0&&(o=0),r<=o)return-1;for(n=Math.max(0<=o?o:r-Math.abs(o),0);n<r;){if(n in i&&i[n]===t)return n;n++}return-1}),function(){"use strict";angular.module("base64",[]).constant("$base64",function(){function a(t,e){var n=s.indexOf(t.charAt(e));if(-1==n)throw"Cannot decode base64";return n}function o(t,e){var n=t.charCodeAt(e);if(255<n)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return n}var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";return{encode:function(t){if(1!=arguments.length)throw"SyntaxError: Not enough arguments";var e,n,i=[],r=(t=""+t).length-t.length%3;if(0==t.length)return t;for(e=0;e<r;e+=3)n=o(t,e)<<16|o(t,e+1)<<8|o(t,e+2),i.push(s.charAt(n>>18)),i.push(s.charAt(63&n>>12)),i.push(s.charAt(63&n>>6)),i.push(s.charAt(63&n));switch(t.length-r){case 1:n=o(t,e)<<16,i.push(s.charAt(n>>18)+s.charAt(63&n>>12)+"==");break;case 2:n=o(t,e)<<16|o(t,e+1)<<8,i.push(s.charAt(n>>18)+s.charAt(63&n>>12)+s.charAt(63&n>>6)+"=")}return i.join("")},decode:function(t){var e,n,i,r=(t=""+t).length;if(0==r)return t;if(0!=r%4)throw"Cannot decode base64";e=0,"="==t.charAt(r-1)&&(e=1,"="==t.charAt(r-2)&&(e=2),r-=4);var o=[];for(n=0;n<r;n+=4)i=a(t,n)<<18|a(t,n+1)<<12|a(t,n+2)<<6|a(t,n+3),o.push(String.fromCharCode(i>>16,255&i>>8,255&i));switch(e){case 1:i=a(t,n)<<18|a(t,n+1)<<12|a(t,n+2)<<6,o.push(String.fromCharCode(i>>16,255&i>>8));break;case 2:i=a(t,n)<<18|a(t,n+1)<<12,o.push(String.fromCharCode(i>>16))}return o.join("")}}}())}(),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(h,f,g,t){var v=t.has("$animateCss")?t.get("$animateCss"):null;return{link:function(e,n,t){function i(t){return u?{width:t.scrollWidth+"px"}:{height:t.scrollHeight+"px"}}function r(){n.removeClass("collapsing").addClass("collapse").css(d),s(e)}function o(){n.css(p),n.removeClass("collapsing").addClass("collapse"),c(e)}var a=g(t.expanding),s=g(t.expanded),l=g(t.collapsing),c=g(t.collapsed),u=!1,d={},p={};p=(u=!!("horizontal"in t))?(d={width:""},{width:"0"}):(d={height:""},{height:"0"}),e.$eval(t.uibCollapse)||n.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(d),e.$watch(t.uibCollapse,function(t){t?n.hasClass("collapse")||n.hasClass("in")?f.resolve(l(e)).then(function(){n.css(i(n[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),v?v(n,{removeClass:"in",to:p}).start().finally(o):h.removeClass(n,"in",{to:p}).then(o)},angular.noop):o():n.hasClass("collapse")&&n.hasClass("in")||f.resolve(a(e)).then(function(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),v?v(n,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:i(n[0])}).start().finally(r):h.addClass(n,"in",{css:{overflow:"hidden"},to:i(n[0])}).then(r)},angular.noop)})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(t,e,n){n.$observe("disabled",function(t){n.$set("tabindex",t?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(t,n,i){this.groups=[],this.closeOthers=function(e){(angular.isDefined(n.closeOthers)?t.$eval(n.closeOthers):i.closeOthers)&&angular.forEach(this.groups,function(t){t!==e&&(t.isOpen=!1)})},this.addGroup=function(e){var n=this;this.groups.push(e),e.$on("$destroy",function(t){n.removeGroup(e)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(e,n,t,i){n.addClass("panel"),i.addGroup(e),e.openClass=t.openClass||"panel-open",e.panelClass=t.panelClass||"panel-default",e.$watch("isOpen",function(t){n.toggleClass(e.openClass,!!t),t&&i.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var r="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=r+"-tab",e.panelId=r+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(t,e,n,i,r){i.setHeading(r(t,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(t,n,e,i){t.$watch(function(){return i[e.uibAccordionTransclude]},function(t){if(t){var e=angular.element(n[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"));e.html(""),e.append(t)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(t,e,n,i,r){t.closeable=!!n.close,e.addClass("alert"),n.$set("role","alert"),t.closeable&&e.addClass("alert-dismissible");var o=angular.isDefined(n.dismissOnTimeout)?i(n.dismissOnTimeout)(t.$parent):null;o&&r(function(){t.close()},parseInt(o,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(t,e){return e.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(s){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(e,n,i,t){var r=t[0],o=t[1],a=s(i.uibUncheckable);n.find("input").css({display:"none"}),o.$render=function(){n.toggleClass(r.activeClass,angular.equals(o.$modelValue,e.$eval(i.uibBtnRadio)))},n.on(r.toggleEvent,function(){if(!i.disabled){var t=n.hasClass(r.activeClass);t&&!angular.isDefined(i.uncheckable)||e.$apply(function(){o.$setViewValue(t?null:e.$eval(i.uibBtnRadio)),o.$render()})}}),i.uibUncheckable&&e.$watch(a,function(t){i.$set("uncheckable",t?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(n,t,e,i){function r(){return o(e.btnCheckboxTrue,!0)}function o(t,e){return angular.isDefined(t)?n.$eval(t):e}var a=i[0],s=i[1];t.find("input").css({display:"none"}),s.$render=function(){t.toggleClass(a.activeClass,angular.equals(s.$modelValue,r()))},t.on(a.toggleEvent,function(){e.disabled||n.$apply(function(){s.$setViewValue(t.hasClass(a.activeClass)?o(e.btnCheckboxFalse,!1):r()),s.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(r,o,e,t,a){function s(t){for(var e=0;e<h.length;e++)h[e].slide.active=e===t}function i(t){for(var e=0;e<h.length;e++)if(h[e].slide===t)return e}function n(){u&&(e.cancel(u),u=null)}function l(){n();var t=+r.interval;!isNaN(t)&&0<t&&(u=e(c,t))}function c(){var t=+r.interval;d&&!isNaN(t)&&0<t&&h.length?r.next():r.pause()}var u,d,p=this,h=p.slides=r.slides=[],f="uib-slideDirection",g=r.active,v=!1;o.addClass("carousel"),p.addSlide=function(t,e){h.push({slide:t,element:e}),h.sort(function(t,e){return+t.slide.index-+e.slide.index}),(t.index===r.active||1===h.length&&!angular.isNumber(r.active))&&(r.$currentTransition&&(r.$currentTransition=null),g=t.index,r.active=t.index,s(g),p.select(h[i(t)]),1===h.length&&r.play())},p.getCurrentIndex=function(){for(var t=0;t<h.length;t++)if(h[t].slide.index===g)return t},p.next=r.next=function(){var t=(p.getCurrentIndex()+1)%h.length;return 0===t&&r.noWrap()?void r.pause():p.select(h[t],"next")},p.prev=r.prev=function(){var t=p.getCurrentIndex()-1<0?h.length-1:p.getCurrentIndex()-1;return r.noWrap()&&t===h.length-1?void r.pause():p.select(h[t],"prev")},p.removeSlide=function(t){var e=i(t);h.splice(e,1),0<h.length&&g===e?e>=h.length?(g=h.length-1,s(r.active=g),p.select(h[h.length-1])):(g=e,s(r.active=g),p.select(h[e])):e<g&&(g--,r.active=g),0===h.length&&(g=null,r.active=null)},p.select=r.select=function(t,e){var n=i(t.slide);void 0===e&&(e=n>p.getCurrentIndex()?"next":"prev"),t.slide.index===g||r.$currentTransition||function(t,e,n){if(!v){if(angular.extend(t,{direction:n}),angular.extend(h[g].slide||{},{direction:n}),a.enabled(o)&&!r.$currentTransition&&h[e].element&&1<p.slides.length){h[e].element.data(f,t.direction);var i=p.getCurrentIndex();angular.isNumber(i)&&h[i].element&&h[i].element.data(f,t.direction),r.$currentTransition=!0,a.on("addClass",h[e].element,function(t,e){"close"===e&&(r.$currentTransition=null,a.off("addClass",t))})}r.active=t.index,g=t.index,s(e),l()}}(t.slide,n,e)},r.indexOfSlide=function(t){return+t.slide.index},r.isActive=function(t){return r.active===t.slide.index},r.isPrevDisabled=function(){return 0===r.active&&r.noWrap()},r.isNextDisabled=function(){return r.active===h.length-1&&r.noWrap()},r.pause=function(){r.noPause||(d=!1,n())},r.play=function(){d||(d=!0,l())},o.on("mouseenter",r.pause),o.on("mouseleave",r.play),r.$on("$destroy",function(){v=!0,n()}),r.$watch("noTransition",function(t){a.enabled(o,!t)}),r.$watch("interval",l),r.$watchCollection("slides",function(t){t.length||(r.$currentTransition=null)}),r.$watch("active",function(t){if(angular.isNumber(t)&&g!==t){for(var e=0;e<h.length;e++)if(h[e].slide.index===t){t=e;break}h[t]&&(s(t),p.select(h[t]),g=t)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(r){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,e,n,i){e.addClass("item"),i.addSlide(t,e),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(t){r[t?"addClass":"removeClass"](e,"active")})}}}]).animation(".item",["$animateCss",function(a){function s(t,e,n){t.removeClass(e),n&&n()}var l="uib-slideDirection";return{beforeAddClass:function(t,e,n){if("active"===e){var i=t.data(l),r="next"===i?"left":"right",o=s.bind(this,t,r+" "+i,n);return t.addClass(i),a(t,{addClass:r}).start().done(o),function(){!0}}n()},beforeRemoveClass:function(t,e,n){if("active"===e){var i="next"===t.data(l)?"left":"right",r=s.bind(this,t,i,n);return a(t,{addClass:i}).start().done(r),function(){!0}}n()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(b,y,n,x,e){function i(t){return e(k,{key:t},!0)[0]}function o(t,e,n){return function(){return t.substr(e+1,n-e-1)}}function a(t,e){for(var n=t.substr(e),i=0;i<k.length;i++)if(new RegExp("^"+k[i].key).test(n)){var r=k[i];return{endIdx:e+r.key.length,parser:r.formatter}}return{endIdx:e+1,parser:function(){return n.charAt(0)}}}function s(t){return parseInt(t,10)}function r(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function l(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}function c(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset();return l(t,n*(r(e,i)-i))}var w,k,$=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){w=y.id,this.parsers={},this.formatters={},k=[{key:"yyyy",regex:"\\d{4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(t){t=+t,this.year=t<69?t+2e3:t+1900},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){var e=t.getMonth();return/^[0-9]$/.test(e)?n(t,"MM"):n(t,"M")}},{key:"MMMM",regex:y.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=y.DATETIME_FORMATS.MONTH.indexOf(t)},formatter:function(t){return n(t,"MMMM")}},{key:"MMM",regex:y.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=y.DATETIME_FORMATS.SHORTMONTH.indexOf(t)},formatter:function(t){return n(t,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return n(t,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return n(t,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){var e=t.getDate();return/^[1-9]$/.test(e)?n(t,"dd"):n(t,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return n(t,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return n(t,"d")}},{key:"EEEE",regex:y.DATETIME_FORMATS.DAY.join("|"),formatter:function(t){return n(t,"EEEE")}},{key:"EEE",regex:y.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(t){return n(t,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return n(t,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return n(t,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(t){this.milliseconds=+t},formatter:function(t){return n(t,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return n(t,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return n(t,"s")}},{key:"a",regex:y.DATETIME_FORMATS.AMPMS.join("|"),apply:function(t){12===this.hours&&(this.hours=0),"PM"===t&&(this.hours+=12)},formatter:function(t){return n(t,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(t){var e=t.match(/([+-])(\d{2})(\d{2})/),n=e[1],i=e[2],r=e[3];this.hours+=s(n+i),this.minutes+=s(n+r)},formatter:function(t){return n(t,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(t){return n(t,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(t){return n(t,"w")}},{key:"GGGG",regex:y.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(t){return n(t,"GGGG")}},{key:"GGG",regex:y.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"GGG")}},{key:"GG",regex:y.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"GG")}},{key:"G",regex:y.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"G")}}],1<=angular.version.major&&4<angular.version.minor&&k.push({key:"LLLL",regex:y.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(t){this.month=y.DATETIME_FORMATS.STANDALONEMONTH.indexOf(t)},formatter:function(t){return n(t,"LLLL")}})},this.init(),this.getParser=function(t){var e=i(t);return e&&e.apply||null},this.overrideParser=function(t,e){var n=i(t);n&&angular.isFunction(e)&&(this.parsers={},n.apply=e)}.bind(this),this.filter=function(n,t){return angular.isDate(n)&&!isNaN(n)&&t?(t=y.DATETIME_FORMATS[t]||t,y.id!==w&&this.init(),this.formatters[t]||(this.formatters[t]=function(t){for(var e,n,i=[],r=0;r<t.length;)if(angular.isNumber(n)){if("'"===t.charAt(r))(r+1>=t.length||"'"!==t.charAt(r+1))&&(i.push(o(t,n,r)),n=null);else if(r===t.length)for(;n<t.length;)e=a(t,n),i.push(e),n=e.endIdx;r++}else"'"!==t.charAt(r)?(e=a(t,r),i.push(e.parser),r=e.endIdx):(n=r,r++);return i}(t)),this.formatters[t].reduce(function(t,e){return t+e(n)},"")):""},this.parse=function(t,e,n){if(!angular.isString(t)||!e)return t;e=(e=y.DATETIME_FORMATS[e]||e).replace($,"\\$&"),y.id!==w&&this.init(),this.parsers[e]||(this.parsers[e]=function(r){var o=[],a=r.split(""),t=r.indexOf("'");if(-1<t){var e=!1;r=r.split("");for(var n=t;n<r.length;n++)e?("'"===r[n]&&(n+1<r.length&&"'"===r[n+1]?(r[n+1]="$",a[n+1]=""):(a[n]="",e=!1)),r[n]="$"):"'"===r[n]&&(r[n]="$",e=!(a[n]=""));r=r.join("")}return angular.forEach(k,function(t){var e=r.indexOf(t.key);if(-1<e){r=r.split(""),a[e]="("+t.regex+")",r[e]="$";for(var n=e+1,i=e+t.key.length;n<i;n++)a[n]="",r[n]="$";r=r.join(""),o.push({index:e,key:t.key,apply:t.apply,matcher:t.regex})}}),{regex:new RegExp("^"+a.join("")+"$"),map:x(o,"index")}}(e));var i,r,o,a=this.parsers[e],s=a.regex,l=a.map,c=t.match(s),u=!1;if(c&&c.length){var d,p;d=angular.isDate(n)&&!isNaN(n.getTime())?{year:n.getFullYear(),month:n.getMonth(),date:n.getDate(),hours:n.getHours(),minutes:n.getMinutes(),seconds:n.getSeconds(),milliseconds:n.getMilliseconds()}:(n&&b.warn("dateparser:","baseDate is not a valid date"),{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var h=1,f=c.length;h<f;h++){var g=l[h-1];"Z"===g.matcher&&(u=!0),g.apply&&g.apply.call(d,c[h])}var v=u?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,m=u?Date.prototype.setUTCHours:Date.prototype.setHours;return i=d.year,r=d.month,!((o=d.date)<1)&&(1===r&&28<o?29===o&&(i%4==0&&i%100!=0||i%400==0):3!==r&&5!==r&&8!==r&&10!==r||o<31)&&(!angular.isDate(n)||isNaN(n.getTime())||u?(p=new Date(0),v.call(p,d.year,d.month,d.date),m.call(p,d.hours||0,d.minutes||0,d.seconds||0,d.milliseconds||0)):(p=new Date(n),v.call(p,d.year,d.month,d.date),m.call(p,d.hours,d.minutes,d.seconds,d.milliseconds))),p}},this.toTimezone=function(t,e){return t&&e?c(t,e):t},this.fromTimezone=function(t,e){return t&&e?c(t,e,!0):t},this.timezoneToOffset=r,this.addDateMinutes=l,this.convertTimezoneToLocal=c}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(u){var a=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,d=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(t,e){function i(t){var e=t.targetScope,n=r.indexOf(e);if(r.splice(n,1),s.splice(n,1),r.length){var i=r[0];angular.forEach(l,function(t){t.scope===e&&(t.watcher=i.$watch(t.compareWithExp,t.watchFn),t.scope=i)})}else l={}}var r=[],s=[],l={},n=e.uibIsClass.match(a),c=n[2],o=n[1].split(",");return function(n,t,e){r.push(n),s.push({scope:n,element:t}),o.forEach(function(t,e){!function(t,e){var n=t.match(d),r=e.$eval(n[1]),i=n[2],o=l[t];if(!o){var a=function(n){var i=null;s.some(function(t){var e=t.scope.$eval(c);return e===n?(i=t,!0):void 0}),o.lastActivated!==i&&(o.lastActivated&&u.removeClass(o.lastActivated.element,r),i&&u.addClass(i.element,r),o.lastActivated=i)};l[t]=o={lastActivated:null,scope:e,watchFn:a,compareWithExp:i,watcher:e.$watch(i,a)}}o.watchFn(e.$eval(i))}(t,n)}),n.$on("$destroy",i)}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(a,t,e,n,i,r,o,s,l,c,u,d){function p(t){a.datepickerMode=t,a.datepickerOptions.datepickerMode=t}var h=this,f={$setViewValue:angular.noop},g={},v=[];t.addClass("uib-datepicker"),e.$set("role","application"),a.datepickerOptions||(a.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(e){switch(e){case"customClass":case"dateDisabled":a[e]=a.datepickerOptions[e]||angular.noop;break;case"datepickerMode":a.datepickerMode=angular.isDefined(a.datepickerOptions.datepickerMode)?a.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":h[e]=angular.isDefined(a.datepickerOptions[e])?i(a.datepickerOptions[e])(a.$parent):l[e];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":h[e]=angular.isDefined(a.datepickerOptions[e])?a.datepickerOptions[e]:l[e];break;case"startingDay":angular.isDefined(a.datepickerOptions.startingDay)?h.startingDay=a.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?h.startingDay=l.startingDay:h.startingDay=(r.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":a.$watch("datepickerOptions."+e,function(t){t?angular.isDate(t)?h[e]=d.fromTimezone(new Date(t),g.getOption("timezone")):(c&&o.warn("Literal date support has been deprecated, please switch to date object usage"),h[e]=new Date(s(t,"medium"))):h[e]=l[e]?d.fromTimezone(new Date(l[e]),g.getOption("timezone")):null,h.refreshView()});break;case"maxMode":case"minMode":a.datepickerOptions[e]?a.$watch(function(){return a.datepickerOptions[e]},function(t){h[e]=a[e]=angular.isDefined(t)?t:a.datepickerOptions[e],("minMode"===e&&h.modes.indexOf(a.datepickerOptions.datepickerMode)<h.modes.indexOf(h[e])||"maxMode"===e&&h.modes.indexOf(a.datepickerOptions.datepickerMode)>h.modes.indexOf(h[e]))&&(a.datepickerMode=h[e],a.datepickerOptions.datepickerMode=h[e])}):h[e]=a[e]=l[e]||null}}),a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),a.disabled=angular.isDefined(e.disabled)||!1,angular.isDefined(e.ngDisabled)&&v.push(a.$parent.$watch(e.ngDisabled,function(t){a.disabled=t,h.refreshView()})),a.isActive=function(t){return 0===h.compare(t.date,h.activeDate)&&(a.activeDateId=t.uid,!0)},this.init=function(t){g=function(t){var e;if(angular.version.minor<6)(e=t.$options||a.datepickerOptions.ngModelOptions||l.ngModelOptions||{}).getOption=function(t){return e[t]};else{var n=t.$options.getOption("timezone")||(a.datepickerOptions.ngModelOptions?a.datepickerOptions.ngModelOptions.timezone:null)||(l.ngModelOptions?l.ngModelOptions.timezone:null);e=t.$options.createChild(l.ngModelOptions).createChild(a.datepickerOptions.ngModelOptions).createChild(t.$options).createChild({timezone:n})}return e}(f=t),a.datepickerOptions.initDate?(h.activeDate=d.fromTimezone(a.datepickerOptions.initDate,g.getOption("timezone"))||new Date,a.$watch("datepickerOptions.initDate",function(t){t&&(f.$isEmpty(f.$modelValue)||f.$invalid)&&(h.activeDate=d.fromTimezone(t,g.getOption("timezone")),h.refreshView())})):h.activeDate=new Date;var e=f.$modelValue?new Date(f.$modelValue):new Date;this.activeDate=isNaN(e)?d.fromTimezone(new Date,g.getOption("timezone")):d.fromTimezone(e,g.getOption("timezone")),f.$render=function(){h.render()}},this.render=function(){if(f.$viewValue){var t=new Date(f.$viewValue);!isNaN(t)?this.activeDate=d.fromTimezone(t,g.getOption("timezone")):u||o.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){a.selectedDt=null,this._refreshView(),a.activeDt&&(a.activeDateId=a.activeDt.uid);var t=f.$viewValue?new Date(f.$viewValue):null;t=d.fromTimezone(t,g.getOption("timezone")),f.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,e){var n=f.$viewValue?new Date(f.$viewValue):null;n=d.fromTimezone(n,g.getOption("timezone"));var i=new Date;i=d.fromTimezone(i,g.getOption("timezone"));var r=this.compare(t,i),o={date:t,label:d.filter(t,e),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),past:r<0,current:0===r,future:0<r,customClass:this.customClass(t)||null};return n&&0===this.compare(t,n)&&(a.selectedDt=o),h.activeDate&&0===this.compare(o.date,h.activeDate)&&(a.activeDt=o),o},this.isDisabled=function(t){return a.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&0<this.compare(t,this.maxDate)||a.dateDisabled&&a.dateDisabled({date:t,mode:a.datepickerMode})},this.customClass=function(t){return a.customClass({date:t,mode:a.datepickerMode})},this.split=function(t,e){for(var n=[];0<t.length;)n.push(t.splice(0,e));return n},a.select=function(t){if(a.datepickerMode===h.minMode){var e=f.$viewValue?d.fromTimezone(new Date(f.$viewValue),g.getOption("timezone")):new Date(0,0,0,0,0,0,0);e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e=d.toTimezone(e,g.getOption("timezone")),f.$setViewValue(e),f.$render()}else h.activeDate=t,p(h.modes[h.modes.indexOf(a.datepickerMode)-1]),a.$emit("uib:datepicker.mode");a.$broadcast("uib:datepicker.focus")},a.move=function(t){var e=h.activeDate.getFullYear()+t*(h.step.years||0),n=h.activeDate.getMonth()+t*(h.step.months||0);h.activeDate.setFullYear(e,n,1),h.refreshView()},a.toggleMode=function(t){t=t||1,a.datepickerMode===h.maxMode&&1===t||a.datepickerMode===h.minMode&&-1===t||(p(h.modes[h.modes.indexOf(a.datepickerMode)+t]),a.$emit("uib:datepicker.mode"))},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};a.$on("uib:datepicker.focus",function(){h.element[0].focus()}),a.keydown=function(t){var e=a.keys[t.which];if(e&&!t.shiftKey&&!t.altKey&&!a.disabled)if(t.preventDefault(),h.shortcutPropagation||t.stopPropagation(),"enter"===e||"space"===e){if(h.isDisabled(h.activeDate))return;a.select(h.activeDate)}else!t.ctrlKey||"up"!==e&&"down"!==e?(h.handleKeyDown(e,t),h.refreshView()):a.toggleMode("up"===e?1:-1)},t.on("keydown",function(t){a.$apply(function(){a.keydown(t)})}),a.$on("$destroy",function(){for(;v.length;)v.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(p,t,h){function r(t,e){return 1!==e||t%4!=0||t%100==0&&t%400!=0?n[e]:29}function f(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}var n=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),p.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(t,e){for(var n,i=new Array(e),r=new Date(t),o=0;o<e;)n=new Date(r),i[o++]=n,r.setDate(r.getDate()+1);return i},this._refreshView=function(){var t=this.activeDate.getFullYear(),e=this.activeDate.getMonth(),n=new Date(this.activeDate);n.setFullYear(t,e,1);var i=this.startingDay-n.getDay(),r=0<i?7-i:-i,o=new Date(n);0<r&&o.setDate(1-r);for(var a=this.getDates(o,42),s=0;s<42;s++)a[s]=angular.extend(this.createDateObject(a[s],this.formatDay),{secondary:a[s].getMonth()!==e,uid:p.uniqueId+"-"+s});p.labels=new Array(7);for(var l=0;l<7;l++)p.labels[l]={abbr:h(a[l].date,this.formatDayHeader),full:h(a[l].date,"EEEE")};if(p.title=h(this.activeDate,this.formatDayTitle),p.rows=this.split(a,7),p.showWeeks){p.weekNumbers=[];for(var c=(11-this.startingDay)%7,u=p.rows.length,d=0;d<u;d++)p.weekNumbers.push(f(p.rows[d][c].date))}},this.compare=function(t,e){var n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=new Date(e.getFullYear(),e.getMonth(),e.getDate());return n.setFullYear(t.getFullYear()),i.setFullYear(e.getFullYear()),n-i},this.handleKeyDown=function(t,e){var n=this.activeDate.getDate();if("left"===t)n-=1;else if("up"===t)n-=7;else if("right"===t)n+=1;else if("down"===t)n+=7;else if("pageup"===t||"pagedown"===t){var i=this.activeDate.getMonth()+("pageup"===t?-1:1);this.activeDate.setMonth(i,1),n=Math.min(r(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===t?n=1:"end"===t&&(n=r(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(r,t,o){this.step={years:1},this.element=t,this.init=function(t){angular.extend(t,this),t.refreshView()},this._refreshView=function(){for(var t,e=new Array(12),n=this.activeDate.getFullYear(),i=0;i<12;i++)(t=new Date(this.activeDate)).setFullYear(n,i,1),e[i]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:r.uniqueId+"-"+i});r.title=o(this.activeDate,this.formatMonthTitle),r.rows=this.split(e,this.monthColumns),r.yearHeaderColspan=3<this.monthColumns?this.monthColumns-2:1},this.compare=function(t,e){var n=new Date(t.getFullYear(),t.getMonth()),i=new Date(e.getFullYear(),e.getMonth());return n.setFullYear(t.getFullYear()),i.setFullYear(e.getFullYear()),n-i},this.handleKeyDown=function(t,e){var n=this.activeDate.getMonth();if("left"===t)n-=1;else if("up"===t)n-=this.monthColumns;else if("right"===t)n+=1;else if("down"===t)n+=this.monthColumns;else if("pageup"===t||"pagedown"===t){var i=this.activeDate.getFullYear()+("pageup"===t?-1:1);this.activeDate.setFullYear(i)}else"home"===t?n=0:"end"===t&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(r,t,e){function o(t){return parseInt((t-1)/s,10)*s+1}var a,s;this.element=t,this.yearpickerInit=function(){a=this.yearColumns,s=this.yearRows*a,this.step={years:s}},this._refreshView=function(){for(var t,e=new Array(s),n=0,i=o(this.activeDate.getFullYear());n<s;n++)(t=new Date(this.activeDate)).setFullYear(i+n,0,1),e[n]=angular.extend(this.createDateObject(t,this.formatYear),{uid:r.uniqueId+"-"+n});r.title=[e[0].label,e[s-1].label].join(" - "),r.rows=this.split(e,a),r.columns=a},this.compare=function(t,e){return t.getFullYear()-e.getFullYear()},this.handleKeyDown=function(t,e){var n=this.activeDate.getFullYear();"left"===t?n-=1:"up"===t?n-=a:"right"===t?n+=1:"down"===t?n+=a:"pageup"===t||"pagedown"===t?n+=("pageup"===t?-1:1)*s:"home"===t?n=o(this.activeDate.getFullYear()):"end"===t&&(n=o(this.activeDate.getFullYear())+s-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(t,e,n,i){var r=i[0],o=i[1];r.init(o)}}}).directive("uibDaypicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(t,e,n,i){var r=i[0];i[1].init(r)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(t,e,n,i){var r=i[0];i[1].init(r)}}}).directive("uibYearpicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(t,e,n,i){var r=i[0];angular.extend(r,i[1]),r.yearpickerInit(),r.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(c,f){var i,r,u={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},g={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(t){return t.nodeName?t:t[0]||t},parseStyle:function(t){return t=parseFloat(t),isFinite(t)?t:0},offsetParent:function(t){for(var e=(t=this.getRawNode(t)).offsetParent||c[0].documentElement;e&&e!==c[0].documentElement&&(n=e,"static"===(f.getComputedStyle(n).position||"static"));)e=e.offsetParent;var n;return e||c[0].documentElement},scrollbarWidth:function(t){if(t){if(angular.isUndefined(r)){var e=c.find("body");e.addClass("uib-position-body-scrollbar-measure"),r=f.innerWidth-e[0].clientWidth,r=isFinite(r)?r:0,e.removeClass("uib-position-body-scrollbar-measure")}return r}if(angular.isUndefined(i)){var n=angular.element('<div class="uib-position-scrollbar-measure"></div>');c.find("body").append(n),i=n[0].offsetWidth-n[0].clientWidth,i=isFinite(i)?i:0,n.remove()}return i},scrollbarPadding:function(t){t=this.getRawNode(t);var e=f.getComputedStyle(t),n=this.parseStyle(e.paddingRight),i=this.parseStyle(e.paddingBottom),r=this.scrollParent(t,!1,!0),o=this.scrollbarWidth(a.test(r.tagName));return{scrollbarWidth:o,widthOverflow:r.scrollWidth>r.clientWidth,right:n+o,originalRight:n,heightOverflow:r.scrollHeight>r.clientHeight,bottom:i+o,originalBottom:i}},isScrollable:function(t,e){t=this.getRawNode(t);var n=e?u.hidden:u.normal,i=f.getComputedStyle(t);return n.test(i.overflow+i.overflowY+i.overflowX)},scrollParent:function(t,e,n){t=this.getRawNode(t);var i=e?u.hidden:u.normal,r=c[0].documentElement,o=f.getComputedStyle(t);if(n&&i.test(o.overflow+o.overflowY+o.overflowX))return t;var a="absolute"===o.position,s=t.parentElement||r;if(s===r||"fixed"===o.position)return r;for(;s.parentElement&&s!==r;){var l=f.getComputedStyle(s);if(a&&"static"!==l.position&&(a=!1),!a&&i.test(l.overflow+l.overflowY+l.overflowX))break;s=s.parentElement}return s},position:function(t,e){t=this.getRawNode(t);var n=this.offset(t);if(e){var i=f.getComputedStyle(t);n.top-=this.parseStyle(i.marginTop),n.left-=this.parseStyle(i.marginLeft)}var r=this.offsetParent(t),o={top:0,left:0};return r!==c[0].documentElement&&((o=this.offset(r)).top+=r.clientTop-r.scrollTop,o.left+=r.clientLeft-r.scrollLeft),{width:Math.round(angular.isNumber(n.width)?n.width:t.offsetWidth),height:Math.round(angular.isNumber(n.height)?n.height:t.offsetHeight),top:Math.round(n.top-o.top),left:Math.round(n.left-o.left)}},offset:function(t){var e=(t=this.getRawNode(t)).getBoundingClientRect();return{width:Math.round(angular.isNumber(e.width)?e.width:t.offsetWidth),height:Math.round(angular.isNumber(e.height)?e.height:t.offsetHeight),top:Math.round(e.top+(f.pageYOffset||c[0].documentElement.scrollTop)),left:Math.round(e.left+(f.pageXOffset||c[0].documentElement.scrollLeft))}},viewportOffset:function(t,e,n){n=!1!==n;var i=(t=this.getRawNode(t)).getBoundingClientRect(),r={top:0,left:0,bottom:0,right:0},o=e?c[0].documentElement:this.scrollParent(t),a=o.getBoundingClientRect();if(r.top=a.top+o.clientTop,r.left=a.left+o.clientLeft,o===c[0].documentElement&&(r.top+=f.pageYOffset,r.left+=f.pageXOffset),r.bottom=r.top+o.clientHeight,r.right=r.left+o.clientWidth,n){var s=f.getComputedStyle(o);r.top+=this.parseStyle(s.paddingTop),r.bottom-=this.parseStyle(s.paddingBottom),r.left+=this.parseStyle(s.paddingLeft),r.right-=this.parseStyle(s.paddingRight)}return{top:Math.round(i.top-r.top),bottom:Math.round(r.bottom-i.bottom),left:Math.round(i.left-r.left),right:Math.round(r.right-i.right)}},parsePlacement:function(t){var e=g.auto.test(t);return e&&(t=t.replace(g.auto,"")),(t=t.split("-"))[0]=t[0]||"top",g.primary.test(t[0])||(t[0]="top"),t[1]=t[1]||"center",g.secondary.test(t[1])||(t[1]="center"),t[2]=!!e,t},positionElements:function(t,e,n,i){t=this.getRawNode(t),e=this.getRawNode(e);var r=angular.isDefined(e.offsetWidth)?e.offsetWidth:e.prop("offsetWidth"),o=angular.isDefined(e.offsetHeight)?e.offsetHeight:e.prop("offsetHeight");n=this.parsePlacement(n);var a=i?this.offset(t):this.position(t),s={top:0,left:0,placement:""};if(n[2]){var l=this.viewportOffset(t,i),c=f.getComputedStyle(e),u=r+Math.round(Math.abs(this.parseStyle(c.marginLeft)+this.parseStyle(c.marginRight))),d=o+Math.round(Math.abs(this.parseStyle(c.marginTop)+this.parseStyle(c.marginBottom)));if(n[0]="top"===n[0]&&d>l.top&&d<=l.bottom?"bottom":"bottom"===n[0]&&d>l.bottom&&d<=l.top?"top":"left"===n[0]&&u>l.left&&u<=l.right?"right":"right"===n[0]&&u>l.right&&u<=l.left?"left":n[0],n[1]="top"===n[1]&&d-a.height>l.bottom&&d-a.height<=l.top?"bottom":"bottom"===n[1]&&d-a.height>l.top&&d-a.height<=l.bottom?"top":"left"===n[1]&&u-a.width>l.right&&u-a.width<=l.left?"right":"right"===n[1]&&u-a.width>l.left&&u-a.width<=l.right?"left":n[1],"center"===n[1])if(g.vertical.test(n[0])){var p=a.width/2-r/2;l.left+p<0&&u-a.width<=l.right?n[1]="left":l.right+p<0&&u-a.width<=l.left&&(n[1]="right")}else{var h=a.height/2-d/2;l.top+h<0&&d-a.height<=l.bottom?n[1]="top":l.bottom+h<0&&d-a.height<=l.top&&(n[1]="bottom")}}switch(n[0]){case"top":s.top=a.top-o;break;case"bottom":s.top=a.top+a.height;break;case"left":s.left=a.left-r;break;case"right":s.left=a.left+a.width}switch(n[1]){case"top":s.top=a.top;break;case"bottom":s.top=a.top+a.height-o;break;case"left":s.left=a.left;break;case"right":s.left=a.left+a.width-r;break;case"center":g.vertical.test(n[0])?s.left=a.left+a.width/2-r/2:s.top=a.top+a.height/2-o/2}return s.top=Math.round(s.top),s.left=Math.round(s.left),s.placement="center"===n[1]?n[0]:n[0]+"-"+n[1],s},adjustTop:function(t,e,n,i){return-1!==t.indexOf("top")&&n!==i?{top:e.top-i+"px"}:void 0},positionArrow:function(t,e){var n=(t=this.getRawNode(t)).querySelector(".tooltip-inner, .popover-inner");if(n){var i=angular.element(n).hasClass("tooltip-inner"),r=i?t.querySelector(".tooltip-arrow"):t.querySelector(".arrow");if(r){var o={top:"",bottom:"",left:"",right:""};if("center"===(e=this.parsePlacement(e))[1])return void angular.element(r).css(o);var a="border-"+e[0]+"-width",s=f.getComputedStyle(r)[a],l="border-";l+=g.vertical.test(e[0])?e[0]+"-"+e[1]:e[1]+"-"+e[0],l+="-radius";var c=f.getComputedStyle(i?n:t)[l];switch(e[0]){case"top":o.bottom=i?"0":"-"+s;break;case"bottom":o.top=i?"0":"-"+s;break;case"left":o.right=i?"0":"-"+s;break;case"right":o.left=i?"0":"-"+s}o[e[1]]=c,angular.element(r).css(o)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(r,o,i,a,n,t,s,l,c,u,d,p,h,e,f,g){function v(t){var e=p.parse(t,k,r.date);if(isNaN(e))for(var n=0;n<I.length;n++)if(e=p.parse(t,I[n],r.date),!isNaN(e))return e;return e}function m(t){if(angular.isNumber(t)&&(t=new Date(t)),!t)return null;if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var e=v(t);if(!isNaN(e))return p.toTimezone(e,O.getOption("timezone"))}return O.getOption("allowInvalid")?t:void 0}function b(t,e){var n=t||e;return!i.ngRequired&&!n||(angular.isNumber(n)&&(n=new Date(n)),!n||(!(!angular.isDate(n)||isNaN(n))||!!angular.isString(n)&&!isNaN(v(n))))}function y(t){if(r.isOpen||!r.disabled){var e=P[0],n=o[0].contains(t.target),i=void 0!==e.contains&&e.contains(t.target);!r.isOpen||n||i||r.$apply(function(){r.isOpen=!1})}}function x(t){27===t.which&&r.isOpen?(t.preventDefault(),t.stopPropagation(),r.$apply(function(){r.isOpen=!1}),o[0].focus()):40!==t.which||r.isOpen||(t.preventDefault(),t.stopPropagation(),r.$apply(function(){r.isOpen=!0}))}function w(){if(r.isOpen){var t=angular.element(P[0].querySelector(".uib-datepicker-popup")),e=i.popupPlacement?i.popupPlacement:h.placement,n=u.positionElements(o,t,e,S);t.css({top:n.top+"px",left:n.left+"px"}),t.hasClass("uib-position-measure")&&t.removeClass("uib-position-measure")}}var k,$,S,C,M,T,_,A,E,D,O,P,I,z=!1,N=[];this.init=function(t){if(e=D=t,angular.version.minor<6?(n=angular.isObject(e.$options)?e.$options:{timezone:null}).getOption=function(t){return n[t]}:n=e.$options,O=n,$=angular.isDefined(i.closeOnDateSelection)?r.$parent.$eval(i.closeOnDateSelection):h.closeOnDateSelection,S=angular.isDefined(i.datepickerAppendToBody)?r.$parent.$eval(i.datepickerAppendToBody):h.appendToBody,C=angular.isDefined(i.onOpenFocus)?r.$parent.$eval(i.onOpenFocus):h.onOpenFocus,M=angular.isDefined(i.datepickerPopupTemplateUrl)?i.datepickerPopupTemplateUrl:h.datepickerPopupTemplateUrl,T=angular.isDefined(i.datepickerTemplateUrl)?i.datepickerTemplateUrl:h.datepickerTemplateUrl,I=angular.isDefined(i.altInputFormats)?r.$parent.$eval(i.altInputFormats):h.altInputFormats,r.showButtonBar=angular.isDefined(i.showButtonBar)?r.$parent.$eval(i.showButtonBar):h.showButtonBar,h.html5Types[i.type]?(k=h.html5Types[i.type],z=!0):(k=i.uibDatepickerPopup||h.datepickerPopup,i.$observe("uibDatepickerPopup",function(t,e){var n=t||h.datepickerPopup;if(n!==k&&(k=n,D.$modelValue=null,!k))throw new Error("uibDatepickerPopup must have a date format specified.")})),!k)throw new Error("uibDatepickerPopup must have a date format specified.");var e,n;if(z&&i.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");(_=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>")).attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":M}),(A=angular.element(_.children()[0])).attr("template-url",T),r.datepickerOptions||(r.datepickerOptions={}),z&&"month"===i.type&&(r.datepickerOptions.datepickerMode="month",r.datepickerOptions.minMode="month"),A.attr("datepicker-options","datepickerOptions"),z?D.$formatters.push(function(t){return r.date=p.fromTimezone(t,O.getOption("timezone")),t}):(D.$$parserName="date",D.$validators.date=b,D.$parsers.unshift(m),D.$formatters.push(function(t){return D.$isEmpty(t)?r.date=t:(angular.isNumber(t)&&(t=new Date(t)),r.date=p.fromTimezone(t,O.getOption("timezone")),p.filter(r.date,k))})),D.$viewChangeListeners.push(function(){r.date=v(D.$viewValue)}),o.on("keydown",x),P=a(_)(r),_.remove(),S?l.find("body").append(P):o.after(P),r.$on("$destroy",function(){for(!0===r.isOpen&&(c.$$phase||r.$apply(function(){r.isOpen=!1})),P.remove(),o.off("keydown",x),l.off("click",y),E&&E.off("scroll",w),angular.element(s).off("resize",w);N.length;)N.shift()()})},r.getText=function(t){return r[t+"Text"]||h[t+"Text"]},r.isDisabled=function(t){"today"===t&&(t=p.fromTimezone(new Date,O.getOption("timezone")));var e={};return angular.forEach(["minDate","maxDate"],function(t){r.datepickerOptions[t]?angular.isDate(r.datepickerOptions[t])?e[t]=new Date(r.datepickerOptions[t]):(g&&n.warn("Literal date support has been deprecated, please switch to date object usage"),e[t]=new Date(d(r.datepickerOptions[t],"medium"))):e[t]=null}),r.datepickerOptions&&e.minDate&&r.compare(t,e.minDate)<0||e.maxDate&&0<r.compare(t,e.maxDate)},r.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},r.dateSelection=function(t){r.date=t;var e=r.date?p.filter(r.date,k):null;o.val(e),D.$setViewValue(e),$&&(r.isOpen=!1,o[0].focus())},r.keydown=function(t){27===t.which&&(t.stopPropagation(),r.isOpen=!1,o[0].focus())},r.select=function(t,e){if(e.stopPropagation(),"today"===t){var n=new Date;angular.isDate(r.date)?(t=new Date(r.date)).setFullYear(n.getFullYear(),n.getMonth(),n.getDate()):(t=p.fromTimezone(n,O.getOption("timezone"))).setHours(0,0,0,0)}r.dateSelection(t)},r.close=function(t){t.stopPropagation(),r.isOpen=!1,o[0].focus()},r.disabled=angular.isDefined(i.disabled)||!1,i.ngDisabled&&N.push(r.$parent.$watch(t(i.ngDisabled),function(t){r.disabled=t})),r.$watch("isOpen",function(t){t?r.disabled?r.isOpen=!1:e(function(){w(),C&&r.$broadcast("uib:datepicker.focus"),l.on("click",y);var t=i.popupPlacement?i.popupPlacement:h.placement;S||u.parsePlacement(t)[2]?(E=E||angular.element(u.scrollParent(o)))&&E.on("scroll",w):E=null,angular.element(s).on("resize",w)},0,!1):(l.off("click",y),E&&E.off("scroll",w),angular.element(s).off("resize",w))}),r.$on("uib:datepicker.mode",function(){e(w,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(t,e,n,i){var r=i[0];i[1].init(r)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(o){return function(n,i){var r;return function(){var t=this,e=Array.prototype.slice.call(arguments);r&&o.cancel(r),r=o(function(){n.apply(t,e)},i)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var r={};return{entries:function(){return Object.keys(r).map(function(t){return{key:t,value:r[t]}})},get:function(t){return r[t]},hasKey:function(t){return!!r[t]},keys:function(){return Object.keys(r)},put:function(t,e){r[t]||(r[t]=[]),r[t].push(e)},remove:function(t,e){var n=r[t];if(n){var i=n.indexOf(e);-1!==i&&n.splice(i,1),n.length||delete r[t]}}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(o,i,t){var a=null,s=t.createNew();this.isOnlyOpen=function(n,t){var e=s.get(t);if(e&&e.reduce(function(t,e){return e.scope===n?e:t},{}))return 1===e.length;return!1},this.open=function(t,e,n){if(a||o.on("click",l),a&&a!==t&&(a.isOpen=!1),a=t,n){var i=s.get(n);if(i)-1===i.map(function(t){return t.scope}).indexOf(t)&&s.put(n,{scope:t});else s.put(n,{scope:t})}},this.close=function(n,t,e){if(a===n&&(o.off("click",l),o.off("keydown",this.keybindFilter),a=null),e){var i=s.get(e);if(i){var r=i.reduce(function(t,e){return e.scope===n?e:t},{});r&&s.remove(e,r)}}};var l=function(t){if(a&&a.isOpen&&!(t&&"disabled"===a.getAutoClose()||t&&3===t.which)){var e=a.getToggleElement();if(!(t&&e&&e[0].contains(t.target))){var n=a.getDropdownElement();t&&"outsideClick"===a.getAutoClose()&&n&&n[0].contains(t.target)||(a.focusToggleElement(),a.isOpen=!1,i.$$phase||a.$apply())}}};this.keybindFilter=function(t){if(a){var e=a.getDropdownElement(),n=a.getToggleElement(),i=e&&e[0].contains(t.target),r=n&&n[0].contains(t.target);27===t.which?(t.stopPropagation(),a.focusToggleElement(),l()):a.isKeynavEnabled()&&-1!==[38,40].indexOf(t.which)&&a.isOpen&&(i||r)&&(t.preventDefault(),t.stopPropagation(),a.focusDropdownEntry(t.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(v,m,b,y,t,x,w,k,$,S,C){function M(){m.append(_.dropdownMenu)}var T,e,_=this,A=v.$new(),E=t.appendToOpenClass,D=t.openClass,O=angular.noop,P=b.onToggle?y(b.onToggle):angular.noop,n=!1,I=$.find("body");m.addClass("dropdown"),this.init=function(){b.isOpen&&(e=y(b.isOpen),O=e.assign,v.$watch(e,function(t){A.isOpen=!!t})),n=angular.isDefined(b.keyboardNav)},this.toggle=function(t){return A.isOpen=arguments.length?!!t:!A.isOpen,angular.isFunction(O)&&O(A,A.isOpen),A.isOpen},this.isOpen=function(){return A.isOpen},A.getToggleElement=function(){return _.toggleElement},A.getAutoClose=function(){return b.autoClose||"always"},A.getElement=function(){return m},A.isKeynavEnabled=function(){return n},A.focusDropdownEntry=function(t){var e=_.dropdownMenu?angular.element(_.dropdownMenu).find("a"):m.find("ul").eq(0).find("a");switch(t){case 40:angular.isNumber(_.selectedOption)?_.selectedOption=_.selectedOption===e.length-1?_.selectedOption:_.selectedOption+1:_.selectedOption=0;break;case 38:angular.isNumber(_.selectedOption)?_.selectedOption=0===_.selectedOption?0:_.selectedOption-1:_.selectedOption=e.length-1}e[_.selectedOption].focus()},A.getDropdownElement=function(){return _.dropdownMenu},A.focusToggleElement=function(){_.toggleElement&&_.toggleElement[0].focus()},A.$watch("isOpen",function(t,e){var n=null,i=!1;if(angular.isDefined(b.dropdownAppendTo)){var r=y(b.dropdownAppendTo)(A);r&&(n=angular.element(r))}angular.isDefined(b.dropdownAppendToBody)&&(!1!==y(b.dropdownAppendToBody)(A)&&(i=!0));if(i&&!n&&(n=I),n&&_.dropdownMenu&&(t?(n.append(_.dropdownMenu),m.on("$destroy",M)):(m.off("$destroy",M),M())),n&&_.dropdownMenu){var o,a,s,l=k.positionElements(m,_.dropdownMenu,"bottom-left",!0),c=0;if(o={top:l.top+"px",display:t?"block":"none"},a=_.dropdownMenu.hasClass("dropdown-menu-right"),o.right=a?(o.left="auto",(s=k.scrollbarPadding(n)).heightOverflow&&s.scrollbarWidth&&(c=s.scrollbarWidth),window.innerWidth-c-(l.left+m.prop("offsetWidth"))+"px"):(o.left=l.left+"px","auto"),!i){var u=k.offset(n);o.top=l.top-u.top+"px",a?o.right=window.innerWidth-(l.left-u.left+m.prop("offsetWidth"))+"px":o.left=l.left-u.left+"px"}_.dropdownMenu.css(o)}var d=n||m,p=n?E:D,h=d.hasClass(p),f=x.isOnlyOpen(v,n);h===!t&&w[n?f?"removeClass":"addClass":t?"addClass":"removeClass"](d,p).then(function(){angular.isDefined(t)&&t!==e&&P(v,{open:!!t})});if(t)_.dropdownMenuTemplateUrl?C(_.dropdownMenuTemplateUrl).then(function(t){T=A.$new(),S(t.trim())(T,function(t){var e=t;_.dropdownMenu.replaceWith(e),_.dropdownMenu=e,$.on("keydown",x.keybindFilter)})}):$.on("keydown",x.keybindFilter),A.focusToggleElement(),x.open(A,m,n);else{if(x.close(A,m,n),_.dropdownMenuTemplateUrl){T&&T.$destroy();var g=angular.element('<ul class="dropdown-menu"></ul>');_.dropdownMenu.replaceWith(g),_.dropdownMenu=g}_.selectedOption=null}angular.isFunction(O)&&O(v,t)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(t,e,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(t,e,n,i){if(i&&!angular.isDefined(n.dropdownNested)){e.addClass("dropdown-menu");var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=e)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,n,i,r){if(r){n.addClass("dropdown-toggle"),r.toggleElement=n;var t=function(t){t.preventDefault(),n.hasClass("disabled")||i.disabled||e.$apply(function(){r.toggle()})};n.on("click",t),n.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(t){n.attr("aria-expanded",!!t)}),e.$on("$destroy",function(){n.off("click",t)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var i=[];return{add:function(t,e){i.push({key:t,value:e})},get:function(t){for(var e=0;e<i.length;e++)if(t===i[e].key)return i[e]},keys:function(){for(var t=[],e=0;e<i.length;e++)t.push(i[e].key);return t},top:function(){return i[i.length-1]},remove:function(t){for(var e=-1,n=0;n<i.length;n++)if(t===i[n].key){e=n;break}return i.splice(e,1)[0]},removeTop:function(){return i.pop()},length:function(){return i.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var t=this;this.resolver=null,this.setResolver=function(t){this.resolver=t},this.$get=["$injector","$q",function(o,a){var s=t.resolver?o.get(t.resolver):null;return{resolve:function(t,e,n,i){if(s)return s.resolve(t,e,n,i);var r=[];return angular.forEach(t,function(t){angular.isFunction(t)||angular.isArray(t)?r.push(a.resolve(o.invoke(t))):angular.isString(t)?r.push(a.resolve(o.get(t))):r.push(a.resolve(t))}),a.all(r).then(function(n){var i={},r=0;return angular.forEach(t,function(t,e){i[e]=n[r++]}),i})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(a,t,e){function n(i,r,o){o.modalInClass&&(a.addClass(r,o.modalInClass),i.$on(e.NOW_CLOSING_EVENT,function(t,e){var n=e();i.modalOptions.animation?a.removeClass(r,o.modalInClass).then(n):n()}))}return{restrict:"A",compile:function(t,e){return t.addClass(e.backdropClass),n}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(n,o,a,s){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/modal/window.html"},link:function(e,i,r){i.addClass(r.windowTopClass||""),e.size=r.size,e.close=function(t){var e=n.getTop();e&&e.value.backdrop&&"static"!==e.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),n.dismiss(e.key,"backdrop click"))},i.on("click",e.close),e.$isRendered=!0;var t=o.defer();e.$$postDigest(function(){t.resolve()}),t.promise.then(function(){var t=null;r.modalInClass&&(t=a(i,{addClass:r.modalInClass}).start(),e.$on(n.NOW_CLOSING_EVENT,function(t,e){var n=e();a(i,{removeClass:r.modalInClass}).start().then(n)})),o.when(t).then(function(){var t=n.getTop();if(t&&n.modalRendered(t.key),!s[0].activeElement||!i[0].contains(s[0].activeElement)){var e=i[0].querySelector("[autofocus]");e?e.focus():i[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(t,e){e.modalAnimation&&t.addClass(e.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(o){return{link:function(t,e,n,i,r){r(t.$parent,function(t){e.empty(),o.enter(t,e)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(l,t,c,u,d,a,e,n,p){function h(){for(var t=-1,e=x.keys(),n=0;n<e.length;n++)x.get(e[n]).value.backdrop&&(t=n);return-1<t&&t<$&&(t=$),t}function i(n,t){var i=x.get(n).value,r=i.appendTo;x.remove(n),(S=x.top())&&($=parseInt(S.value.modalDomEl.attr("index"),10)),o(i.modalDomEl,i.modalScope,function(){var t=i.openedClass||y;w.remove(t,n);var e=w.hasKey(t);r.toggleClass(t,e),!e&&b&&b.heightOverflow&&b.scrollbarWidth&&(b.originalRight?r.css({paddingRight:b.originalRight+"px"}):r.css({paddingRight:""}),b=null),f(!0)},i.closedDeferred),function(){if(v&&-1===h()){o(v,m,function(){null}),m=v=void 0}}(),t&&t.focus?t.focus():r.focus&&r.focus()}function f(t){var e;0<x.length()&&(e=x.top().value).modalDomEl.toggleClass(e.windowTopClass||"",t)}function o(e,n,i,r){var t,o=null;return n.$broadcast(k.NOW_CLOSING_EVENT,function(){return t||(t=a.defer(),o=t.promise),function(){t.resolve()}}),a.when(o).then(function t(){t.done||(t.done=!0,l.leave(e).then(function(){i&&i(),e.remove(),r&&r.resolve()}),n.$destroy())})}function r(t){if(t.isDefaultPrevented())return t;var e=x.top();if(e)switch(t.which){case 27:e.value.keyboard&&(t.preventDefault(),d.$apply(function(){k.dismiss(e.key,"escape key press")}));break;case 9:var n=k.loadFocusElementList(e),i=!1;t.shiftKey?(k.isFocusInFirstItem(t,n)||k.isModalFocused(t,e))&&(i=k.focusLastFocusableElement(n)):k.isFocusInLastItem(t,n)&&(i=k.focusFirstFocusableElement(n)),i&&(t.preventDefault(),t.stopPropagation())}}function s(t,e,n){return!t.value.modalScope.$broadcast("modal.closing",e,n).defaultPrevented}function g(){Array.prototype.forEach.call(document.querySelectorAll("["+C+"]"),function(t){var e=parseInt(t.getAttribute(C),10)-1;t.setAttribute(C,e),e||(t.removeAttribute(C),t.removeAttribute("aria-hidden"))})}var v,m,b,y="modal-open",x=n.createNew(),w=e.createNew(),k={NOW_CLOSING_EVENT:"modal.stack.now-closing"},$=0,S=null,C="data-bootstrap-modal-aria-hidden-count",M=/[A-Z]/g;return d.$watch(h,function(t){m&&(m.index=t)}),c.on("keydown",r),d.$on("$destroy",function(){c.off("keydown",r)}),k.open=function(t,e){var n=c[0].activeElement,i=e.openedClass||y;f(!1),S=x.top(),x.add(t,{deferred:e.deferred,renderDeferred:e.renderDeferred,closedDeferred:e.closedDeferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard,openedClass:e.openedClass,windowTopClass:e.windowTopClass,animation:e.animation,appendTo:e.appendTo}),w.put(i,t);var r,o=e.appendTo,a=h();0<=a&&!v&&((m=d.$new(!0)).modalOptions=e,m.index=a,(v=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>')).attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),e.backdropClass&&v.addClass(e.backdropClass),e.animation&&v.attr("modal-animation","true"),u(v)(m),l.enter(v,o),p.isScrollable(o)&&((b=p.scrollbarPadding(o)).heightOverflow&&b.scrollbarWidth&&o.css({paddingRight:b.right+"px"}))),e.component?(r=document.createElement(e.component.name.replace(M,function(t,e){return(e?"-":"")+t.toLowerCase()})),(r=angular.element(r)).attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):r=e.content,$=S?parseInt(S.value.modalDomEl.attr("index"),10)+1:0;var s=angular.element('<div uib-modal-window="modal-window"></div>');s.attr({class:"modal","template-url":e.windowTemplateUrl,"window-top-class":e.windowTopClass,role:"dialog","aria-labelledby":e.ariaLabelledBy,"aria-describedby":e.ariaDescribedBy,size:e.size,index:$,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(r),e.windowClass&&s.addClass(e.windowClass),e.animation&&s.attr("modal-animation","true"),o.addClass(i),e.scope&&(e.scope.$$topModalIndex=$),l.enter(u(s)(e.scope),o),x.top().value.modalDomEl=s,x.top().value.modalOpener=n,function t(e){if(e&&"BODY"!==e[0].tagName)return(n=e,i=n.parent()?n.parent().children():[],Array.prototype.filter.call(i,function(t){return t!==n[0]})).forEach(function(t){var e="true"===t.getAttribute("aria-hidden"),n=parseInt(t.getAttribute(C),10);n||(n=e?1:0),t.setAttribute(C,n+1),t.setAttribute("aria-hidden","true")}),t(e.parent());var n,i}(s)},k.close=function(t,e){var n=x.get(t);return g(),n&&s(n,e,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(e),i(t,n.value.modalOpener),!0):!n},k.dismiss=function(t,e){var n=x.get(t);return g(),n&&s(n,e,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(e),i(t,n.value.modalOpener),!0):!n},k.dismissAll=function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop()},k.getTop=function(){return x.top()},k.modalRendered=function(t){var e=x.get(t);e&&e.value.renderDeferred.resolve()},k.focusFirstFocusableElement=function(t){return 0<t.length&&(t[0].focus(),!0)},k.focusLastFocusableElement=function(t){return 0<t.length&&(t[t.length-1].focus(),!0)},k.isModalFocused=function(t,e){if(t&&e){var n=e.value.modalDomEl;if(n&&n.length)return(t.target||t.srcElement)===n[0]}return!1},k.isFocusInFirstItem=function(t,e){return 0<e.length&&(t.target||t.srcElement)===e[0]},k.isFocusInLastItem=function(t,e){return 0<e.length&&(t.target||t.srcElement)===e[e.length-1]},k.loadFocusElementList=function(t){if(t){var e=t.value.modalDomEl;if(e&&e.length){var n=e[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return n?Array.prototype.filter.call(n,function(t){return!!((e=t).offsetWidth||e.offsetHeight||e.getClientRects().length);var e}):n}}},k}]).provider("$uibModal",function(){var b={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(g,r,o,a,v,s,m){var t={},l=null;return t.getPromiseChain=function(){return l},t.open=function(c){function t(){return e}var e,n,i,u=r.defer(),d=r.defer(),p=r.defer(),h=r.defer(),f={result:u.promise,opened:d.promise,closed:p.promise,rendered:h.promise,close:function(t){return m.close(f,t)},dismiss:function(t){return m.dismiss(f,t)}};if((c=angular.extend({},b.options,c)).resolve=c.resolve||{},c.appendTo=c.appendTo||o.find("body").eq(0),!c.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!c.component&&!c.template&&!c.templateUrl)throw new Error("One of component or template or templateUrl options is required.");return e=c.component?r.when(s.resolve(c.resolve,{},null,null)):r.all([(n=c,n.template?r.when(n.template):a(angular.isFunction(n.templateUrl)?n.templateUrl():n.templateUrl)),s.resolve(c.resolve,{},null,null)]),i=l=r.all([l]).then(t,t).then(function(o){function t(n,t,e,i){n.$scope=a,n.$scope.$resolve={},e?n.$scope.$uibModalInstance=f:n.$uibModalInstance=f;var r=t?o[1]:o;angular.forEach(r,function(t,e){i&&(n[e]=t),n.$scope.$resolve[e]=t})}var e=c.scope||g,a=e.$new();a.$close=f.close,a.$dismiss=f.dismiss,a.$on("$destroy",function(){a.$$uibDestructionScheduled||a.$dismiss("$uibUnscheduledDestruction")});var n,i,r={scope:a,deferred:u,renderDeferred:h,closedDeferred:p,animation:c.animation,backdrop:c.backdrop,keyboard:c.keyboard,backdropClass:c.backdropClass,windowTopClass:c.windowTopClass,windowClass:c.windowClass,windowTemplateUrl:c.windowTemplateUrl,ariaLabelledBy:c.ariaLabelledBy,ariaDescribedBy:c.ariaDescribedBy,size:c.size,openedClass:c.openedClass,appendTo:c.appendTo},s={},l={};c.component?(t(s,!1,!0,!1),s.name=c.component,r.component=s):c.controller&&(t(l,!0,!1,!0),i=v(c.controller,l,!0,c.controllerAs),c.controllerAs&&c.bindToController&&((n=i.instance).$close=a.$close,n.$dismiss=a.$dismiss,angular.extend(n,{$resolve:l.$scope.$resolve},e)),n=i(),angular.isFunction(n.$onInit)&&n.$onInit()),c.component||(r.content=o[0]),m.open(f,r),d.resolve(!0)},function(t){d.reject(t),u.reject(t)}).finally(function(){l===i&&(l=null)}),f},t}]};return b}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(t){return{create:function(n,i,r){n.setNumPages=r.numPages?t(r.numPages).assign:angular.noop,n.ngModelCtrl={$setViewValue:angular.noop},n._watchers=[],n.init=function(t,e){n.ngModelCtrl=t,n.config=e,t.$render=function(){n.render()},r.itemsPerPage?n._watchers.push(i.$parent.$watch(r.itemsPerPage,function(t){n.itemsPerPage=parseInt(t,10),i.totalPages=n.calculateTotalPages(),n.updatePage()})):n.itemsPerPage=e.itemsPerPage,i.$watch("totalItems",function(t,e){(angular.isDefined(t)||t!==e)&&(i.totalPages=n.calculateTotalPages(),n.updatePage())})},n.calculateTotalPages=function(){var t=n.itemsPerPage<1?1:Math.ceil(i.totalItems/n.itemsPerPage);return Math.max(t||0,1)},n.render=function(){i.page=parseInt(n.ngModelCtrl.$viewValue,10)||1},i.selectPage=function(t,e){e&&e.preventDefault(),(!i.ngDisabled||!e)&&i.page!==t&&0<t&&t<=i.totalPages&&(e&&e.target&&e.target.blur(),n.ngModelCtrl.$setViewValue(t),n.ngModelCtrl.$render())},i.getText=function(t){return i[t+"Text"]||n.config[t+"Text"]},i.noPrevious=function(){return 1===i.page},i.noNext=function(){return i.page===i.totalPages},n.updatePage=function(){n.setNumPages(i.$parent,i.totalPages),i.page>i.totalPages?i.selectPage(i.totalPages):n.ngModelCtrl.$render()},i.$on("$destroy",function(){for(;n._watchers.length;)n._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(t,e,n,i){t.align=angular.isDefined(e.align)?t.$parent.$eval(e.align):i.align,n.create(this,t,e)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(a){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(t,e){return e.templateUrl||"uib/template/pager/pager.html"},link:function(t,e,n,i){e.addClass("pager");var r=i[0],o=i[1];o&&r.init(o,a)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,n,t,i,r){function f(t,e,n){return{number:t,text:e,active:n}}var o=this,g=angular.isDefined(n.maxSize)?e.$parent.$eval(n.maxSize):r.maxSize,v=angular.isDefined(n.rotate)?e.$parent.$eval(n.rotate):r.rotate,m=angular.isDefined(n.forceEllipses)?e.$parent.$eval(n.forceEllipses):r.forceEllipses,b=angular.isDefined(n.boundaryLinkNumbers)?e.$parent.$eval(n.boundaryLinkNumbers):r.boundaryLinkNumbers,y=angular.isDefined(n.pageLabel)?function(t){return e.$parent.$eval(n.pageLabel,{$page:t})}:angular.identity;e.boundaryLinks=angular.isDefined(n.boundaryLinks)?e.$parent.$eval(n.boundaryLinks):r.boundaryLinks,e.directionLinks=angular.isDefined(n.directionLinks)?e.$parent.$eval(n.directionLinks):r.directionLinks,n.$set("role","menu"),i.create(this,e,n),n.maxSize&&o._watchers.push(e.$parent.$watch(t(n.maxSize),function(t){g=parseInt(t,10),o.render()}));var a=this.render;this.render=function(){a(),0<e.page&&e.page<=e.totalPages&&(e.pages=function(t,e){var n=[],i=1,r=e,o=angular.isDefined(g)&&g<e;o&&(v?e<(r=(i=Math.max(t-Math.floor(g/2),1))+g-1)&&(i=(r=e)-g+1):(i=(Math.ceil(t/g)-1)*g+1,r=Math.min(i+g-1,e)));for(var a=i;a<=r;a++){var s=f(a,y(a),a===t);n.push(s)}if(o&&0<g&&(!v||m||b)){if(1<i){if(!b||3<i){var l=f(i-1,"...",!1);n.unshift(l)}if(b){if(3===i){var c=f(2,"2",!1);n.unshift(c)}var u=f(1,"1",!1);n.unshift(u)}}if(r<e){if(!b||r<e-2){var d=f(r+1,"...",!1);n.push(d)}if(b){if(r===e-2){var p=f(e-1,e-1,!1);n.push(p)}var h=f(e,e,!1);n.push(h)}}}return n}(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(t,a){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(t,e){return e.templateUrl||"uib/template/pagination/pagination.html"},link:function(t,e,n,i){e.addClass("pagination");var r=i[0],o=i[1];o&&r.init(o,a)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){var s={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},l={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},c={};this.options=function(t){angular.extend(c,t)},this.setTriggers=function(t){angular.extend(l,t)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(t,o,q,B,V,a,e,Y,n){function i(t){if(27===t.which){var e=X.top();e&&(e.value.close(),e=null)}}var X=n.createNew();return B.on("keyup",i),e.$on("$destroy",function(){B.off("keyup",i)}),function(F,R,i,U){function j(t){var e=(t||U.trigger||i).split(" "),n=e.map(function(t){return l[t]||t});return{show:e,hide:n}}U=angular.extend({},s,c,U);var t=F.replace(/[A-Z]/g,function(t,e){return(e?"-":"")+t.toLowerCase()}),e=a.startSymbol(),n=a.endSymbol(),r="<div "+t+'-popup uib-title="'+e+"title"+n+'" '+(U.useContentExp?'content-exp="contentExp()" ':'content="'+e+"content"+n+'" ')+'origin-scope="origScope" class="uib-position-measure '+R+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(t,e){var W=o(r);return function(i,o,r,t){function n(){M.isOpen?s():a()}function a(){C&&!i.$eval(r[R+"Enable"])||(u(),function(){M.title=r[R+"Title"],M.content=A?A(i):r[F],M.popupClass=r[R+"Class"],M.placement=angular.isDefined(r[R+"Placement"])?r[R+"Placement"]:U.placement;var t=V.parsePlacement(M.placement);k=t[1]?t[0]+"-"+t[1]:t[0];var e=parseInt(r[R+"PopupDelay"],10),n=parseInt(r[R+"PopupCloseDelay"],10);M.popupDelay=isNaN(e)?U.popupDelay:e,M.popupCloseDelay=isNaN(n)?U.popupCloseDelay:n}(),M.popupDelay?b||(b=q(e,M.popupDelay,!1)):e())}function s(){l(),M.popupCloseDelay?y||(y=q(c,M.popupCloseDelay,!1)):c()}function e(){return l(),u(),M.content?(g||(v=M.$new(),g=W(v,function(t){$?B.find("body").append(t):o.after(t)}),X.add(M,{close:c}),E.length=0,A?(E.push(i.$watch(A,function(t){!(M.content=t)&&M.isOpen&&c()})),E.push(v.$watch(function(){T||(T=!0,v.$$postDigest(function(){T=!1,M&&M.isOpen&&D()}))}))):E.push(r.$observe(F,function(t){!(M.content=t)&&M.isOpen?c():D()})),E.push(r.$observe(R+"Title",function(t){M.title=t,M.isOpen&&D()})),E.push(r.$observe(R+"Placement",function(t){M.placement=t||U.placement,M.isOpen&&D()}))),void M.$evalAsync(function(){p(M.isOpen=!0),D()})):angular.noop}function l(){b&&(q.cancel(b),b=null),x&&(q.cancel(x),x=null)}function c(){M&&M.$evalAsync(function(){M&&(p(M.isOpen=!1),M.animation?m||(m=q(d,150,!1)):d())})}function u(){y&&(q.cancel(y),y=null),m&&(q.cancel(m),m=null)}function d(){l(),u(),E.length&&(angular.forEach(E,function(t){t()}),E.length=0),g&&(g.remove(),g=null,w&&q.cancel(w)),X.remove(M),v&&(v.$destroy(),v=null)}function p(t){_&&angular.isFunction(_.assign)&&_.assign(i,t)}function h(t){M&&M.isOpen&&g&&(o[0].contains(t.target)||g[0].contains(t.target)||s())}function f(t){27===t.which&&s()}var g,v,m,b,y,x,w,k,$=!!angular.isDefined(U.appendToBody)&&U.appendToBody,S=j(void 0),C=angular.isDefined(r[R+"Enable"]),M=i.$new(!0),T=!1,_=!!angular.isDefined(r[R+"IsOpen"])&&Y(r[R+"IsOpen"]),A=!!U.useContentExp&&Y(r[F]),E=[],D=function(){g&&g.html()&&(x||(x=q(function(){var t=V.positionElements(o,g,M.placement,$),n=angular.isDefined(g.offsetHeight)?g.offsetHeight:g.prop("offsetHeight"),i=$?V.offset(o):V.position(o);g.css({top:t.top+"px",left:t.left+"px"});var r=t.placement.split("-");g.hasClass(r[0])||(g.removeClass(k.split("-")[0]),g.addClass(r[0])),g.hasClass(U.placementClassPrefix+t.placement)||(g.removeClass(U.placementClassPrefix+k),g.addClass(U.placementClassPrefix+t.placement)),w=q(function(){var t=angular.isDefined(g.offsetHeight)?g.offsetHeight:g.prop("offsetHeight"),e=V.adjustTop(r,i,n,t);e&&g.css(e),w=null},0,!1),g.hasClass("uib-position-measure")?(V.positionArrow(g,t.placement),g.removeClass("uib-position-measure")):k!==t.placement&&V.positionArrow(g,t.placement),k=t.placement,x=null},0,!1)))};M.origScope=i,M.isOpen=!1,M.contentExp=function(){return M.content},r.$observe("disabled",function(t){t&&l(),t&&M.isOpen&&c()}),_&&i.$watch(_,function(t){M&&!t===M.isOpen&&n()});var O,P,I,z=function(){S.show.forEach(function(t){"outsideClick"===t?o.off("click",n):(o.off(t,a),o.off(t,n)),o.off("keypress",f)}),S.hide.forEach(function(t){"outsideClick"===t?B.off("click",h):o.off(t,s)})};O=[],P=[],I=i.$eval(r[R+"Trigger"]),z(),"none"!==(S=angular.isObject(I)?(Object.keys(I).forEach(function(t){O.push(t),P.push(I[t])}),{show:O,hide:P}):j(I)).show&&S.show.forEach(function(t,e){"outsideClick"===t?(o.on("click",n),B.on("click",h)):t===S.hide[e]?o.on(t,n):t&&(o.on(t,a),o.on(S.hide[e],s)),o.on("keypress",f)});var N=i.$eval(r[R+"Animation"]);M.animation=angular.isDefined(N)?!!N:U.animation;var L,H=R+"AppendToBody";L=H in r&&void 0===r[H]||i.$eval(r[H]),$=angular.isDefined(L)?L:$,i.$on("$destroy",function(){z(),d(),M=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(d,i,p,h){return{link:function(t,o,e){var a,n,s,l=t.$eval(e.tooltipTemplateTranscludeScope),c=0,u=function(){n&&(n.remove(),n=null),a&&(a.$destroy(),a=null),s&&(d.leave(s).then(function(){n=null}),n=s,s=null)};t.$watch(i.parseAsResourceUrl(e.uibTooltipTemplateTransclude),function(i){var r=++c;i?(h(i,!0).then(function(t){if(r===c){var e=l.$new(),n=p(t)(e,function(t){u(),d.enter(t,o)});s=n,(a=e).$emit("$includeContentLoaded",i)}},function(){r===c&&(u(),t.$emit("$includeContentError",i))}),t.$emit("$includeContentRequested",i)):u()}),t.$on("$destroy",u)}}}]).directive("uibTooltipClasses",["$uibPosition",function(r){return{restrict:"A",link:function(t,e,n){if(t.placement){var i=r.parsePlacement(t.placement);e.addClass(i[0])}t.popupClass&&e.addClass(t.popupClass),t.animation&&e.addClass(n.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(t){return t("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(t){return t("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(t){return t("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(t){return t("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(t){return t("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(t){return t("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(t,e,n){function i(){return angular.isDefined(t.maxParam)?t.maxParam:n.max}var r=this,o=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.bars=[],t.max=i(),this.addBar=function(e,t,n){o||t.css({transition:"none"}),this.bars.push(e),e.max=i(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=r.bars.reduce(function(t,e){return e.percent=+(100*e.value/e.max).toFixed(2),t+e.percent},0);100<t&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,r.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1),this.bars.forEach(function(t){t.recalculatePercentage()})},t.$watch("maxParam",function(t){r.bars.forEach(function(t){t.max=i(),t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(t,e,n,i){i.addBar(t,e,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(t,e,n,i){i.addBar(t,angular.element(e.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(i,r,o){var a={$setViewValue:angular.noop},n=this;this.init=function(t){(a=t).$render=this.render,a.$formatters.push(function(t){return angular.isNumber(t)&&t<<0!==t&&(t=Math.round(t)),t}),this.stateOn=angular.isDefined(r.stateOn)?i.$parent.$eval(r.stateOn):o.stateOn,this.stateOff=angular.isDefined(r.stateOff)?i.$parent.$eval(r.stateOff):o.stateOff,this.enableReset=angular.isDefined(r.enableReset)?i.$parent.$eval(r.enableReset):o.enableReset;var e=angular.isDefined(r.titles)?i.$parent.$eval(r.titles):o.titles;this.titles=angular.isArray(e)&&0<e.length?e:o.titles;var n=angular.isDefined(r.ratingStates)?i.$parent.$eval(r.ratingStates):new Array(angular.isDefined(r.max)?i.$parent.$eval(r.max):o.max);i.range=this.buildTemplateObjects(n)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;e<n;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(e)},t[e]);return t},this.getTitle=function(t){return t>=this.titles.length?t+1:this.titles[t]},i.rate=function(t){if(!i.readonly&&0<=t&&t<=i.range.length){var e=n.enableReset&&a.$viewValue===t?0:t;a.$setViewValue(e),a.$render()}},i.enter=function(t){i.readonly||(i.value=t),i.onHover({value:t})},i.reset=function(){i.value=a.$viewValue,i.onLeave()},i.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),i.rate(i.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){i.value=a.$viewValue,i.title=n.getTitle(i.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(t,e,n,i){var r=i[0],o=i[1];r.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(t){function o(t){for(var e=0;e<l.tabs.length;e++)if(l.tabs[e].index===t)return e}var a,s,l=this;l.tabs=[],l.select=function(t,e){if(!s){var n=o(a),i=l.tabs[n];if(i){if(i.tab.onDeselect({$event:e,$selectedIndex:t}),e&&e.isDefaultPrevented())return;i.tab.active=!1}var r=l.tabs[t];r?(r.tab.onSelect({$event:e}),r.tab.active=!0,l.active=r.index,a=r.index):!r&&angular.isDefined(a)&&(l.active=null,a=null)}},l.addTab=function(t){if(l.tabs.push({tab:t,index:t.index}),l.tabs.sort(function(t,e){return t.index>e.index?1:t.index<e.index?-1:0}),t.index===l.active||!angular.isDefined(l.active)&&1===l.tabs.length){var e=o(t.index);l.select(e)}},l.removeTab=function(t){for(var e,n=0;n<l.tabs.length;n++)if(l.tabs[n].tab===t){e=n;break}if(l.tabs[e].index===l.active){var i=e===l.tabs.length-1?e-1:e+1%l.tabs.length;l.select(i)}l.tabs.splice(e,1)},t.$watch("tabset.active",function(t){angular.isDefined(t)&&t!==a&&l.select(o(t))}),t.$on("$destroy",function(){s=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tabset.html"},link:function(t,e,n){t.vertical=!!angular.isDefined(n.vertical)&&t.$parent.$eval(n.vertical),t.justified=!!angular.isDefined(n.justified)&&t.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(o){return{require:"^uibTabset",replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(i,t,e,r,n){i.disabled=!1,e.disable&&i.$parent.$watch(o(e.disable),function(t){i.disabled=!!t}),angular.isUndefined(e.index)&&(r.tabs&&r.tabs.length?i.index=Math.max.apply(null,r.tabs.map(function(t){return t.index}))+1:i.index=0),angular.isUndefined(e.classes)&&(i.classes=""),i.select=function(t){if(!i.disabled){for(var e,n=0;n<r.tabs.length;n++)if(r.tabs[n].tab===i){e=n;break}r.select(e,t)}},r.addTab(i),i.$on("$destroy",function(){r.removeTab(i)}),i.$transcludeFn=n}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}).directive("uibTabContentTransclude",function(){return{restrict:"A",require:"^uibTabset",link:function(t,n,e){var i=t.$eval(e.uibTabContentTransclude).tab;i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){var e;(e=t).tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(o,t,a,e,n,i,s){function r(){var t=+o.hours;return(o.showMeridian?0<t&&t<13:0<=t&&t<24)&&""!==o.hours?(o.showMeridian&&(12===t&&(t=0),o.meridian===$[1]&&(t+=12)),t):void 0}function l(){var t=+o.minutes;return 0<=t&&t<60&&""!==o.minutes?t:void 0}function c(t,e){return null===t?"":angular.isDefined(t)&&t.toString().length<2&&!e?"0"+t:t.toString()}function u(t){d(),k.$setViewValue(new Date(x)),p(t)}function d(){m&&m.$setValidity("hours",!0),b&&b.$setValidity("minutes",!0),y&&y.$setValidity("seconds",!0),k.$setValidity("time",!0),o.invalidHours=!1,o.invalidMinutes=!1,o.invalidSeconds=!1}function p(t){if(k.$modelValue){var e=x.getHours(),n=x.getMinutes(),i=x.getSeconds();o.showMeridian&&(e=0===e||12===e?12:e%12),o.hours="h"===t?e:c(e,!S),"m"!==t&&(o.minutes=c(n)),o.meridian=x.getHours()<12?$[0]:$[1],"s"!==t&&(o.seconds=c(i)),o.meridian=x.getHours()<12?$[0]:$[1]}else o.hours=null,o.minutes=null,o.seconds=null,o.meridian=$[0]}function h(t){x=g(x,t),u()}function f(t,e){return g(t,60*e)}function g(t,e){var n=new Date(t.getTime()+1e3*e),i=new Date(t);return i.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),i}function v(){return(null===o.hours||""===o.hours)&&(null===o.minutes||""===o.minutes)&&(!o.showSeconds||o.showSeconds&&(null===o.seconds||""===o.seconds))}var m,b,y,x=new Date,w=[],k={$setViewValue:angular.noop},$=angular.isDefined(a.meridians)?o.$parent.$eval(a.meridians):s.meridians||i.DATETIME_FORMATS.AMPMS,S=!angular.isDefined(a.padHours)||o.$parent.$eval(a.padHours);o.tabindex=angular.isDefined(a.tabindex)?a.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,e){(k=t).$render=this.render,k.$formatters.unshift(function(t){return t?new Date(t):null});var n=e.eq(0),i=e.eq(1),r=e.eq(2);m=n.controller("ngModel"),b=i.controller("ngModel"),y=r.controller("ngModel"),(angular.isDefined(a.mousewheel)?o.$parent.$eval(a.mousewheel):s.mousewheel)&&this.setupMousewheelEvents(n,i,r),(angular.isDefined(a.arrowkeys)?o.$parent.$eval(a.arrowkeys):s.arrowkeys)&&this.setupArrowkeyEvents(n,i,r),o.readonlyInput=angular.isDefined(a.readonlyInput)?o.$parent.$eval(a.readonlyInput):s.readonlyInput,this.setupInputEvents(n,i,r)};var C=s.hourStep;a.hourStep&&w.push(o.$parent.$watch(e(a.hourStep),function(t){C=+t}));var M,T,_=s.minuteStep;a.minuteStep&&w.push(o.$parent.$watch(e(a.minuteStep),function(t){_=+t})),w.push(o.$parent.$watch(e(a.min),function(t){var e=new Date(t);M=isNaN(e)?void 0:e})),w.push(o.$parent.$watch(e(a.max),function(t){var e=new Date(t);T=isNaN(e)?void 0:e}));var A=!1;a.ngDisabled&&w.push(o.$parent.$watch(e(a.ngDisabled),function(t){A=t})),o.noIncrementHours=function(){var t=f(x,60*C);return A||T<t||t<x&&t<M},o.noDecrementHours=function(){var t=f(x,60*-C);return A||t<M||x<t&&T<t},o.noIncrementMinutes=function(){var t=f(x,_);return A||T<t||t<x&&t<M},o.noDecrementMinutes=function(){var t=f(x,-_);return A||t<M||x<t&&T<t},o.noIncrementSeconds=function(){var t=g(x,E);return A||T<t||t<x&&t<M},o.noDecrementSeconds=function(){var t=g(x,-E);return A||t<M||x<t&&T<t},o.noToggleMeridian=function(){return x.getHours()<12?A||f(x,720)>T:A||f(x,-720)<M};var E=s.secondStep;a.secondStep&&w.push(o.$parent.$watch(e(a.secondStep),function(t){E=+t})),o.showSeconds=s.showSeconds,a.showSeconds&&w.push(o.$parent.$watch(e(a.showSeconds),function(t){o.showSeconds=!!t})),o.showMeridian=s.showMeridian,a.showMeridian&&w.push(o.$parent.$watch(e(a.showMeridian),function(t){if(o.showMeridian=!!t,k.$error.time){var e=r(),n=l();angular.isDefined(e)&&angular.isDefined(n)&&(x.setHours(e),u())}else p()})),this.setupMousewheelEvents=function(t,e,n){var i=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||0<e};t.on("mousewheel wheel",function(t){A||o.$apply(i(t)?o.incrementHours():o.decrementHours()),t.preventDefault()}),e.on("mousewheel wheel",function(t){A||o.$apply(i(t)?o.incrementMinutes():o.decrementMinutes()),t.preventDefault()}),n.on("mousewheel wheel",function(t){A||o.$apply(i(t)?o.incrementSeconds():o.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,e,n){t.on("keydown",function(t){A||(38===t.which?(t.preventDefault(),o.incrementHours(),o.$apply()):40===t.which&&(t.preventDefault(),o.decrementHours(),o.$apply()))}),e.on("keydown",function(t){A||(38===t.which?(t.preventDefault(),o.incrementMinutes(),o.$apply()):40===t.which&&(t.preventDefault(),o.decrementMinutes(),o.$apply()))}),n.on("keydown",function(t){A||(38===t.which?(t.preventDefault(),o.incrementSeconds(),o.$apply()):40===t.which&&(t.preventDefault(),o.decrementSeconds(),o.$apply()))})},this.setupInputEvents=function(t,e,n){if(o.readonlyInput)return o.updateHours=angular.noop,o.updateMinutes=angular.noop,void(o.updateSeconds=angular.noop);var i=function(t,e,n){k.$setViewValue(null),k.$setValidity("time",!1),angular.isDefined(t)&&(o.invalidHours=t,m&&m.$setValidity("hours",!1)),angular.isDefined(e)&&(o.invalidMinutes=e,b&&b.$setValidity("minutes",!1)),angular.isDefined(n)&&(o.invalidSeconds=n,y&&y.$setValidity("seconds",!1))};o.updateHours=function(){var t=r(),e=l();k.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(x.setHours(t),x.setMinutes(e),x<M||T<x?i(!0):u("h")):i(!0)},t.on("blur",function(t){k.$setTouched(),v()?d():null===o.hours||""===o.hours?i(!0):!o.invalidHours&&o.hours<10&&o.$apply(function(){o.hours=c(o.hours,!S)})}),o.updateMinutes=function(){var t=l(),e=r();k.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(x.setHours(e),x.setMinutes(t),x<M||T<x?i(void 0,!0):u("m")):i(void 0,!0)},e.on("blur",function(t){k.$setTouched(),v()?d():null===o.minutes?i(void 0,!0):!o.invalidMinutes&&o.minutes<10&&o.$apply(function(){o.minutes=c(o.minutes)})}),o.updateSeconds=function(){var t,e=0<=(t=+o.seconds)&&t<60?t:void 0;k.$setDirty(),angular.isDefined(e)?(x.setSeconds(e),u("s")):i(void 0,void 0,!0)},n.on("blur",function(t){v()?d():!o.invalidSeconds&&o.seconds<10&&o.$apply(function(){o.seconds=c(o.seconds)})})},this.render=function(){var t=k.$viewValue;isNaN(t)?(k.$setValidity("time",!1),n.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(x=t),x<M||T<x?(k.$setValidity("time",!1),o.invalidHours=!0,o.invalidMinutes=!0):d(),p())},o.showSpinners=angular.isDefined(a.showSpinners)?o.$parent.$eval(a.showSpinners):s.showSpinners,o.incrementHours=function(){o.noIncrementHours()||h(60*C*60)},o.decrementHours=function(){o.noDecrementHours()||h(60*-C*60)},o.incrementMinutes=function(){o.noIncrementMinutes()||h(60*_)},o.decrementMinutes=function(){o.noDecrementMinutes()||h(60*-_)},o.incrementSeconds=function(){o.noIncrementSeconds()||h(E)},o.decrementSeconds=function(){o.noDecrementSeconds()||h(-E)},o.toggleMeridian=function(){var t=l(),e=r();o.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(e)?h(720*(x.getHours()<12?60:-60)):o.meridian=o.meridian===$[0]?$[1]:$[0])},o.blur=function(){k.$setTouched()},o.$on("$destroy",function(){for(;w.length;)w.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(n){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(t,e){return e.templateUrl||n.templateUrl},link:function(t,e,n,i){var r=i[0],o=i[1];o&&r.init(o,e.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(n){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(t){var e=t.match(i);if(!e)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+t+'".');return{itemName:e[3],source:n(e[4]),viewMapper:n(e[2]||e[1]),modelMapper:n(e[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(c,u,s,t,i,e,l,n,r,o,d,a,p){function h(){H.moveInProgress||(H.moveInProgress=!0,H.$digest()),Y()}function f(){H.position=A?a.offset(u):a.position(u),H.position.top+=u.prop("offsetHeight")}var g,v,m=[9,13,27,38,40],b=c.$eval(s.typeaheadMinLength);b||0===b||(b=1),c.$watch(s.typeaheadMinLength,function(t){b=t||0===t?t:1});var y=c.$eval(s.typeaheadWaitMs)||0,x=!1!==c.$eval(s.typeaheadEditable);c.$watch(s.typeaheadEditable,function(t){x=!1!==t});var w,k,$=i(s.typeaheadLoading).assign||angular.noop,S=s.typeaheadShouldSelect?i(s.typeaheadShouldSelect):function(t,e){var n=e.$event;return 13===n.which||9===n.which},C=i(s.typeaheadOnSelect),M=!!angular.isDefined(s.typeaheadSelectOnBlur)&&c.$eval(s.typeaheadSelectOnBlur),T=i(s.typeaheadNoResults).assign||angular.noop,_=s.typeaheadInputFormatter?i(s.typeaheadInputFormatter):void 0,A=!!s.typeaheadAppendToBody&&c.$eval(s.typeaheadAppendToBody),E=s.typeaheadAppendTo?c.$eval(s.typeaheadAppendTo):null,D=!1!==c.$eval(s.typeaheadFocusFirst),O=!!s.typeaheadSelectOnExact&&c.$eval(s.typeaheadSelectOnExact),P=i(s.typeaheadIsOpen).assign||angular.noop,I=c.$eval(s.typeaheadShowHint)||!1,z=i(s.ngModel),N=i(s.ngModel+"($$$p)"),L=p.parse(s.uibTypeahead),H=c.$new(),W=c.$on("$destroy",function(){H.$destroy()});H.$on("$destroy",W);var F,R,U="typeahead-"+H.$id+"-"+Math.floor(1e4*Math.random());u.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":U}),I&&((F=angular.element("<div></div>")).css("position","relative"),u.after(F),(R=u.clone()).attr("placeholder",""),R.attr("tabindex","-1"),R.val(""),R.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),u.css({position:"relative","vertical-align":"top","background-color":"transparent"}),R.attr("id")&&R.removeAttr("id"),F.append(R),R.after(u));var j=angular.element("<div uib-typeahead-popup></div>");j.attr({id:U,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(s.typeaheadTemplateUrl)&&j.attr("template-url",s.typeaheadTemplateUrl),angular.isDefined(s.typeaheadPopupTemplateUrl)&&j.attr("popup-template-url",s.typeaheadPopupTemplateUrl);var q=function(){H.matches=[],H.activeIdx=-1,u.attr("aria-expanded",!1),I&&R.val("")},B=function(t){return U+"-option-"+t};H.$watch("activeIdx",function(t){t<0?u.removeAttr("aria-activedescendant"):u.attr("aria-activedescendant",B(t))});var V=function(a,s){var l={$viewValue:a};$(c,!0),T(c,!1),e.when(L.source(c,l)).then(function(t){var e,n,i=a===g.$viewValue;if(i&&w)if(t&&0<t.length){H.activeIdx=D?0:-1,T(c,!1);for(var r=H.matches.length=0;r<t.length;r++)l[L.itemName]=t[r],H.matches.push({id:B(r),label:L.viewMapper(H,l),model:t[r]});if(H.query=a,f(),u.attr("aria-expanded",!0),O&&1===H.matches.length&&(e=a,n=0,!!(H.matches.length>n&&e)&&e.toUpperCase()===H.matches[n].label.toUpperCase())&&(angular.isNumber(H.debounceUpdate)||angular.isObject(H.debounceUpdate)?d(function(){H.select(0,s)},angular.isNumber(H.debounceUpdate)?H.debounceUpdate:H.debounceUpdate.default):H.select(0,s)),I){var o=H.matches[0].label;angular.isString(a)&&0<a.length&&o.slice(0,a.length).toUpperCase()===a.toUpperCase()?R.val(a+o.slice(a.length)):R.val("")}}else q(),T(c,!0);i&&$(c,!1)},function(){q(),$(c,!1),T(c,!0)})};A&&(angular.element(r).on("resize",h),n.find("body").on("scroll",h));var Y=d(function(){H.matches.length&&f(),H.moveInProgress=!1},200);H.moveInProgress=!1,H.query=void 0;var X,G=function(){X&&l.cancel(X)};q(),H.assignIsOpen=function(t){P(c,t)},H.select=function(t,e){var n,i,r,o,a={};k=!0,a[L.itemName]=i=H.matches[t].model,n=L.modelMapper(c,a),r=c,o=n,angular.isFunction(z(c))&&v.getOption("getterSetter")?N(r,{$$$p:o}):z.assign(r,o),g.$setValidity("editable",!0),g.$setValidity("parse",!0),C(c,{$item:i,$model:n,$label:L.viewMapper(c,a),$event:e}),q(),!1!==H.$eval(s.typeaheadFocusOnSelect)&&l(function(){u[0].focus()},0,!1)},u.on("keydown",function(t){if(0!==H.matches.length&&-1!==m.indexOf(t.which)){var e,n=S(c,{$event:t});if(-1===H.activeIdx&&n||9===t.which&&t.shiftKey)return q(),void H.$digest();switch(t.preventDefault(),t.which){case 27:t.stopPropagation(),q(),c.$digest();break;case 38:H.activeIdx=(0<H.activeIdx?H.activeIdx:H.matches.length)-1,H.$digest(),(e=j[0].querySelectorAll(".uib-typeahead-match")[H.activeIdx]).parentNode.scrollTop=e.offsetTop;break;case 40:H.activeIdx=(H.activeIdx+1)%H.matches.length,H.$digest(),(e=j[0].querySelectorAll(".uib-typeahead-match")[H.activeIdx]).parentNode.scrollTop=e.offsetTop;break;default:n&&H.$apply(function(){angular.isNumber(H.debounceUpdate)||angular.isObject(H.debounceUpdate)?d(function(){H.select(H.activeIdx,t)},angular.isNumber(H.debounceUpdate)?H.debounceUpdate:H.debounceUpdate.default):H.select(H.activeIdx,t)})}}}),u.on("focus",function(t){w=!0,0!==b||g.$viewValue||l(function(){V(g.$viewValue,t)},0)}),u.on("blur",function(t){M&&H.matches.length&&-1!==H.activeIdx&&!k&&(k=!0,H.$apply(function(){angular.isObject(H.debounceUpdate)&&angular.isNumber(H.debounceUpdate.blur)?d(function(){H.select(H.activeIdx,t)},H.debounceUpdate.blur):H.select(H.activeIdx,t)})),!x&&g.$error.editable&&(g.$setViewValue(),H.$apply(function(){g.$setValidity("editable",!0),g.$setValidity("parse",!0)}),u.val("")),k=w=!1});var Z=function(t){u[0]!==t.target&&3!==t.which&&0!==H.matches.length&&(q(),o.$$phase||c.$digest())};n.on("click",Z),c.$on("$destroy",function(){n.off("click",Z),(A||E)&&K.remove(),A&&(angular.element(r).off("resize",h),n.find("body").off("scroll",h)),j.remove(),I&&F.remove()});var K=t(j)(H);A?n.find("body").append(K):E?angular.element(E).eq(0).append(K):u.after(K),this.init=function(t){var e,n;e=g=t,angular.version.minor<6?(n=e.$options||{}).getOption=function(t){return n[t]}:n=e.$options,v=n,H.debounceUpdate=i(v.getOption("debounce"))(c),g.$parsers.unshift(function(t){return w=!0,0===b||t&&t.length>=b?0<y?(G(),e=t,X=l(function(){V(e)},y)):V(t):($(c,!1),G(),q()),x?t:t?void g.$setValidity("editable",!1):(g.$setValidity("editable",!0),null);var e}),g.$formatters.push(function(t){var e,n={};return x||g.$setValidity("editable",!0),_?(n.$model=t,_(c,n)):(n[L.itemName]=t,e=L.viewMapper(c,n),n[L.itemName]=void 0,e!==L.viewMapper(c,n)?e:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(t,e,n,i){i[1].init(i[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(r){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(t,e){return e.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(i,t,e){i.templateUrl=e.templateUrl,i.isOpen=function(){var t=0<i.matches.length;return i.assignIsOpen({isOpen:t}),t},i.isActive=function(t){return i.active===t},i.selectActive=function(t){i.active=t},i.selectMatch=function(t,e){var n=i.debounce();angular.isNumber(n)||angular.isObject(n)?r(function(){i.select({activeIdx:t,evt:e})},angular.isNumber(n)?n:n.default):i.select({activeIdx:t,evt:e})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(r,o,a){return{scope:{index:"=",match:"=",query:"="},link:function(n,i,t){var e=a(t.templateUrl)(n.$parent)||"uib/template/typeahead/typeahead-match.html";r(e).then(function(t){var e=angular.element(t.trim());i.replaceWith(e),o(e)(n)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(n,t,i){var r;return r=t.has("$sanitize"),function(t,e){return!r&&/<.*>/g.test(t)&&i.warn("Unsafe use of typeahead please use ngSanitize"),t=e?(""+t).replace(new RegExp(e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):t,r||(t=n.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(t){t.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(t){t.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),function(){"use strict";function t(c,u,t,d,p,r,h){function f(t,n){var i=function(t){for(var e=0;e<b.length;e++)if(b[e].toastId===t)return b[e]}(t);i&&!i.deleting&&(i.deleting=!0,i.isOpened=!1,c.leave(i.el).then(function(){i.scope.options.onHidden&&i.scope.options.onHidden(!!n,i),i.scope.$destroy();var t=b.indexOf(i);delete x[i.scope.message],b.splice(t,1);var e=r.maxOpened;e&&b.length>=e&&b[e-1].open.resolve(),!b.length&&(v.remove(),v=null,w=h.defer())}))}function i(t,e,n,i){return angular.isObject(n)&&(i=n,n=null),function(r){function o(e,t,n){function i(t){if(n[t])return function(){n[t](e)}}n.allowHtml?(e.scope.allowHtml=!0,e.scope.title=p.trustAsHtml(t.title),e.scope.message=p.trustAsHtml(t.message)):(e.scope.title=t.title,e.scope.message=t.message),e.scope.toastType=e.iconClass,e.scope.toastId=e.toastId,e.scope.extraData=n.extraData,e.scope.options={extendedTimeOut:n.extendedTimeOut,messageClass:n.messageClass,onHidden:n.onHidden,onShown:i("onShown"),onTap:i("onTap"),progressBar:n.progressBar,tapToDismiss:n.tapToDismiss,timeOut:n.timeOut,titleClass:n.titleClass,toastClass:n.toastClass},n.closeButton&&(e.scope.options.closeHtml=n.closeHtml)}var a=g();if(s=a.preventDuplicates&&r.message===y,l=a.preventOpenDuplicates&&x[r.message],!s&&!l&&(y=r.message,x[r.message]=!0)){var e=function(){function t(t){for(var e=["containerId","iconClasses","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","templates"],n=0,i=e.length;n<i;n++)delete t[e[n]];return t}var e={toastId:m++,isOpened:!1,scope:d.$new(),open:h.defer()};return e.iconClass=r.iconClass,r.optionsOverride&&(angular.extend(a,t(r.optionsOverride)),e.iconClass=r.optionsOverride.iconClass||e.iconClass),o(e,r,a),e.el=(n=e.scope,i=angular.element("<div toast></div>"),u.get("$compile")(i)(n)),e;var n,i}();if(b.push(e),a.autoDismiss&&a.maxOpened&&b.length>a.maxOpened)for(var t=b.slice(0,b.length-a.maxOpened),n=0,i=t.length;n<i;n++)f(t[n].toastId);return(a.maxOpened&&b.length<=a.maxOpened||!a.maxOpened)&&e.open.resolve(),e.open.promise.then(function(){(function(t){if(v)return w.promise;(v=angular.element("<div></div>")).attr("id",t.containerId),v.addClass(t.positionClass),v.css({"pointer-events":"auto"});var e=angular.element(document.querySelector(t.target));if(!e||!e.length)throw"Target for toasts doesn't exist";return c.enter(v,e).then(function(){w.resolve()}),w.promise})(a).then(function(){if(e.isOpened=!0,a.newestOnTop)c.enter(e.el,v).then(function(){e.scope.init()});else{var t=v[0].lastChild?angular.element(v[0].lastChild):null;c.enter(e.el,v,t).then(function(){e.scope.init()})}})}),e}var s,l}({iconClass:t,message:e,optionsOverride:i,title:n})}function g(){return angular.extend({},r)}var v,m=0,b=[],y="",x={},w=h.defer();return{active:function(){return b.length},clear:function(t){if(1!==arguments.length||t)if(t)f(t.toastId);else for(var e=0;e<b.length;e++)f(b[e].toastId)},error:function(t,e,n){return i(g().iconClasses.error,t,e,n)},info:function(t,e,n){return i(g().iconClasses.info,t,e,n)},remove:f,success:function(t,e,n){return i(g().iconClasses.success,t,e,n)},warning:function(t,e,n){return i(g().iconClasses.warning,t,e,n)},refreshTimer:function(t,e){t&&t.isOpened&&0<=b.indexOf(t)&&t.scope.refreshTimer(e)}}}angular.module("toastr",[]).factory("toastr",t),t.$inject=["$animate","$injector","$document","$rootScope","$sce","toastrConfig","$q"]}(),function(){"use strict";angular.module("toastr").constant("toastrConfig",{allowHtml:!1,autoDismiss:!1,closeButton:!1,closeHtml:"<button>&times;</button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},maxOpened:0,messageClass:"toast-message",newestOnTop:!0,onHidden:null,onShown:null,onTap:null,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,progressBar:!1,tapToDismiss:!0,target:"body",templates:{toast:"directives/toast/toast.html",progressbar:"directives/progressbar/progressbar.html"},timeOut:5e3,titleClass:"toast-title",toastClass:"toast"})}(),function(){"use strict";function t(t){return{require:"^toast",templateUrl:function(){return t.templates.progressbar},link:function(t,e,n,i){function r(){var t=(s-(new Date).getTime())/a*100;e.css("width",t+"%")}var o,a,s;(i.progressBar=t).start=function(t){o&&clearInterval(o),a=parseFloat(t),s=(new Date).getTime()+a,o=setInterval(r,10)},t.stop=function(){o&&clearInterval(o)},t.$on("$destroy",function(){clearInterval(o)})}}}angular.module("toastr").directive("progressBar",t),t.$inject=["toastrConfig"]}(),function(){"use strict";angular.module("toastr").controller("ToastController",function(){this.progressBar=null,this.startProgressBar=function(t){this.progressBar&&this.progressBar.start(t)},this.stopProgressBar=function(){this.progressBar&&this.progressBar.stop()}})}(),function(){"use strict";function t(l,c,t,u){return{templateUrl:function(){return t.templates.toast},controller:"ToastController",link:function(n,t,e,i){function r(t){return i.startProgressBar(t),c(function(){i.stopProgressBar(),u.remove(n.toastId)},t,1)}var o;if(n.toastClass=n.options.toastClass,n.titleClass=n.options.titleClass,n.messageClass=n.options.messageClass,n.progressBar=n.options.progressBar,n.options.closeHtml){var a=angular.element(n.options.closeHtml),s=l.get("$compile");a.addClass("toast-close-button"),a.attr("ng-click","close(true, $event)"),s(a)(n),t.children().prepend(a)}n.init=function(){n.options.timeOut&&(o=r(n.options.timeOut)),n.options.onShown&&n.options.onShown()},t.on("mouseenter",function(){n.progressBar=!1,i.stopProgressBar(),o&&c.cancel(o)}),n.tapToast=function(){angular.isFunction(n.options.onTap)&&n.options.onTap(),n.options.tapToDismiss&&n.close(!0)},n.close=function(t,e){e&&angular.isFunction(e.stopPropagation)&&e.stopPropagation(),u.remove(n.toastId,t)},n.refreshTimer=function(t){o&&(c.cancel(o),o=r(t||n.options.timeOut))},t.on("mouseleave",function(){0===n.options.timeOut&&0===n.options.extendedTimeOut||(n.$apply(function(){n.progressBar=n.options.progressBar}),o=r(n.options.extendedTimeOut))})}}}angular.module("toastr").directive("toast",t),t.$inject=["$injector","$interval","toastrConfig","toastr"]}(),angular.module("toastr").run(["$templateCache",function(t){t.put("directives/progressbar/progressbar.html",'<div class="toast-progress"></div>\n'),t.put("directives/toast/toast.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\n  <div ng-switch on="allowHtml">\n    <div ng-switch-default ng-if="title" class="{{titleClass}}" aria-label="{{title}}">{{title}}</div>\n    <div ng-switch-default class="{{messageClass}}" aria-label="{{message}}">{{message}}</div>\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title"></div>\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message"></div>\n  </div>\n  <progress-bar ng-if="progressBar"></progress-bar>\n</div>\n')}]),(mod=angular.module("infinite-scroll",[])).value("THROTTLE_MILLISECONDS",null),mod.directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(m,b,y,x){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(n,i,t){var r,o,a,s=angular.element(b),l=r=a=o=null,e=!0,c=!1,u=null,d=function(t){return t=t[0]||t,isNaN(t.offsetHeight)?t.document.documentElement.clientHeight:t.offsetHeight},p=function(t){if(t[0].getBoundingClientRect&&!t.css("none"))return t[0].getBoundingClientRect().top+h(t)},h=function(t){return t=t[0]||t,isNaN(window.pageYOffset)?t.document.documentElement.scrollTop:t.ownerDocument.defaultView.pageYOffset},f=function(){if(l===s)var t=d(l)+h(l[0].document.documentElement),e=p(i)+d(i);else t=d(l),void(e=0)!==p(l)&&(e=p(l)),e=p(i)-e+d(i);return c&&(e=d((i[0].ownerDocument||i[0].document).documentElement)),e-t<=d(l)*o+1?(r=!0,a?n.$$phase||m.$$phase?n.infiniteScroll():n.$apply(n.infiniteScroll):void 0):r=!1},g=function(n,i){var r=null,o=0,a=function(){return o=(new Date).getTime(),y.cancel(r),r=null,n.call(),null};return function(){var t=(new Date).getTime(),e=i-(t-o);return e<=0?(clearTimeout(r),y.cancel(r),r=null,o=t,n.call()):r?void 0:r=y(a,e,1)}};null!=x&&(f=g(f,x)),n.$on("$destroy",function(){if(l.unbind("scroll",f),null!=u)return u(),u=null}),g=function(t){return o=parseFloat(t)||0},n.$watch("infiniteScrollDistance",g),g(n.infiniteScrollDistance),g=function(t){if((a=!t)&&r)return r=!1,f()},n.$watch("infiniteScrollDisabled",g),g(n.infiniteScrollDisabled),g=function(t){return c=t},n.$watch("infiniteScrollUseDocumentBottom",g),g(n.infiniteScrollUseDocumentBottom);var v=function(t){if(null!=l&&l.unbind("scroll",f),null!=(l=t))return l.bind("scroll",f)};return v(s),n.infiniteScrollListenForEvent&&(u=m.$on(n.infiniteScrollListenForEvent,f)),g=function(t){if(null!=t&&0!==t.length){if(t instanceof HTMLElement?t=angular.element(t):"function"==typeof t.append?t=angular.element(t[t.length-1]):"string"==typeof t&&(t=angular.element(document.querySelector(t))),null!=t)return v(t);throw new Exception("invalid infinite-scroll-container attribute.")}},n.$watch("infiniteScrollContainer",g),g(n.infiniteScrollContainer||[]),null!=t.infiniteScrollParent&&v(angular.element(i.parent())),null!=t.infiniteScrollImmediateCheck&&(e=n.$eval(t.infiniteScrollImmediateCheck)),y(function(){if(e)return f()},0,1)}}}]),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.satellizer=e()}(this,function(){"use strict";var t=function(){function t(){this.baseUrl="/",this.loginUrl="/auth/login",this.signupUrl="/auth/signup",this.unlinkUrl="/auth/unlink/",this.tokenName="token",this.tokenPrefix="satellizer",this.tokenHeader="Authorization",this.tokenType="Bearer",this.storageType="localStorage",this.tokenRoot=null,this.withCredentials=!1,this.providers={facebook:{name:"facebook",url:"/auth/facebook",authorizationEndpoint:"https://www.facebook.com/v2.5/dialog/oauth",redirectUri:window.location.origin+"/",requiredUrlParams:["display","scope"],scope:["email"],scopeDelimiter:",",display:"popup",oauthType:"2.0",popupOptions:{width:580,height:400}},google:{name:"google",url:"/auth/google",authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",redirectUri:window.location.origin,requiredUrlParams:["scope"],optionalUrlParams:["display","state"],scope:["profile","email"],scopePrefix:"openid",scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:452,height:633},state:function(){return encodeURIComponent(Math.random().toString(36).substr(2))}},github:{name:"github",url:"/auth/github",authorizationEndpoint:"https://github.com/login/oauth/authorize",redirectUri:window.location.origin,optionalUrlParams:["scope"],scope:["user:email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1020,height:618}},instagram:{name:"instagram",url:"/auth/instagram",authorizationEndpoint:"https://api.instagram.com/oauth/authorize",redirectUri:window.location.origin,requiredUrlParams:["scope"],scope:["basic"],scopeDelimiter:"+",oauthType:"2.0"},linkedin:{name:"linkedin",url:"/auth/linkedin",authorizationEndpoint:"https://www.linkedin.com/uas/oauth2/authorization",redirectUri:window.location.origin,requiredUrlParams:["state"],scope:["r_emailaddress"],scopeDelimiter:" ",state:"STATE",oauthType:"2.0",popupOptions:{width:527,height:582}},twitter:{name:"twitter",url:"/auth/twitter",authorizationEndpoint:"https://api.twitter.com/oauth/authenticate",redirectUri:window.location.origin,oauthType:"1.0",popupOptions:{width:495,height:645}},twitch:{name:"twitch",url:"/auth/twitch",authorizationEndpoint:"https://api.twitch.tv/kraken/oauth2/authorize",redirectUri:window.location.origin,requiredUrlParams:["scope"],scope:["user_read"],scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:500,height:560}},live:{name:"live",url:"/auth/live",authorizationEndpoint:"https://login.live.com/oauth20_authorize.srf",redirectUri:window.location.origin,requiredUrlParams:["display","scope"],scope:["wl.emails"],scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:500,height:560}},yahoo:{name:"yahoo",url:"/auth/yahoo",authorizationEndpoint:"https://api.login.yahoo.com/oauth2/request_auth",redirectUri:window.location.origin,scope:[],scopeDelimiter:",",oauthType:"2.0",popupOptions:{width:559,height:519}},bitbucket:{name:"bitbucket",url:"/auth/bitbucket",authorizationEndpoint:"https://bitbucket.org/site/oauth2/authorize",redirectUri:window.location.origin+"/",requiredUrlParams:["scope"],scope:["email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1028,height:529}},spotify:{name:"spotify",url:"/auth/spotify",authorizationEndpoint:"https://accounts.spotify.com/authorize",redirectUri:window.location.origin,optionalUrlParams:["state"],requiredUrlParams:["scope"],scope:["user-read-email"],scopePrefix:"",scopeDelimiter:",",oauthType:"2.0",popupOptions:{width:500,height:530},state:function(){return encodeURIComponent(Math.random().toString(36).substr(2))}}},this.httpInterceptor=function(){return!0}}return Object.defineProperty(t,"getConstant",{get:function(){return new t},enumerable:!0,configurable:!0}),t}(),e=function(){function t(t){this.SatellizerConfig=t}return Object.defineProperty(t.prototype,"baseUrl",{get:function(){return this.SatellizerConfig.baseUrl},set:function(t){this.SatellizerConfig.baseUrl=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loginUrl",{get:function(){return this.SatellizerConfig.loginUrl},set:function(t){this.SatellizerConfig.loginUrl=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"signupUrl",{get:function(){return this.SatellizerConfig.signupUrl},set:function(t){this.SatellizerConfig.signupUrl=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unlinkUrl",{get:function(){return this.SatellizerConfig.unlinkUrl},set:function(t){this.SatellizerConfig.unlinkUrl=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tokenRoot",{get:function(){return this.SatellizerConfig.tokenRoot},set:function(t){this.SatellizerConfig.tokenRoot=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tokenName",{get:function(){return this.SatellizerConfig.tokenName},set:function(t){this.SatellizerConfig.tokenName=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tokenPrefix",{get:function(){return this.SatellizerConfig.tokenPrefix},set:function(t){this.SatellizerConfig.tokenPrefix=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tokenHeader",{get:function(){return this.SatellizerConfig.tokenHeader},set:function(t){this.SatellizerConfig.tokenHeader=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tokenType",{get:function(){return this.SatellizerConfig.tokenType},set:function(t){this.SatellizerConfig.tokenType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"withCredentials",{get:function(){return this.SatellizerConfig.withCredentials},set:function(t){this.SatellizerConfig.withCredentials=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storageType",{get:function(){return this.SatellizerConfig.storageType},set:function(t){this.SatellizerConfig.storageType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"httpInterceptor",{get:function(){return this.SatellizerConfig.httpInterceptor},set:function(t){this.SatellizerConfig.httpInterceptor="function"==typeof t?t:function(){return t}},enumerable:!0,configurable:!0}),t.prototype.facebook=function(t){angular.extend(this.SatellizerConfig.providers.facebook,t)},t.prototype.google=function(t){angular.extend(this.SatellizerConfig.providers.google,t)},t.prototype.github=function(t){angular.extend(this.SatellizerConfig.providers.github,t)},t.prototype.instagram=function(t){angular.extend(this.SatellizerConfig.providers.instagram,t)},t.prototype.linkedin=function(t){angular.extend(this.SatellizerConfig.providers.linkedin,t)},t.prototype.twitter=function(t){angular.extend(this.SatellizerConfig.providers.twitter,t)},t.prototype.twitch=function(t){angular.extend(this.SatellizerConfig.providers.twitch,t)},t.prototype.live=function(t){angular.extend(this.SatellizerConfig.providers.live,t)},t.prototype.yahoo=function(t){angular.extend(this.SatellizerConfig.providers.yahoo,t)},t.prototype.bitbucket=function(t){angular.extend(this.SatellizerConfig.providers.bitbucket,t)},t.prototype.spotify=function(t){angular.extend(this.SatellizerConfig.providers.spotify,t)},t.prototype.oauth1=function(t){this.SatellizerConfig.providers[t.name]=angular.extend(t,{oauthType:"1.0"})},t.prototype.oauth2=function(t){this.SatellizerConfig.providers[t.name]=angular.extend(t,{oauthType:"2.0"})},t.prototype.$get=function(e,n,i){return{login:function(t,e){return n.login(t,e)},signup:function(t,e){return n.signup(t,e)},logout:function(){return e.logout()},authenticate:function(t,e){return i.authenticate(t,e)},link:function(t,e){return i.authenticate(t,e)},unlink:function(t,e){return i.unlink(t,e)},isAuthenticated:function(){return e.isAuthenticated()},getPayload:function(){return e.getPayload()},getToken:function(){return e.getToken()},setToken:function(t){return e.setToken({access_token:t})},removeToken:function(){return e.removeToken()},setStorageType:function(t){return e.setStorageType(t)}}},t.$inject=["SatellizerConfig"],t}();function o(t,e){if(/^(?:[a-z]+:)?\/\//i.test(e))return e;var n=[t,e].join("/");return n.replace(/[\/]+/g,"/").replace(/\/\?/g,"?").replace(/\/\#/g,"#").replace(/\:\//g,"://")}function l(t){var e="https:"===t.protocol;return t.protocol+"//"+t.hostname+":"+(t.port||(e?"443":"80"))+(/^\//.test(t.pathname)?t.pathname:"/"+t.pathname)}function c(t){var e,n,i={};return angular.forEach((t||"").split("&"),function(t){t&&(n=t.split("="),e=decodeURIComponent(n[0]),i[e]=!angular.isDefined(n[1])||decodeURIComponent(n[1]))}),i}function n(t){var e;if("undefined"!=typeof module&&module.exports)try{e=require("buffer").Buffer}catch(t){}var n=String.fromCharCode,i=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),r=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return n(55296+(e>>>10))+n(56320+(1023&e));case 3:return n((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return n((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}};return(e?function(t){return(t.constructor===e.constructor?t:new e(t,"base64")).toString()}:function(t){return atob(t).replace(i,r)})(String(t).replace(/[-_]/g,function(t){return"-"===t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))}e.prototype.$get.$inject=["SatellizerShared","SatellizerLocal","SatellizerOAuth"];var i=function(){function t(t,e,n,i){this.$q=t,this.$window=e,this.SatellizerConfig=n,this.SatellizerStorage=i;var r=this.SatellizerConfig,o=r.tokenName,a=r.tokenPrefix;this.prefixedTokenName=a?[a,o].join("_"):o}return t.prototype.getToken=function(){return this.SatellizerStorage.get(this.prefixedTokenName)},t.prototype.getPayload=function(){var t=this.SatellizerStorage.get(this.prefixedTokenName);if(t&&3===t.split(".").length)try{var e=t.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(n(e))}catch(t){}},t.prototype.setToken=function(t){var e,n=this.SatellizerConfig.tokenRoot,i=this.SatellizerConfig.tokenName,r=t&&t.access_token;if(r&&(angular.isObject(r)&&angular.isObject(r.data)?t=r:angular.isString(r)&&(e=r)),!e&&t){var o=n&&n.split(".").reduce(function(t,e){return t[e]},t.data);e=o?o[i]:t.data&&t.data[i]}e&&this.SatellizerStorage.set(this.prefixedTokenName,e)},t.prototype.removeToken=function(){this.SatellizerStorage.remove(this.prefixedTokenName)},t.prototype.isAuthenticated=function(){var t=this.SatellizerStorage.get(this.prefixedTokenName);if(t){if(3===t.split(".").length)try{var e=t.split(".")[1].replace("-","+").replace("_","/"),n=JSON.parse(this.$window.atob(e)).exp;if("number"==typeof n)return Math.round((new Date).getTime()/1e3)<n}catch(t){return!0}return!0}return!1},t.prototype.logout=function(){return this.SatellizerStorage.remove(this.prefixedTokenName),this.$q.when()},t.prototype.setStorageType=function(t){this.SatellizerConfig.storageType=t},t.$inject=["$q","$window","SatellizerConfig","SatellizerStorage"],t}(),r=function(){function t(t,e,n){this.$http=t,this.SatellizerConfig=e,this.SatellizerShared=n}return t.prototype.login=function(t,e){var n=this;return void 0===e&&(e={}),e.url=e.url?e.url:o(this.SatellizerConfig.baseUrl,this.SatellizerConfig.loginUrl),e.data=t||e.data,e.method=e.method||"POST",e.withCredentials=e.withCredentials||this.SatellizerConfig.withCredentials,this.$http(e).then(function(t){return n.SatellizerShared.setToken(t),t})},t.prototype.signup=function(t,e){return void 0===e&&(e={}),e.url=e.url?e.url:o(this.SatellizerConfig.baseUrl,this.SatellizerConfig.signupUrl),e.data=t||e.data,e.method=e.method||"POST",e.withCredentials=e.withCredentials||this.SatellizerConfig.withCredentials,this.$http(e)},t.$inject=["$http","SatellizerConfig","SatellizerShared"],t}(),a=function(){function t(t,e,n){this.$interval=t,this.$window=e,this.$q=n,this.popup=null,this.defaults={redirectUri:null}}return t.prototype.stringifyOptions=function(t){var n=[];return angular.forEach(t,function(t,e){n.push(e+"="+t)}),n.join(",")},t.prototype.open=function(t,e,n,i,r){var o=n.width||500,a=n.height||500,s=this.stringifyOptions({width:o,height:a,top:this.$window.screenY+(this.$window.outerHeight-a)/2.5,left:this.$window.screenX+(this.$window.outerWidth-o)/2}),l=this.$window.cordova||-1<this.$window.navigator.userAgent.indexOf("CriOS")?"_blank":e;if(this.popup=this.$window.open(t,l,s),this.popup&&this.popup.focus&&this.popup.focus(),!r)return this.$window.cordova?this.eventListener(i):("about:blank"===t&&(this.popup.location=t),this.polling(i))},t.prototype.polling=function(e){var s=this;return this.$q(function(i,r){var t=document.createElement("a");t.href=e;var o=l(t),a=s.$interval(function(){s.popup&&!s.popup.closed&&void 0!==s.popup.closed||(s.$interval.cancel(a),r(new Error("The popup window was closed")));try{if(l(s.popup.location)===o){if(s.popup.location.search||s.popup.location.hash){var t=c(s.popup.location.search.substring(1).replace(/\/$/,"")),e=c(s.popup.location.hash.substring(1).replace(/[\/$]/,"")),n=angular.extend({},t,e);n.error?r(new Error(n.error)):i(n)}else r(new Error("OAuth redirect has occurred but no query or hash parameters were found. They were either not set during the redirect, or were removed—typically by a routing library—before Satellizer could read it."));s.$interval.cancel(a),s.popup.close()}}catch(t){}},500)})},t.prototype.eventListener=function(s){var l=this;return this.$q(function(o,a){l.popup.addEventListener("loadstart",function(t){if(0===t.url.indexOf(s)){var e=document.createElement("a");if(e.href=t.url,e.search||e.hash){var n=c(e.search.substring(1).replace(/\/$/,"")),i=c(e.hash.substring(1).replace(/[\/$]/,"")),r=angular.extend({},n,i);r.error?a(new Error(r.error)):o(r),l.popup.close()}}}),l.popup.addEventListener("loaderror",function(){a(new Error("Authorization failed"))}),l.popup.addEventListener("exit",function(){a(new Error("The popup window was closed"))})})},t.$inject=["$interval","$window","$q"],t}(),s=function(){function t(t,e,n,i){this.$http=t,this.$window=e,this.SatellizerConfig=n,this.SatellizerPopup=i,this.defaults={name:null,url:null,authorizationEndpoint:null,scope:null,scopePrefix:null,scopeDelimiter:null,redirectUri:null,requiredUrlParams:null,defaultUrlParams:null,oauthType:"1.0",popupOptions:{width:null,height:null}}}return t.prototype.init=function(e,n){var i=this;angular.extend(this.defaults,e);var t=e.name,r=e.popupOptions,o=this.defaults.redirectUri;return this.$window.cordova||this.SatellizerPopup.open("about:blank",t,r,o,!0),this.getRequestToken().then(function(t){return i.openPopup(e,t).then(function(t){return i.exchangeForToken(t,n)})})},t.prototype.openPopup=function(t,e){var n=[t.authorizationEndpoint,this.buildQueryString(e.data)].join("?"),i=this.defaults.redirectUri;return this.$window.cordova?this.SatellizerPopup.open(n,t.name,t.popupOptions,i):(this.SatellizerPopup.popup.location=n,this.SatellizerPopup.polling(i))},t.prototype.getRequestToken=function(){var t=this.SatellizerConfig.baseUrl?o(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(t,this.defaults)},t.prototype.exchangeForToken=function(t,e){var n=angular.extend({},e,t),i=this.SatellizerConfig.baseUrl?o(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(i,n,{withCredentials:this.SatellizerConfig.withCredentials})},t.prototype.buildQueryString=function(t){var n=[];return angular.forEach(t,function(t,e){n.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}),n.join("&")},t.$inject=["$http","$window","SatellizerConfig","SatellizerPopup"],t}(),u=function(){function a(t,e,n,i,r,o,a){this.$http=t,this.$window=e,this.$timeout=n,this.$q=i,this.SatellizerConfig=r,this.SatellizerPopup=o,this.SatellizerStorage=a,this.defaults={name:null,url:null,clientId:null,authorizationEndpoint:null,redirectUri:null,scope:null,scopePrefix:null,scopeDelimiter:null,state:null,requiredUrlParams:null,defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code",responseParams:{code:"code",clientId:"clientId",redirectUri:"redirectUri"},oauthType:"2.0",popupOptions:{width:null,height:null}}}return a.camelCase=function(t){return t.replace(/([\:\-\_]+(.))/g,function(t,e,n,i){return i?n.toUpperCase():n})},a.prototype.init=function(u,d){var p=this;return this.$q(function(e,n){angular.extend(p.defaults,u);var i=p.defaults.name+"_state",t=p.defaults,r=t.name,o=t.state,a=t.popupOptions,s=t.redirectUri,l=t.responseType;"function"==typeof o?p.SatellizerStorage.set(i,o()):"string"==typeof o&&p.SatellizerStorage.set(i,o);var c=[p.defaults.authorizationEndpoint,p.buildQueryString()].join("?");p.SatellizerPopup.open(c,r,a,s).then(function(t){return"token"!==l&&c?t.state&&t.state!==p.SatellizerStorage.get(i)?n(new Error("The value returned in the state parameter does not match the state value from your original authorization code request.")):void e(p.exchangeForToken(t,d)):e(t)}).catch(function(t){return n(t)})})},a.prototype.exchangeForToken=function(n,t){var i=this,r=angular.extend({},t);angular.forEach(this.defaults.responseParams,function(t,e){switch(e){case"code":r[t]=n.code;break;case"clientId":r[t]=i.defaults.clientId;break;case"redirectUri":r[t]=i.defaults.redirectUri;break;default:r[t]=n[e]}}),n.state&&(r.state=n.state);var e=this.SatellizerConfig.baseUrl?o(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(e,r,{withCredentials:this.SatellizerConfig.withCredentials})},a.prototype.buildQueryString=function(){var r=this,o=[];return angular.forEach(["defaultUrlParams","requiredUrlParams","optionalUrlParams"],function(t){angular.forEach(r.defaults[t],function(t){var e=a.camelCase(t),n=angular.isFunction(r.defaults[t])?r.defaults[t]():r.defaults[e];if("redirect_uri"!==t||n){if("state"===t){var i=r.defaults.name+"_state";n=encodeURIComponent(r.SatellizerStorage.get(i))}"scope"===t&&Array.isArray(n)&&(n=n.join(r.defaults.scopeDelimiter),r.defaults.scopePrefix&&(n=[r.defaults.scopePrefix,n].join(r.defaults.scopeDelimiter))),o.push([t,n])}})}),o.map(function(t){return t.join("=")}).join("&")},a.$inject=["$http","$window","$timeout","$q","SatellizerConfig","SatellizerPopup","SatellizerStorage"],a}(),d=function(){function t(t,e,n,i,r,o,a,s,l,c){this.$http=t,this.$window=e,this.$timeout=n,this.$q=i,this.SatellizerConfig=r,this.SatellizerPopup=o,this.SatellizerStorage=a,this.SatellizerShared=s,this.SatellizerOAuth1=l,this.SatellizerOAuth2=c}return t.prototype.authenticate=function(r,o){var a=this;return this.$q(function(e,n){var i=a.SatellizerConfig.providers[r],t=null;switch(i.oauthType){case"1.0":t=new s(a.$http,a.$window,a.SatellizerConfig,a.SatellizerPopup);break;case"2.0":t=new u(a.$http,a.$window,a.$timeout,a.$q,a.SatellizerConfig,a.SatellizerPopup,a.SatellizerStorage);break;default:return n(new Error("Invalid OAuth Type"))}return t.init(i,o).then(function(t){i.url&&a.SatellizerShared.setToken(t),e(t)}).catch(function(t){n(t)})})},t.prototype.unlink=function(t,e){return void 0===e&&(e={}),e.url=e.url?e.url:o(this.SatellizerConfig.baseUrl,this.SatellizerConfig.unlinkUrl),e.data={provider:t},e.method=e.method||"POST",e.withCredentials=e.withCredentials||this.SatellizerConfig.withCredentials,this.$http(e)},t.$inject=["$http","$window","$timeout","$q","SatellizerConfig","SatellizerPopup","SatellizerStorage","SatellizerShared","SatellizerOAuth1","SatellizerOAuth2"],t}(),p=function(){function t(t,e){this.$window=t,this.SatellizerConfig=e,this.memoryStore={}}return t.prototype.get=function(e){try{return this.$window[this.SatellizerConfig.storageType].getItem(e)}catch(t){return this.memoryStore[e]}},t.prototype.set=function(e,n){try{this.$window[this.SatellizerConfig.storageType].setItem(e,n)}catch(t){this.memoryStore[e]=n}},t.prototype.remove=function(e){try{this.$window[this.SatellizerConfig.storageType].removeItem(e)}catch(t){delete this.memoryStore[e]}},t.$inject=["$window","SatellizerConfig"],t}(),h=function(){function i(t,e,n){var i=this;this.SatellizerConfig=t,this.SatellizerShared=e,this.SatellizerStorage=n,this.request=function(t){if(t.skipAuthorization)return t;if(i.SatellizerShared.isAuthenticated()&&i.SatellizerConfig.httpInterceptor()){var e=i.SatellizerConfig.tokenPrefix?[i.SatellizerConfig.tokenPrefix,i.SatellizerConfig.tokenName].join("_"):i.SatellizerConfig.tokenName,n=i.SatellizerStorage.get(e);i.SatellizerConfig.tokenHeader&&i.SatellizerConfig.tokenType&&(n=i.SatellizerConfig.tokenType+" "+n),t.headers[i.SatellizerConfig.tokenHeader]=n}return t}}return i.Factory=function(t,e,n){return new i(t,e,n)},i.$inject=["SatellizerConfig","SatellizerShared","SatellizerStorage"],i}();h.Factory.$inject=["SatellizerConfig","SatellizerShared","SatellizerStorage"];var f=function(){function t(t){(this.$httpProvider=t).interceptors.push(h.Factory)}return t.$inject=["$httpProvider"],t}();angular.module("satellizer",[]).provider("$auth",["SatellizerConfig",function(t){return new e(t)}]).constant("SatellizerConfig",t.getConstant).service("SatellizerShared",i).service("SatellizerLocal",r).service("SatellizerPopup",a).service("SatellizerOAuth",d).service("SatellizerOAuth2",u).service("SatellizerOAuth1",s).service("SatellizerStorage",p).service("SatellizerInterceptor",h).config(["$httpProvider",function(t){return new f(t)}]);return"satellizer"}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.NProgress=e()}(this,function(){var e,n,a={version:"0.2.0"},s=a.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function l(t,e,n){return t<e?e:n<t?n:t}function c(t){return 100*(-1+t)}a.configure=function(t){var e,n;for(e in t)void 0!==(n=t[e])&&t.hasOwnProperty(e)&&(s[e]=n);return this},a.status=null,a.set=function(e){var t=a.isStarted();e=l(e,s.minimum,1),a.status=1===e?null:e;var n=a.render(!t),i=n.querySelector(s.barSelector),r=s.speed,o=s.easing;return n.offsetWidth,u(function(t){""===s.positionUsing&&(s.positionUsing=a.getPositioningCSS()),d(i,function(t,e,n){var i;i="translate3d"===s.positionUsing?{transform:"translate3d("+c(t)+"%,0,0)"}:"translate"===s.positionUsing?{transform:"translate("+c(t)+"%,0)"}:{"margin-left":c(t)+"%"};return i.transition="all "+e+"ms "+n,i}(e,r,o)),1===e?(d(n,{transition:"none",opacity:1}),n.offsetWidth,setTimeout(function(){d(n,{transition:"all "+r+"ms linear",opacity:0}),setTimeout(function(){a.remove(),t()},r)},r)):setTimeout(t,r)}),this},a.isStarted=function(){return"number"==typeof a.status},a.start=function(){a.status||a.set(0);var t=function(){setTimeout(function(){a.status&&(a.trickle(),t())},s.trickleSpeed)};return s.trickle&&t(),this},a.done=function(t){return t||a.status?a.inc(.3+.5*Math.random()).set(1):this},a.inc=function(t){var e=a.status;return e?("number"!=typeof t&&(t=(1-e)*l(Math.random()*e,.1,.95)),e=l(e+t,0,.994),a.set(e)):a.start()},a.trickle=function(){return a.inc(Math.random()*s.trickleRate)},n=e=0,a.promise=function(t){return t&&"resolved"!==t.state()&&(0===n&&a.start(),e++,n++,t.always(function(){0==--n?(e=0,a.done()):a.set((e-n)/e)})),this},a.render=function(t){if(a.isRendered())return document.getElementById("nprogress");p(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=s.template;var n,i=e.querySelector(s.barSelector),r=t?"-100":c(a.status||0),o=document.querySelector(s.parent);return d(i,{transition:"all 0 linear",transform:"translate3d("+r+"%,0,0)"}),s.showSpinner||(n=e.querySelector(s.spinnerSelector))&&h(n),o!=document.body&&p(o,"nprogress-custom-parent"),o.appendChild(e),e},a.remove=function(){i(document.documentElement,"nprogress-busy"),i(document.querySelector(s.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&h(t)},a.isRendered=function(){return!!document.getElementById("nprogress")},a.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var u=function(){var e=[];function n(){var t=e.shift();t&&t(n)}return function(t){e.push(t),1==e.length&&n()}}(),d=function(){var o=["Webkit","O","Moz","ms"],e={};function i(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()}),e[t]||(e[t]=function(t){var e=document.body.style;if(t in e)return t;for(var n,i=o.length,r=t.charAt(0).toUpperCase()+t.slice(1);i--;)if((n=o[i]+r)in e)return n;return t}(t))}function a(t,e,n){e=i(e),t.style[e]=n}return function(t,e){var n,i,r=arguments;if(2==r.length)for(n in e)void 0!==(i=e[n])&&e.hasOwnProperty(n)&&a(t,n,i);else a(t,r[1],r[2])}}();function r(t,e){return 0<=("string"==typeof t?t:o(t)).indexOf(" "+e+" ")}function p(t,e){var n=o(t),i=n+e;r(n,e)||(t.className=i.substring(1))}function i(t,e){var n,i=o(t);r(t,e)&&(n=i.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function o(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function h(t){t&&t.parentNode&&t.parentNode.removeChild(t)}return a}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");function openNav(){document.getElementById("resnav").style.width="100%",$("body").addClass("disable-scroll")}function closeNav(){$(window).width()<=1023&&(document.getElementById("resnav").style.width="0%",$(".navbar-toggle").click()),$("body").removeClass("disable-scroll")}function addLink(){var t=window.getSelection(),e=t+("<br /><br /> Read more at: "+document.location.href),n=document.getElementsByClassName("cat-detailPage");newdiv=document.createElement("div"),newdiv.style.position="absolute",newdiv.style.left="-99999px",document.body.appendChild(newdiv),newdiv.innerHTML=e,n[0]&&t.selectAllChildren(newdiv),window.setTimeout(function(){document.body.removeChild(newdiv)},100)}!function(t){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||2<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(),function(i){"use strict";i.fn.emulateTransitionEnd=function(t){var e=!1,n=this;i(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||i(n).trigger(i.support.transition.end)},t),this},i(function(){i.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(t){return i(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),function(o){"use strict";var e='[data-dismiss="alert"]',a=function(t){o(t).on("click",e,this.close)};a.VERSION="3.3.6",a.TRANSITION_DURATION=150,a.prototype.close=function(t){function e(){r.detach().trigger("closed.bs.alert").remove()}var n=o(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var r=o(i);t&&t.preventDefault(),r.length||(r=n.closest(".alert")),r.trigger(t=o.Event("close.bs.alert")),t.isDefaultPrevented()||(r.removeClass("in"),o.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(a.TRANSITION_DURATION):e())};var t=o.fn.alert;o.fn.alert=function(n){return this.each(function(){var t=o(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new a(this)),"string"==typeof n&&e[n].call(t)})},o.fn.alert.Constructor=a,o.fn.alert.noConflict=function(){return o.fn.alert=t,this},o(document).on("click.bs.alert.data-api",e,a.prototype.close)}(jQuery),function(o){"use strict";function n(i){return this.each(function(){var t=o(this),e=t.data("bs.button"),n="object"==typeof i&&i;e||t.data("bs.button",e=new r(this,n)),"toggle"==i?e.toggle():i&&e.setState(i)})}var r=function(t,e){this.$element=o(t),this.options=o.extend({},r.DEFAULTS,e),this.isLoading=!1};r.VERSION="3.3.6",r.DEFAULTS={loadingText:"loading..."},r.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",r=n.data();t+="Text",null==r.resetText&&n.data("resetText",n[i]()),setTimeout(o.proxy(function(){n[i](null==r[t]?this.options[t]:r[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e))},this),0)},r.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=o.fn.button;o.fn.button=n,o.fn.button.Constructor=r,o.fn.button.noConflict=function(){return o.fn.button=t,this},o(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=o(t.target);e.hasClass("btn")||(e=e.closest(".btn")),n.call(e,"toggle"),o(t.target).is('input[type="radio"]')||o(t.target).is('input[type="checkbox"]')||t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){o(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(d){"use strict";function a(r){return this.each(function(){var t=d(this),e=t.data("bs.carousel"),n=d.extend({},p.DEFAULTS,t.data(),"object"==typeof r&&r),i="string"==typeof r?r:n.slide;e||t.data("bs.carousel",e=new p(this,n)),"number"==typeof r?e.to(r):i?e[i]():n.interval&&e.pause().cycle()})}var p=function(t,e){this.$element=d(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",d.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",d.proxy(this.pause,this)).on("mouseleave.bs.carousel",d.proxy(this.cycle,this))};p.VERSION="3.3.6",p.TRANSITION_DURATION=600,p.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},p.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},p.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},p.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},p.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},p.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||t<0?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},p.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition&&(this.$element.trigger(d.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},p.prototype.next=function(){return this.sliding?void 0:this.slide("next")},p.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},p.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),i=e||this.getItemForDirection(t,n),r=this.interval,o="next"==t?"left":"right",a=this;if(i.hasClass("active"))return this.sliding=!1;var s=i[0],l=d.Event("slide.bs.carousel",{relatedTarget:s,direction:o});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=d(this.$indicators.children()[this.getItemIndex(i)]);c&&c.addClass("active")}var u=d.Event("slid.bs.carousel",{relatedTarget:s,direction:o});return d.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,n.addClass(o),i.addClass(o),n.one("bsTransitionEnd",function(){i.removeClass([t,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(u)},0)}).emulateTransitionEnd(p.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(u)),r&&this.cycle(),this}};var t=d.fn.carousel;d.fn.carousel=a,d.fn.carousel.Constructor=p,d.fn.carousel.noConflict=function(){return d.fn.carousel=t,this};var e=function(t){var e,n=d(this),i=d(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var r=d.extend({},i.data(),n.data()),o=n.attr("data-slide-to");o&&(r.interval=!1),a.call(i,r),o&&i.data("bs.carousel").to(o),t.preventDefault()}};d(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var t=d(this);a.call(t,t.data())})})}(jQuery),function(a){"use strict";function r(t){var e,n=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return a(n)}function s(i){return this.each(function(){var t=a(this),e=t.data("bs.collapse"),n=a.extend({},l.DEFAULTS,t.data(),"object"==typeof i&&i);!e&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),e||t.data("bs.collapse",e=new l(this,n)),"string"==typeof i&&e[i]()})}var l=function(t,e){this.$element=a(t),this.options=a.extend({},l.DEFAULTS,e),this.$trigger=a('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};l.VERSION="3.3.6",l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0},l.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},l.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&((t=e.data("bs.collapse"))&&t.transitioning))){var n=a.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){e&&e.length&&(s.call(e,"hide"),t||e.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return r.call(this);var o=a.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",a.proxy(r,this)).emulateTransitionEnd(l.TRANSITION_DURATION)[i](this.$element[0][o])}}}},l.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=a.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[e](0).one("bsTransitionEnd",a.proxy(n,this)).emulateTransitionEnd(l.TRANSITION_DURATION):n.call(this)}}},l.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},l.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(t,e){var n=a(e);this.addAriaAndCollapsedClass(r(n),n)},this)).end()},l.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var t=a.fn.collapse;a.fn.collapse=s,a.fn.collapse.Constructor=l,a.fn.collapse.noConflict=function(){return a.fn.collapse=t,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=a(this);e.attr("data-target")||t.preventDefault();var n=r(e),i=n.data("bs.collapse")?"toggle":e.data();s.call(n,i)})}(jQuery),function(a){"use strict";function s(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&a(e);return n&&n.length?n:t.parent()}function o(i){i&&3===i.which||(a(".dropdown-backdrop").remove(),a(l).each(function(){var t=a(this),e=s(t),n={relatedTarget:this};e.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&a.contains(e[0],i.target)||(e.trigger(i=a.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",n)))))}))}var l='[data-toggle="dropdown"]',i=function(t){a(t).on("click.bs.dropdown",this.toggle)};i.VERSION="3.3.6",i.prototype.toggle=function(t){var e=a(this);if(!e.is(".disabled, :disabled")){var n=s(e),i=n.hasClass("open");if(o(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",o);var r={relatedTarget:this};if(n.trigger(t=a.Event("show.bs.dropdown",r)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(a.Event("shown.bs.dropdown",r))}return!1}},i.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=a(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=s(e),i=n.hasClass("open");if(!i&&27!=t.which||i&&27==t.which)return 27==t.which&&n.find(l).trigger("focus"),e.trigger("click");var r=n.find(".dropdown-menu li:not(.disabled):visible a");if(r.length){var o=r.index(t.target);38==t.which&&0<o&&o--,40==t.which&&o<r.length-1&&o++,~o||(o=0),r.eq(o).trigger("focus")}}}};var t=a.fn.dropdown;a.fn.dropdown=function(n){return this.each(function(){var t=a(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new i(this)),"string"==typeof n&&e[n].call(t)})},a.fn.dropdown.Constructor=i,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=t,this},a(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",l,i.prototype.toggle).on("keydown.bs.dropdown.data-api",l,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(o){"use strict";function a(i,r){return this.each(function(){var t=o(this),e=t.data("bs.modal"),n=o.extend({},s.DEFAULTS,t.data(),"object"==typeof i&&i);e||t.data("bs.modal",e=new s(this,n)),"string"==typeof i?e[i](r):n.show&&e.show(r)})}var s=function(t,e){this.options=e,this.$body=o(document.body),this.$element=o(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,o.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};s.VERSION="3.3.6",s.TRANSITION_DURATION=300,s.BACKDROP_TRANSITION_DURATION=150,s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},s.prototype.show=function(n){var i=this,t=o.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',o.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){o(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=o.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),t&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var e=o.Event("shown.bs.modal",{relatedTarget:n});t?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(s.TRANSITION_DURATION):i.$element.trigger("focus").trigger(e)}))},s.prototype.hide=function(t){t&&t.preventDefault(),t=o.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),o(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),o.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",o.proxy(this.hideModal,this)).emulateTransitionEnd(s.TRANSITION_DURATION):this.hideModal())},s.prototype.enforceFocus=function(){o(document).off("focusin.bs.modal").on("focusin.bs.modal",o.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",o.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},s.prototype.resize=function(){this.isShown?o(window).on("resize.bs.modal",o.proxy(this.handleUpdate,this)):o(window).off("resize.bs.modal")},s.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=o.support.transition&&n;if(this.$backdrop=o(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",o.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){e.removeBackdrop(),t&&t()};o.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):r()}else t&&t()},s.prototype.handleUpdate=function(){this.adjustDialog()},s.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},s.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},s.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},s.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},s.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},s.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=o.fn.modal;o.fn.modal=a,o.fn.modal.Constructor=s,o.fn.modal.noConflict=function(){return o.fn.modal=t,this},o(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=o(this),n=e.attr("href"),i=o(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("bs.modal")?"toggle":o.extend({remote:!/#/.test(n)&&n},i.data(),e.data());e.is("a")&&t.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),a.call(i,r,this)})}(jQuery),function(g){"use strict";var v=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};v.VERSION="3.3.6",v.TRANSITION_DURATION=150,v.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},v.prototype.init=function(t,e,n){if(this.enabled=!0,this.type=t,this.$element=g(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&g(g.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),r=i.length;r--;){var o=i[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",s="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,g.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,g.proxy(this.leave,this))}}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},v.prototype.getDefaults=function(){return v.DEFAULTS},v.prototype.getOptions=function(t){return(t=g.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},v.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&g.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)}),n},v.prototype.enter=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);return e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState?void(e.hoverState="in"):(clearTimeout(e.timeout),e.hoverState="in",e.options.delay&&e.options.delay.show?void(e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)):e.show())},v.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},v.prototype.leave=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);return e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),e.isInStateTrue()?void 0:(clearTimeout(e.timeout),e.hoverState="out",e.options.delay&&e.options.delay.hide?void(e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)):e.hide())},v.prototype.show=function(){var t=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=g.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,i=this.tip(),r=this.getUID(this.type);this.setContent(),i.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&i.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,s=a.test(o);s&&(o=o.replace(a,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),c=i[0].offsetWidth,u=i[0].offsetHeight;if(s){var d=o,p=this.getPosition(this.$viewport);o="bottom"==o&&l.bottom+u>p.bottom?"top":"top"==o&&l.top-u<p.top?"bottom":"right"==o&&l.right+c>p.width?"left":"left"==o&&l.left-c<p.left?"right":o,i.removeClass(d).addClass(o)}var h=this.getCalculatedOffset(o,l,c,u);this.applyPlacement(h,o);var f=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};g.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",f).emulateTransitionEnd(v.TRANSITION_DURATION):f()}},v.prototype.applyPlacement=function(t,e){var n=this.tip(),i=n[0].offsetWidth,r=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),t.top+=o,t.left+=a,g.offset.setOffset(n[0],g.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var s=n[0].offsetWidth,l=n[0].offsetHeight;"top"==e&&l!=r&&(t.top=t.top+r-l);var c=this.getViewportAdjustedDelta(e,t,s,l);c.left?t.left+=c.left:t.top+=c.top;var u=/top|bottom/.test(e),d=u?2*c.left-i+s:2*c.top-r+l,p=u?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(d,n[0][p],u)},v.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},v.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},v.prototype.hide=function(t){function e(){"in"!=n.hoverState&&i.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,i=g(this.$tip),r=g.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(i.removeClass("in"),g.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(v.TRANSITION_DURATION):e(),this.hoverState=null,this)},v.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},v.prototype.hasContent=function(){return this.getTitle()},v.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,i=e.getBoundingClientRect();null==i.width&&(i=g.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var r=n?{top:0,left:0}:t.offset(),o={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},a=n?{width:g(window).width(),height:g(window).height()}:null;return g.extend({},i,o,a,r)},v.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},v.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,l=e.top+o-a.scroll+i;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var c=e.left-o,u=e.left+o+n;c<a.left?r.left=a.left-c:u>a.right&&(r.left=a.left+a.width-u)}return r},v.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},v.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},v.prototype.tip=function(){if(!this.$tip&&(this.$tip=g(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},v.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},v.prototype.enable=function(){this.enabled=!0},v.prototype.disable=function(){this.enabled=!1},v.prototype.toggleEnabled=function(){this.enabled=!this.enabled},v.prototype.toggle=function(t){var e=this;t&&((e=g(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},v.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var t=g.fn.tooltip;g.fn.tooltip=function(i){return this.each(function(){var t=g(this),e=t.data("bs.tooltip"),n="object"==typeof i&&i;(e||!/destroy|hide/.test(i))&&(e||t.data("bs.tooltip",e=new v(this,n)),"string"==typeof i&&e[i]())})},g.fn.tooltip.Constructor=v,g.fn.tooltip.noConflict=function(){return g.fn.tooltip=t,this}}(jQuery),function(r){"use strict";var o=function(t,e){this.init("popover",t,e)};if(!r.fn.tooltip)throw new Error("Popover requires tooltip.js");o.VERSION="3.3.6",o.DEFAULTS=r.extend({},r.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((o.prototype=r.extend({},r.fn.tooltip.Constructor.prototype)).constructor=o).prototype.getDefaults=function(){return o.DEFAULTS},o.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},o.prototype.hasContent=function(){return this.getTitle()||this.getContent()},o.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},o.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var t=r.fn.popover;r.fn.popover=function(i){return this.each(function(){var t=r(this),e=t.data("bs.popover"),n="object"==typeof i&&i;(e||!/destroy|hide/.test(i))&&(e||t.data("bs.popover",e=new o(this,n)),"string"==typeof i&&e[i]())})},r.fn.popover.Constructor=o,r.fn.popover.noConflict=function(){return r.fn.popover=t,this}}(jQuery),function(o){"use strict";function r(t,e){this.$body=o(document.body),this.$scrollElement=o(o(t).is(document.body)?window:t),this.options=o.extend({},r.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o.proxy(this.process,this)),this.refresh(),this.process()}function e(i){return this.each(function(){var t=o(this),e=t.data("bs.scrollspy"),n="object"==typeof i&&i;e||t.data("bs.scrollspy",e=new r(this,n)),"string"==typeof i&&e[i]()})}r.VERSION="3.3.6",r.DEFAULTS={offset:10},r.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},r.prototype.refresh=function(){var t=this,i="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),o.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=o(this),e=t.data("target")||t.attr("href"),n=/^#./.test(e)&&o(e);return n&&n.length&&n.is(":visible")&&[[n[i]().top+r,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},r.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=e)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)a!=o[t]&&e>=r[t]&&(void 0===r[t+1]||e<r[t+1])&&this.activate(o[t])},r.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=o(e).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},r.prototype.clear=function(){o(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=o.fn.scrollspy;o.fn.scrollspy=e,o.fn.scrollspy.Constructor=r,o.fn.scrollspy.noConflict=function(){return o.fn.scrollspy=t,this},o(window).on("load.bs.scrollspy.data-api",function(){o('[data-spy="scroll"]').each(function(){var t=o(this);e.call(t,t.data())})})}(jQuery),function(s){"use strict";function e(n){return this.each(function(){var t=s(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new a(this)),"string"==typeof n&&e[n]()})}var a=function(t){this.element=s(t)};a.VERSION="3.3.6",a.TRANSITION_DURATION=150,a.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=e.find(".active:last a"),r=s.Event("hide.bs.tab",{relatedTarget:t[0]}),o=s.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(r),t.trigger(o),!o.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=s(n);this.activate(t.closest("li"),e),this.activate(a,a.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},a.prototype.activate=function(t,e,n){function i(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var r=e.find("> .active"),o=n&&s.support.transition&&(r.length&&r.hasClass("fade")||!!e.find("> .fade").length);r.length&&o?r.one("bsTransitionEnd",i).emulateTransitionEnd(a.TRANSITION_DURATION):i(),r.removeClass("in")};var t=s.fn.tab;s.fn.tab=e,s.fn.tab.Constructor=a,s.fn.tab.noConflict=function(){return s.fn.tab=t,this};var n=function(t){t.preventDefault(),e.call(s(this),"show")};s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(l){"use strict";function n(i){return this.each(function(){var t=l(this),e=t.data("bs.affix"),n="object"==typeof i&&i;e||t.data("bs.affix",e=new c(this,n)),"string"==typeof i&&e[i]()})}var c=function(t,e){this.options=l.extend({},c.DEFAULTS,e),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.6",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+a<=t-i)&&"bottom";var s=null==this.affixed,l=s?r:o.top;return null!=n&&r<=n?"top":null!=i&&t-i<=l+(s?a:e)&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},c.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,n=e.top,i=e.bottom,r=Math.max(l(document).height(),l(document.body).height());"object"!=typeof e&&(i=n=e),"function"==typeof n&&(n=e.top(this.$element)),"function"==typeof i&&(i=e.bottom(this.$element));var o=this.getState(r,t,n,i);if(this.affixed!=o){null!=this.unpin&&this.$element.css("top","");var a="affix"+(o?"-"+o:""),s=l.Event(a+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=o,this.unpin="bottom"==o?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==o&&this.$element.offset({top:r-t-i})}};var t=l.fn.affix;l.fn.affix=n,l.fn.affix.Constructor=c,l.fn.affix.noConflict=function(){return l.fn.affix=t,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var t=l(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),n.call(t,e)})})}(jQuery),function(p){var l={},c={direction:"prev",mode:"horizontal",speed:1,delay:30,onCarouselTickerLoad:function(){}};p.fn.carouselTicker=function(e){function n(){d.itemsWidth=0,d.$items.each(function(){var t=p(this),e=this.currentStyle||window.getComputedStyle(this),n=parseFloat(e.marginLeft)+parseFloat(e.marginRight);t.hasClass(d.cloneCls)||(d.itemsWidth+=this.getBoundingClientRect().width+n)})}if(0==this.length)return this;if(1<this.length)return this.each(function(){p(this).carouselTicker(e)}),this;var d={},i=this,r=p(this);l.el=this,l.$el=p(this);var o=function(){d.settings=p.extend({},c,e),d.intervalPointer=null,d.directionSwitcher="prev"===d.settings.direction?-1:1,d.itemsWidth=0,d.childsWidth=0,d.itemsHeight=0,d.childsHeight=0,d.$list=r.children("ul"),d.$items=d.$list.children("li"),d.isInitialize=!1,d.isMousemove=!1,d.$parent=r.parent(),d.wrapCls="carouselTicker__wrap",d.loaderCls="carouselTicker__loader",d.cloneCls="carouselTicker__clone",d.touch="ontouchstart"in document.documentElement,d.eventTypes={mousedown:d.touch?"touchstart":"mousedown",mousemove:d.touch?"touchmove":"mousemove",mouseup:d.touch?"touchend":"mouseup"},t()},t=function(){function t(){r.children().hasClass(d.wrapCls)||(p("<div class='"+d.loaderCls+"'></div>").appendTo(r),r.find("."+d.wrapCls).css({position:"relative"}),d.$list.wrap("<div class='carouselTicker__wrap' style='position: relative; overflow: hidden; user-select: none; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; -o-user-select: none;'></div>"),d.$items.clone().addClass(d.cloneCls).appendTo(d.$list),d.$list.css({position:"relative"}),d.isInitialize=!0,d.settings.onCarouselTickerLoad(),a())}"horizontal"===d.settings.mode?(n(),d.itemsWidth>d.$parent.width()&&(r.find("."+d.wrapCls).css({width:d.$parent.width()+"px"}),d.$list.css({width:2*d.itemsWidth,left:0}),t())):"vertical"===d.settings.mode&&(d.itemsHeight=0,d.$items.each(function(){var t=p(this);t.hasClass(d.cloneCls)||(d.itemsHeight+=t.outerHeight(!0))}),d.itemsHeight>d.$parent.height()&&(r.find("."+d.wrapCls).css({height:d.$parent.height()+"px"}),d.$list.css({height:2*d.itemsHeight,top:0}),t())),d.isInitialize&&r.on("dragstart",function(t){return"IMG"!=t.target.nodeName.toUpperCase()&&"A"!=t.target.nodeName.toUpperCase()&&void 0})},a=function(){var u;r.find("."+d.loaderCls).length&&r.find("."+d.loaderCls).remove(),d.intervalPointer=setInterval(function(){s()},d.settings.delay),r.on("mouseover",function(){("horizontal"===d.settings.mode?d.itemsWidth>d.$parent.width():d.itemsHeight>d.$parent.height())&&(clearInterval(d.intervalPointer),d.intervalPointer=!1)}),r.on("mouseleave",function(){var t="horizontal"===d.settings.mode?d.itemsWidth>d.$parent.width():d.itemsHeight>d.$parent.height();if(d.isMousemove&&(d.$list.off(d.eventTypes.mousemove),d.$list.trigger(d.eventTypes.mouseup)),t){if(d.intervalPointer)return;d.intervalPointer=setInterval(function(){s()},d.settings.delay)}}),u=!1,d.$list.on(d.eventTypes.mousedown,function(t){var o=t.clientX||event.touches[0].pageX,a=t.clientY||event.touches[0].pageY,s=p(this),l=parseFloat(p(this).css("left")),c=parseFloat(p(this).css("top"));p(t.target).off("click"),clearInterval(d.intervalPointer),d.intervalPointer=!1,u=!0,s.on(d.eventTypes.mousemove,function(t){var e=t.clientX||event.touches[0].pageX,n=t.clientY||event.touches[0].pageY,i=o-e,r=a-n;d.touch&&p(document).on("touchmove",function(t){t.preventDefault()}),"horizontal"===d.settings.mode?d.directionSwitcher=0<=i?-1:1:"vertical"===d.settings.mode&&(d.directionSwitcher=0<=r?-1:1),d.isMousemove=!0,u&&("horizontal"===d.settings.mode?(0<=l-i&&1===d.directionSwitcher&&(s.css("left","-="+d.itemsWidth),l=-d.itemsWidth,o=t.clientX||event.touches[0].pageX,i=0),l-i<=-d.itemsWidth&&-1===d.directionSwitcher&&(s.css("left",0),i=l=0,o=t.clientX||event.touches[0].pageX),s.css("left",l-i+"px")):"vertical"===d.settings.mode&&(0<=c-r&&1===d.directionSwitcher&&(s.css("top","-="+d.itemsHeight),c=-d.itemsHeight,a=t.clientY||event.touches[0].pageY,r=0),c-r<=-d.itemsHeight&&-1===d.directionSwitcher&&(s.css("top",0),r=c=0,a=t.clientY||event.touches[0].pageY),s.css("top",c-r+"px")))})}),d.$list.on(d.eventTypes.mouseup,function(t){var e=p(t.target);t.preventDefault(),(e.attr("href")||e.parents().attr("href")&&d.isMousemove)&&e.on("click",function(t){t.preventDefault()}),u=!1,d.isMousemove=!1,d.settings.direction=1===d.directionSwitcher?"next":"prev",p(this).off(d.eventTypes.mousemove),d.touch&&p(document).off("touchmove"),d.intervalPointer&&clearInterval(d.intervalPointer),d.touch&&(d.intervalPointer=setInterval(function(){s()},d.settings.delay))})},s=function(){var t="horizontal"===d.settings.mode?"left":"top",e="horizontal"===d.settings.mode?d.itemsWidth:d.itemsHeight;d.$list.css(t,"+="+d.directionSwitcher*d.settings.speed+"px"),"prev"===d.settings.direction&&Math.abs(parseInt(d.$list.css(t)))>=e&&d.$list.css(t,0),"next"===d.settings.direction&&0<=parseInt(d.$list.css(t))&&d.$list.css(t,-e+"px")};return i.resizeTicker=function(){n(),d.itemsWidth>d.$parent.width()?d.isInitialize||o():d.isInitialize&&i.destructor()},i.stop=function(){clearInterval(d.intervalPointer),d.intervalPointer=!1},i.run=function(){a()},i.destructor=function(){r.find("."+d.cloneCls).remove(),r.find("."+d.wrapCls).length&&(d.$list.unwrap(),d.$list.css({left:"auto",position:"static",width:"auto"}),r.css({width:"auto",position:"static"})),clearInterval(d.intervalPointer),d.isInitialize=!1,d.intervalPointer=!1},i.reloadCarouselTicker=function(t){null!=t&&(e=t),i.destructor(),o()},"loading"===document.readyState?p(window).on("load",function(){o()}):o(),this}}(jQuery),function(r){"use strict";r.fn.fitVids=function(t){var e={customSelector:null},n=document.createElement("div"),i=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0];return n.className="fit-vids-style",n.innerHTML="&shy;<style>               .fluid-width-video-wrapper {                 width: 100%;                              position: relative;                       padding: 0;                            }                                                                                   .fluid-width-video-wrapper iframe,        .fluid-width-video-wrapper object,        .fluid-width-video-wrapper embed {           position: absolute;                       top: 0;                                   left: 0;                                  width: 100%;                              height: 100%;                          }                                       </style>",i.parentNode.insertBefore(n,i),t&&r.extend(e,t),this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='www.youtube.com']","iframe[src*='www.kickstarter.com']","object","embed"];e.customSelector&&t.push(e.customSelector),r(this).find(t.join(",")).each(function(){var t=r(this);if(!("embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){var e=("object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height())/(isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10));if(!t.attr("id")){var n="fitvid"+Math.floor(999999*Math.random());t.attr("id",n)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*e+"%"),t.removeAttr("height").removeAttr("width")}})})}}(jQuery),function(t,e){"object"==typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";function g(t,e){var n,i=document.createElement(t||"div");for(n in e)i[n]=e[n];return i}function v(t){for(var e=1,n=arguments.length;e<n;e++)t.appendChild(arguments[e]);return t}function i(t,e){var n,i,r=t.style;if(void 0!==r[e=e.charAt(0).toUpperCase()+e.slice(1)])return e;for(i=0;i<o.length;i++)if(void 0!==r[n=o[i]+e])return n}function m(t,e){for(var n in e)t.style[i(t,n)||n]=e[n];return t}function e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)void 0===t[i]&&(t[i]=n[i])}return t}function b(t,e){return"string"==typeof t?t:t[e%t.length]}function n(t){this.opts=e(t||{},n.defaults,r)}var y,x,t,o=["webkit","Moz","ms","O"],w={},r={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(n.defaults={},e(n.prototype,{spin:function(t){this.stop();var n=this,i=n.opts,r=n.el=g(null,{className:i.className});if(m(r,{position:i.position,width:0,zIndex:i.zIndex,left:i.left,top:i.top}),t&&t.insertBefore(r,t.firstChild||null),r.setAttribute("role","progressbar"),n.lines(r,n.opts),!y){var o,a=0,s=(i.lines-1)*(1-i.direction)/2,l=i.fps,c=l/i.speed,u=(1-i.opacity)/(c*i.trail/100),d=c/i.lines;!function t(){a++;for(var e=0;e<i.lines;e++)o=Math.max(1-(a+(i.lines-e)*d)%c*u,i.opacity),n.opacity(r,e*i.direction+s,o,i);n.timeout=n.el&&setTimeout(t,~~(1e3/l))}()}return n},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(t,n){function e(t,e){return m(g(),{position:"absolute",width:n.scale*(n.length+n.width)+"px",height:n.scale*n.width+"px",background:t,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*r+n.rotate)+"deg) translate("+n.scale*n.radius+"px,0)",borderRadius:(n.corners*n.scale*n.width>>1)+"px"})}for(var i,r=0,o=(n.lines-1)*(1-n.direction)/2;r<n.lines;r++)i=m(g(),{position:"absolute",top:1+~(n.scale*n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:y&&(a=n.opacity,s=n.trail,l=o+r*n.direction,c=n.lines,void 0,void 0,void 0,void 0,void 0,u=["opacity",s,~~(100*a),l,c].join("-"),d=.01+l/c*100,p=Math.max(1-(1-a)/s*(100-d),a),h=y.substring(0,y.indexOf("Animation")).toLowerCase(),f=h&&"-"+h+"-"||"",w[u]||(x.insertRule("@"+f+"keyframes "+u+"{0%{opacity:"+p+"}"+d+"%{opacity:"+a+"}"+(d+.01)+"%{opacity:1}"+(d+s)%100+"%{opacity:"+a+"}100%{opacity:"+p+"}}",x.cssRules.length),w[u]=1),u+" "+1/n.speed+"s linear infinite")}),n.shadow&&v(i,m(e("#000","0 0 4px #000"),{top:"2px"})),v(t,v(i,e(b(n.color,r),"0 0 1px rgba(0,0,0,.1)")));var a,s,l,c,u,d,p,h,f;return t},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}}),"undefined"!=typeof document){t=g("style",{type:"text/css"}),v(document.getElementsByTagName("head")[0],t),x=t.sheet||t.styleSheet;var a=m(g("group"),{behavior:"url(#default#VML)"});!i(a,"transform")&&a.adj?function(){function c(t,e){return g("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}x.addRule(".spin-vml","behavior:url(#default#VML)"),n.prototype.lines=function(t,i){function r(){return m(c("group",{coordsize:a+" "+a,coordorigin:-o+" "+-o}),{width:a,height:a})}function e(t,e,n){v(l,v(m(r(),{rotation:360/i.lines*t+"deg",left:~~e}),v(m(c("roundrect",{arcsize:i.corners}),{width:o,height:i.scale*i.width,left:i.scale*i.radius,top:-i.scale*i.width>>1,filter:n}),c("fill",{color:b(i.color,t),opacity:i.opacity}),c("stroke",{opacity:0}))))}var n,o=i.scale*(i.length+i.width),a=2*i.scale*o,s=-(i.width+i.length)*i.scale*2+"px",l=m(r(),{position:"absolute",top:s,left:s});if(i.shadow)for(n=1;n<=i.lines;n++)e(n,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(n=1;n<=i.lines;n++)e(n);return v(t,l)},n.prototype.opacity=function(t,e,n,i){var r=t.firstChild;i=i.shadow&&i.lines||0,r&&e+i<r.childNodes.length&&(r=(r=(r=r.childNodes[e+i])&&r.firstChild)&&r.firstChild)&&(r.opacity=n)}}():y=i(a,"animation")}return n}),function(i){i.fn.directionalHover=function(t){function n(t,e,n,i,r,o,a,s){var l,c,u,d,p,h,f,g=0;i-s<=o/2&&(g^=x),r/2<=n-a&&(g^=w),o/2<i-s&&(g^=k),n-a<r/2&&(g^=$),c=t,u=e,d=n-a,p=i-s,h=r/2,f=o/2,v(l=g,S)?m(d,p,h,f)?y(c,u,0,2*-h):y(c,u,2*-f,0):v(l,C)?b(d,p,h,f)?y(c,u,2*-f,0):y(c,u,0,2*h):v(l,M)?b(d,p,h,f)?y(c,u,0,2*-h):y(c,u,2*f,0):v(l,T)&&(m(d,p,h,f)?y(c,u,2*f,0):y(c,u,0,2*h))}function v(t,e){return(t&e)===e}function m(t,e,n,i){return i*t-n*e<0}function b(t,e,n,i){return n*(e-i)+i*t-n*i<0}function y(t,e,n,i){"in"===e?t.animate({top:n,left:i},0,function(){t.stop().animate({top:0,left:0},r.speed,r.easing)}):"out"===e&&t.animate({top:0,left:0},0,function(){t.stop().animate({top:n,left:i},r.speed,r.easing)})}var r=i.extend({},i.fn.directionalHover.defaults,t),x=1,w=2,k=4,$=8,S=x|$,C=x|w,M=k|$,T=k|w;return this.css({position:"relative",overflow:"hidden"}),this.find("."+r.overlay).css({position:"absolute",top:"-100%"}),this.each(function(){var e=i(this);e.hover(function(t){n(e.find("."+r.overlay),"in",t.pageX,t.pageY,e.width(),e.height(),Math.floor(e.offset().left),e.offset().top)},function(t){n(e.find("."+r.overlay),"out",t.pageX,t.pageY,e.width(),e.height(),Math.floor(e.offset().left),e.offset().top)})})},i.fn.directionalHover.defaults={overlay:"dh-overlay",easing:"swing",speed:400}}(jQuery),function(){var l,n,r,a,o={}.hasOwnProperty;(a=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,n,i,r,o,a;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),a=[],i=0,r=(o=t.childNodes).length;i<r;i++)n=o[i],a.push(this.add_option(n,e,t.disabled));return a},t.prototype.add_option=function(t,e,n){return"OPTION"===t.nodeName.toUpperCase()?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:!0===n?n:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t.prototype.escapeExpression=function(t){var e,n;return null==t||!1===t?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(n,function(t){return e[t]||"&amp;"})):t},t}()).select_to_array=function(t){var e,n,i,r,o;for(n=new a,i=0,r=(o=t.childNodes).length;i<r;i++)e=o[i],n.add_node(e);return n.parsed},n=function(){function n(t,e){this.form_field=t,this.options=null!=e?e:{},n.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return n.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1},n.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||n.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||n.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||n.default_no_result_text},n.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+t.group_label+"</b>"+t.html:t.html},n.prototype.mouse_enter=function(){return this.mouse_on_container=!0},n.prototype.mouse_leave=function(){return this.mouse_on_container=!1},n.prototype.input_focus=function(t){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},n.prototype.input_blur=function(t){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},n.prototype.results_option_build=function(t){var e,n,i,r,o,a,s;for(e="",o=r=0,a=(s=this.results_data).length;o<a&&(""!==(i=(n=s[o]).group?this.result_add_group(n):this.result_add_option(n))&&(r++,e+=i),(null!=t?t.first:void 0)&&(n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(n))),!(r>=this.max_shown_results));o++);return e},n.prototype.result_add_option=function(t){var e,n;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),(n=document.createElement("li")).className=e.join(" "),n.style.cssText=t.style,n.setAttribute("data-option-array-index",t.array_index),n.innerHTML=t.search_text,t.title&&(n.title=t.title),this.outerHTML(n)):""},n.prototype.result_add_group=function(t){var e,n;return(t.search_match||t.group_match)&&0<t.active_options?((e=[]).push("group-result"),t.classes&&e.push(t.classes),(n=document.createElement("li")).className=e.join(" "),n.innerHTML=t.search_text,t.title&&(n.title=t.title),this.outerHTML(n)):""},n.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},n.prototype.reset_single_select_options=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.results_data).length;e<n;e++)(t=i[e]).selected?r.push(t.selected=!1):r.push(void 0);return r},n.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},n.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},n.prototype.winnow_results=function(){var t,e,n,i,r,o,a,s,l,c,u,d;for(this.no_results_clear(),i=0,t=(o=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=new RegExp(t,"i"),n=this.get_search_regex(t),c=0,u=(d=this.results_data).length;c<u;c++)(e=d[c]).search_match=!1,r=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(0===(r=this.results_data[e.group_array_index]).active_options&&r.search_match&&(i+=1),r.active_options+=1),e.search_text=e.group?e.label:e.html,(!e.group||this.group_search)&&(e.search_match=this.search_string_match(e.search_text,n),e.search_match&&!e.group&&(i+=1),e.search_match?(o.length&&(a=e.search_text.search(l),s=e.search_text.substr(0,a+o.length)+"</em>"+e.search_text.substr(a+o.length),e.search_text=s.substr(0,a)+"<em>"+s.substr(a)),null!=r&&(r.group_match=!0)):null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)));return this.result_clear_highlight(),i<1&&o.length?(this.update_results_content(""),this.no_results(o)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},n.prototype.get_search_regex=function(t){var e,n;return e=this.search_contains?"":"^",n=this.case_sensitive_search?"":"i",new RegExp(e+t,n)},n.prototype.search_string_match=function(t,e){var n,i,r,o;if(e.test(t))return!0;if(this.enable_split_word_search&&(0<=t.indexOf(" ")||0===t.indexOf("["))&&(i=t.replace(/\[|\]/g,"").split(" ")).length)for(r=0,o=i.length;r<o;r++)if(n=i[r],e.test(n))return!0},n.prototype.choices_count=function(){var t,e,n;if(null!=this.selected_option_count)return this.selected_option_count;for(t=this.selected_option_count=0,e=(n=this.form_field.options).length;t<e;t++)n[t].selected&&(this.selected_option_count+=1);return this.selected_option_count},n.prototype.choices_click=function(t){return t.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},n.prototype.keyup_checker=function(t){var e,n;switch(e=null!=(n=t.which)?n:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&0<this.choices_count())return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:case 18:break;default:return this.results_search()}},n.prototype.clipboard_event_checker=function(t){var e=this;return setTimeout(function(){return e.results_search()},50)},n.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},n.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&(!(!this.display_disabled_options&&t.disabled)&&!t.empty)},n.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},n.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},n.prototype.search_results_touchend=function(t){return this.touch_started?this.search_results_mouseup(t):void 0},n.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:((e=document.createElement("div")).appendChild(t),e.innerHTML)},n.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},n.default_multiple_text="Select Some Options",n.default_single_text="Select an Option",n.default_no_result_text="No results match",n}(),(l=jQuery).fn.extend({chosen:function(i){return n.browser_is_supported()?this.each(function(t){var e,n;return n=(e=l(this)).data("chosen"),"destroy"===i?void(n instanceof r&&n.destroy()):void(n instanceof r||e.data("chosen",new r(this,i)))}):this}}),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,n),e.prototype.setup=function(){return this.form_field_jq=l(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},e.prototype.set_up_html=function(){var t,e;return(t=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),e={class:t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(e.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=l("<div />",e),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},e.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},e.prototype.register_observers=function(){var e=this;return this.container.bind("touchstart.chosen",function(t){return e.container_mousedown(t),t.preventDefault()}),this.container.bind("touchend.chosen",function(t){return e.container_mouseup(t),t.preventDefault()}),this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)}),this.search_results.bind("touchstart.chosen",function(t){e.search_results_touchstart(t)}),this.search_results.bind("touchmove.chosen",function(t){e.search_results_touchmove(t)}),this.search_results.bind("touchend.chosen",function(t){e.search_results_touchend(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){e.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)}),this.form_field_jq.bind("chosen:close.chosen",function(t){e.input_blur(t)}),this.search_field.bind("blur.chosen",function(t){e.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){e.input_focus(t)}),this.search_field.bind("cut.chosen",function(t){e.clipboard_event_checker(t)}),this.search_field.bind("paste.chosen",function(t){e.clipboard_event_checker(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){e.choices_click(t)}):this.container.bind("click.chosen",function(t){t.preventDefault()})},e.prototype.destroy=function(){return l(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},e.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},e.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&l(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||l(t.target)[0]!==this.selected_item[0]&&!l(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),l(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},e.prototype.container_mouseup=function(t){return"ABBR"!==t.target.nodeName||this.is_disabled?void 0:this.results_reset(t)},e.prototype.search_results_mousewheel=function(t){var e;return t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e?(t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())):void 0},e.prototype.blur_test=function(t){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},e.prototype.close_field=function(){return l(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},e.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},e.prototype.test_active_click=function(t){var e;return(e=l(t.target).closest(".chosen-container")).length&&this.container[0]===e[0]?this.active_field=!0:this.close_field()},e.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=a.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},e.prototype.result_do_highlight=function(t){var e,n,i,r;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),(i=parseInt(this.search_results.css("maxHeight"),10))+(r=this.search_results.scrollTop())<=(e=(n=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight()))return this.search_results.scrollTop(0<e-i?e-i:0);if(n<r)return this.search_results.scrollTop(n)}},e.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},e.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},e.prototype.update_results_content=function(t){return this.search_results.html(t)},e.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},e.prototype.set_tab_index=function(t){var e;return this.form_field.tabIndex?(e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e):void 0},e.prototype.set_label_behavior=function(){var e=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=l("label[for='"+this.form_field.id+"']")),0<this.form_field_label.length?this.form_field_label.bind("click.chosen",function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()}):void 0},e.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},e.prototype.search_results_mouseup=function(t){var e;return(e=l(t.target).hasClass("active-result")?l(t.target):l(t.target).parents(".active-result").first()).length?(this.result_highlight=e,this.result_select(t),this.search_field.focus()):void 0},e.prototype.search_results_mouseover=function(t){var e;return(e=l(t.target).hasClass("active-result")?l(t.target):l(t.target).parents(".active-result").first())?this.result_do_highlight(e):void 0},e.prototype.search_results_mouseout=function(t){return l(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},e.prototype.choice_build=function(t){var e,n,i=this;return e=l("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(t)+"</span>"),t.disabled?e.addClass("search-choice-disabled"):((n=l("<a />",{class:"search-choice-close","data-option-array-index":t.array_index})).bind("click.chosen",function(t){return i.choice_destroy_link_click(t)}),e.append(n)),this.search_container.before(e)},e.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(l(t.target))},e.prototype.choice_destroy=function(t){return this.result_deselect(t[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()):void 0},e.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},e.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},e.prototype.result_select=function(t){var e,n;return this.result_highlight?(e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),(n=this.results_data[e[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(this.choice_label(n)),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.show_search_field_default(),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())):void 0},e.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},e.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},e.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},e.prototype.get_search_text=function(){return l("<div/>").text(l.trim(this.search_field.val())).html()},e.prototype.winnow_results_set_highlight=function(){var t,e;return null!=(t=(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?e.first():this.search_results.find(".active-result").first())?this.result_do_highlight(t):void 0},e.prototype.no_results=function(t){var e;return(e=l('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>')).find("span").first().html(t),this.search_results.append(e),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},e.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},e.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},e.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(t.first()):(0<this.choices_count()&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},e.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last()).length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},e.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},e.prototype.keydown_checker=function(t){var e,n;switch(e=null!=(n=t.which)?n:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},e.prototype.search_field_scale=function(){var t,e,n,i,r,o,a,s;if(this.is_multiple){for(i="position:absolute; left: -1000px; top: -1000px; display:none;",a=o=0,s=(r=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"]).length;a<s;a++)i+=(n=r[a])+":"+this.search_field.css(n)+";";return(t=l("<div />",{style:i})).text(this.search_field.val()),l("body").append(t),o=t.width()+25,t.remove(),(e=this.container.outerWidth())-10<o&&(o=e-10),this.search_field.css({width:o+"px"})}},e}()}.call(this),$(window).on("load",function(){$(".header").removeClass("sticky-header")}),$(document).ready(function(){$("body").css("overflow","hidden"),setTimeout(function(){$("body").addClass("loaded")},3e3),setTimeout(function(){$("body").css("overflow","visible")},4e3)}),$(window).load(function(){function t(){var n=.25*$(window).innerHeight(),i=Math.round(1/n*1e4)/1e4;$(".fadeInBlock").each(function(){var t=$(this).offset().top,e=$(window).scrollTop()+$(window).innerHeight();t<e?t<e-n?$(this).css({transition:"opacity 550ms linear",opacity:1}):$(this).css({transition:"opacity 550ms linear",opacity:(e-t)*i}):$(this).css("opacity",0)})}$(".fadeInBlock").css("opacity",0),t(),$(window).scroll(function(){t()})}),$(window).on("scroll",function(){var t=$(".header"),e=$(window).scrollTop(),n=$(".header-bottom-section").outerHeight(!0),i=$(".header").outerHeight(!0)-n;e<=n?t.removeClass("sticky-header"):i<=e&&t.addClass("sticky-header")}),$(function(){$(".dropdown").hover(function(){$(this).addClass("open")},function(){$(this).removeClass("open")})}),$(function(){var e,n,i,r;$(".ripplelink").click(function(t){0===$(this).find(".ink").length&&$(this).prepend("<span class='ink'></span>"),(e=$(this).find(".ink")).removeClass("animate"),e.height()||e.width()||(n=Math.max($(this).outerWidth(),$(this).outerHeight()),e.css({height:n,width:n})),i=t.pageX-$(this).offset().left-e.width()/2,r=t.pageY-$(this).offset().top-e.height()/2,e.css({top:r+"px",left:i+"px"}).addClass("animate")})}),$(document).on("click",function(t){var e=$(".srch-box-cont");e===t.target||e.has(t.target).length||$(this).find(".srchsidebar").removeClass("searchbox-open")}),$(document).ready(function(){isOpen=!1,$(".srch-box-cont button").click(function(){0==isOpen?($(".srchsidebar").addClass("searchbox-open"),$('.srchsidebar input[type="text"]').focus(),isOpen=!0):($(".srchsidebar").removeClass("searchbox-open"),$('.srchsidebar input[type="text"]').focusout(),isOpen=!1)}),$(".latesttweet").bxSlider({mode:"vertical",speed:2e3,infiniteLoop:!0,pager:!1,controls:!1,autoHover:!0,minSlides:2,maxSlides:2,moveSlides:1,auto:!0,autoStart:!0,slideMargin:10})}),$(window).on("load resize",function(){$(window).width()<=1023&&$("#resnav").toggleClass("overlay")}),$(function(){$(".photo-gallery-slider").bxSlider({mode:"fade",auto:!1,controls:!0,hideControlOnEnd:!0,pagerCustom:"#photogallery"}),$(".photo-gallery-thumb-slider").bxSlider({minSlides:5,maxSlides:5,slideWidth:155,slideMargin:15,moveSlides:1,auto:!1,pager:!1,hideControlOnEnd:!0,controls:!0}),$(".rel-photo-carousal").bxSlider({mode:"vertical",speed:2e3,infiniteLoop:!0,pager:!1,controls:!0,autoHover:!0,minSlides:7,maxSlides:7,moveSlides:1,auto:!1,autoStart:!1,hideControlOnEnd:!0,slideMargin:10}),$(".catslider").bxSlider({mode:"horizontal",speed:1e3,slideWidth:278,infiniteLoop:!0,pager:!1,controls:!0,minSlides:4,maxSlides:4,moveSlides:1,hideControlOnEnd:!0,responsive:!0,slideMargin:25})}),function(){var x,w=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};angular.module("localytics.directives",[]),(x=angular.module("localytics.directives")).provider("chosen",function(){var e;return e={},{setOption:function(t){angular.extend(e,t)},$get:function(){return e}}}),x.directive("chosen",["chosen","$timeout",function(f,g){var v,m,b,y;return m=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,v=["persistentCreateOption","createOptionText","createOption","skipNoResults","noResultsText","allowSingleDeselect","disableSearchThreshold","disableSearch","enableSplitWordSearch","inheritSelectClasses","maxSelectedOptions","placeholderTextMultiple","placeholderTextSingle","searchContains","singleBackstrokeDelete","displayDisabledOptions","displaySelectedOptions","width","includeGroupLabelInSelected","maxShownResults"],y=function(t){return t.replace(/[A-Z]/g,function(t){return"_"+t.toLowerCase()})},b=function(t){var e;if(angular.isArray(t))return 0===t.length;if(angular.isObject(t))for(e in t)if(t.hasOwnProperty(e))return!1;return!0},{restrict:"A",require:"?ngModel",priority:1,link:function(i,r,o,t){var e,n,a,s,l,c,u,d,p,h;if(i.disabledValuesHistory=i.disabledValuesHistory?i.disabledValuesHistory:[],(r=$(r)).addClass("localytics-chosen"),e=i.$eval(o.chosen)||{},s=angular.copy(f),angular.extend(s,e),angular.forEach(o,function(t,n){if(0<=w.call(v,n))return o.$observe(n,function(t){var e;return e=String(r.attr(o.$attr[n])).slice(0,2),s[y(n)]="{{"===e?t:i.$eval(t),d()})}),c=function(){return r.addClass("loading").attr("disabled",!0).trigger("chosen:updated")},x=null,n=!(u=function(){return r.removeClass("loading"),angular.isDefined(o.disabled)?r.attr("disabled",o.disabled):r.attr("disabled",!1),r.trigger("chosen:updated")}),a=function(){var t;if(x){if((t=$(r.parent()).find("div.chosen-drop"))&&0<t.length&&0<=parseInt(t.css("left")))return;return r.trigger("chosen:updated")}if(i.$evalAsync(function(){x=r.chosen(s).data("chosen")}),angular.isObject(x))return x.default_text},d=function(){return x&&n?r.attr("data-placeholder",x.results_none_found).attr("disabled",!0):r.removeAttr("data-placeholder"),r.trigger("chosen:updated")},t?(l=t.$render,t.$render=function(){return l(),a()},r.on("chosen:hiding_dropdown",function(){return i.$apply(function(){return t.$setTouched()})}),o.multiple&&(h=function(){return t.$viewValue},i.$watch(h,t.$render,!0))):a(),o.$observe("disabled",function(){return r.trigger("chosen:updated")}),o.ngOptions&&t)return p=o.ngOptions.match(m)[7],i.$watchCollection(p,function(t,e){return g(function(){return angular.isUndefined(t)?c():(n=b(t),u(),d())})}),i.$on("$destroy",function(t){if("undefined"!=typeof timer&&null!==timer)return g.cancel(timer)})}}}])}.call(this),function(s,a,t,e){function y(t,e,n,i){return t/=i,-n*(--t*t*t*t-1)+e}function b(t,e){this.container=t,this.onStart=e.onStart||n,this.onMove=e.onMove||n,this.onEnd=e.onEnd||n,this.sliderId=e.sliderId||"slider"+Math.ceil(1e6*Math.random())}function o(t,e){t.is("#iv-container")&&(this._fullPage=!0),this.container=t,this.options=s.extend({},o.defaults,e),this.zoomValue=100,t.find(".snap-view").length||t.prepend('<div class="iv-loader"></div> <div class="iv-snap-view"><div class="iv-snap-image-wrap"><div class="iv-snap-handle"></div></div><div class="iv-zoom-slider"><div class="iv-zoom-handle"></div></div></div><div class="iv-image-view" ><div class="iv-image-wrap" ></div></div>'),t.addClass("iv-container"),"static"==t.css("position")&&t.css("position","relative"),this.snapView=t.find(".iv-snap-view"),this.snapImageWrap=t.find(".iv-snap-image-wrap"),this.imageWrap=t.find(".iv-image-wrap"),this.snapHandle=t.find(".iv-snap-handle"),this.zoomHandle=t.find(".iv-zoom-handle"),this._viewerId="iv"+Math.floor(1e6*Math.random())}var n=function(){},i=s("body"),x=s(a),w=s(t);!function(){for(var o=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!a.requestAnimationFrame;++e)a.requestAnimationFrame=a[t[e]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[t[e]+"CancelAnimationFrame"]||a[t[e]+"CancelRequestAnimationFrame"];a.requestAnimationFrame||(a.requestAnimationFrame=function(t,e){var n=(new Date).getTime(),i=Math.max(0,16-(n-o)),r=a.setTimeout(function(){t(n+i)},i);return o=n+i,r}),a.cancelAnimationFrame||(a.cancelAnimationFrame=function(t){clearTimeout(t)})}(),s(function(){i.length||(i=s("body")),i.append('<div id="iv-container"><div class="iv-loader"></div> <div class="iv-snap-view"><div class="iv-snap-image-wrap"><div class="iv-snap-handle"></div></div><div class="iv-zoom-slider"><div class="iv-zoom-handle"></div></div></div><div class="iv-image-view" ><div class="iv-image-wrap" ></div></div><div class="iv-close"></div><div>')}),b.prototype.init=function(){var l=this,c="."+this.sliderId;return this.container.on("touchstart"+c+" mousedown"+c,function(t){t.preventDefault();var e=("touchstart"==t.type?"touchmove":"mousemove")+c,n=("touchstart"==t.type?"touchend":"mouseup")+c,i=t.originalEvent,r=i.clientX||i.touches[0].clientX,o=i.clientY||i.touches[0].clientY;if(!1!==l.onStart(t,{x:r,y:o})){var a=function(t){t.preventDefault();var e=(i=t.originalEvent).clientX||i.touches[0].clientX,n=i.clientY||i.touches[0].clientY;l.onMove(t,{dx:e-r,dy:n-o,mx:e,my:n})},s=function(){w.off(e,a),w.off(n,s),l.onEnd()};w.on(e,a),w.on(n,s)}}),this},o.prototype={constructor:o,_init:function(){var e,n;function i(t){!r.snapView||v||l.zoomValue<=100||!l.loaded||(clearTimeout(g),v=!0,l.snapView.css("opacity",1),t||(g=setTimeout(function(){l.snapView.css("opacity",0),v=!1},4e3)))}var l=this,r=l.options,c=!1,u=this.container,t="."+l._viewerId,s=this.snapHandle,o=this.snapImageWrap,a=this.imageWrap,d=new b(o,{sliderId:l._viewerId,onStart:function(){if(!l.loaded)return!1;var t=s[0].style;this.curHandleTop=parseFloat(t.top),this.curHandleLeft=parseFloat(t.left),this.handleWidth=parseFloat(t.width),this.handleHeight=parseFloat(t.height),this.width=o.width(),this.height=o.height(),clearInterval(p.slideMomentumCheck),cancelAnimationFrame(p.sliderMomentumFrame)},onMove:function(t,e){var n=this.curHandleLeft+100*e.dx/this.width,i=this.curHandleTop+100*e.dy/this.height;n=Math.max(0,n),n=Math.min(100-this.handleWidth,n),i=Math.max(0,i),i=Math.min(100-this.handleHeight,i);var r=l.containerDim,o=l.zoomValue/100*l.imageDim.w,a=l.zoomValue/100*l.imageDim.h;o=o<r.w?(r.w-o)/2:-o*n/100,r=a<r.h?(r.h-a)/2:-a*i/100,s.css({top:i+"%",left:n+"%"}),l.currentImg.css({left:o,top:r})}}).init(),p=l._imageSlider=new b(a,{sliderId:l._viewerId,onStart:function(t,e){if(!l.loaded)return!1;if(!c){var n=this;d.onStart(),n.imgWidth=l.imageDim.w*l.zoomValue/100,n.imgHeight=l.imageDim.h*l.zoomValue/100,n.positions=[e,e],n.startPosition=e,l._clearFrames(),n.slideMomentumCheck=setInterval(function(){n.currentPos&&(n.positions.shift(),n.positions.push({x:n.currentPos.mx,y:n.currentPos.my}))},50)}},onMove:function(t,e){c||(this.currentPos=e,d.onMove(t,{dx:-e.dx*d.width/this.imgWidth,dy:-e.dy*d.height/this.imgHeight}))},onEnd:function(){if(!c){var e=this,n=this.positions[1].x-this.positions[0].x,i=this.positions[1].y-this.positions[0].y;if(30<Math.abs(n)||30<Math.abs(i)){var r=1,o=e.currentPos.dx,a=e.currentPos.dy;!function t(){r<=60&&(e.sliderMomentumFrame=requestAnimationFrame(t)),o+=y(r,n/3,-n/3,60),a+=y(r,i/3,-i/3,60),d.onMove(null,{dx:-o*d.width/e.imgWidth,dy:-a*d.height/e.imgHeight}),r++}()}}}}).init(),h=0;a.on("mousewheel"+t+" DOMMouseScroll"+t,function(t){if(r.zoomOnMouseWheel&&l.loaded){l._clearFrames();var e=Math.max(-1,Math.min(1,t.originalEvent.wheelDelta||-t.originalEvent.detail)),n=l.zoomValue*(100+15*e)/100;5<(h=100<=n&&n<=r.maxZoom?0:h+Math.abs(e))||(t.preventDefault(),e=u.offset(),l.zoom(n,{x:(t.pageX||t.originalEvent.pageX)-e.left,y:(t.pageY||t.originalEvent.pageY)-e.top}),i())}}),a.on("touchstart"+t,function(t){if(l.loaded){var e=t.originalEvent.touches[0];if(t=t.originalEvent.touches[1],e&&t){c=!0;var n=u.offset(),i=Math.sqrt(Math.pow(t.pageX-e.pageX,2)+Math.pow(t.pageY-e.pageY,2)),r=l.zoomValue,o={x:(t.pageX+e.pageX)/2-n.left,y:(t.pageY+e.pageY)/2-n.top},a=function(t){t.preventDefault();var e=t.originalEvent.touches[0];t=t.originalEvent.touches[1],l.zoom(r+(Math.sqrt(Math.pow(t.pageX-e.pageX,2)+Math.pow(t.pageY-e.pageY,2))-i)/2,o)},s=function(){w.off("touchmove",a),w.off("touchend",s),c=!1};w.on("touchmove",a),w.on("touchend",s)}}});var f=0;a.on("click"+t,function(t){0==f?(f=Date.now(),e=t.pageX,n=t.pageY):(Date.now()-f<500&&Math.abs(t.pageX-e)<50&&Math.abs(t.pageY-n)<50&&(l.zoomValue==r.zoomValue?l.zoom(200):l.resetZoom()),f=0)});var g,v,m=l.snapView.find(".iv-zoom-slider");new b(m,{sliderId:l._viewerId,onStart:function(t){if(!l.loaded)return!1;this.leftOffset=m.offset().left,this.handleWidth=l.zoomHandle.width(),this.onMove(t)},onMove:function(t,e){var n=(t.pageX||t.originalEvent.touches[0].pageX)-this.leftOffset-this.handleWidth/2;n=Math.max(0,n),n=Math.min(l._zoomSliderLength,n),l.zoom(100+(r.maxZoom-100)*n/l._zoomSliderLength)}}).init(),a.on("touchmove"+t+" mousemove"+t,function(){i()}),(a={})["mouseenter"+t+" touchstart"+t]=function(){i(!(v=!1))},a["mouseleave"+t+" touchend"+t]=function(){v=!1,i()},l.snapView.on(a),r.refreshOnResize&&x.on("resize"+t,function(){l.refresh()}),l._fullPage&&(u.on("touchmove"+t+" mousewheel"+t+" DOMMouseScroll"+t,function(t){t.preventDefault()}),u.find(".iv-close").on("click"+t,function(){l.hide()}))},zoom:function(a,s){a=Math.round(Math.max(100,a)),a=Math.min(this.options.maxZoom,a),s=s||{x:this.containerDim.w/2,y:this.containerDim.h/2};var l=this,c=this.options.maxZoom,u=this.zoomValue,d=this.currentImg,t=this.containerDim,p=parseFloat(d.css("left")),h=parseFloat(d.css("top"));l._clearFrames();var f=0;t=l.containerDim;var e=l.imageDim,g=(t.w-e.w)/2,v=(t.h-e.h)/2,m=t.w-g,b=t.h-v;!function t(){++f<20&&(l._zoomFrame=requestAnimationFrame(t));var e=y(f,u,a-u,20),n=e/u,i=l.imageDim.w*e/100,r=l.imageDim.h*e/100,o=-((s.x-p)*n-s.x);n=-((s.y-h)*n-s.y),o=Math.min(o,g),n=Math.min(n,v),o+i<m&&(o=m-i),n+r<b&&(n=b-r),d.css({height:r+"px",width:i+"px",left:o+"px",top:n+"px"}),l.zoomValue=e,l._resizeHandle(i,r,o,n),l.zoomHandle.css("left",(e-100)*l._zoomSliderLength/(c-100)+"px")}()},_clearFrames:function(){clearInterval(this._imageSlider.slideMomentumCheck),cancelAnimationFrame(this._imageSlider.sliderMomentumFrame),cancelAnimationFrame(this._zoomFrame)},resetZoom:function(){this.zoom(this.options.zoomValue)},_calculateDimensions:function(){var t=this.currentImg,e=this.container,n=this.snapView,i=t.width(),r=t.height(),o=e.width(),a=e.height();e=n.innerWidth(),n=n.innerHeight(),this.containerDim={w:o,h:a};var s=i/r;r=(i=r<i&&o<=a||o<s*a?o:s*a)/s,this.imageDim={w:i,h:r},t.css({width:i+"px",height:r+"px",left:(o-i)/2+"px",top:(a-r)/2+"px","max-width":"none","max-height":"none"}),t=r<i?e:i*n/r,o=i<r?n:r*e/i,this.snapImageDim={w:t,h:o},this.snapImg.css({width:t,height:o}),this._zoomSliderLength=e-this.zoomHandle.outerWidth()},refresh:function(){this.loaded&&(this._calculateDimensions(),this.resetZoom())},_resizeHandle:function(t,e,n,i){var r=this.currentImg;t=t||this.imageDim.w*this.zoomValue/100,e=e||this.imageDim.h*this.zoomValue/100,n=Math.max(100*-(n||parseFloat(r.css("left")))/t,0),i=Math.max(100*-(i||parseFloat(r.css("top")))/e,0),this.snapHandle.css({top:i+"%",left:n+"%",width:Math.min(100*this.containerDim.w/t,100)+"%",height:Math.min(100*this.containerDim.h/e,100)+"%"})},show:function(t,e){this._fullPage&&(this.container.show(),t&&this.load(t,e))},hide:function(){this._fullPage&&this.container.hide()},options:function(t,e){if(!e)return this.options[t];this.options[t]=e},destroy:function(t,e){var n="."+this._viewerId;return this._fullPage?(container.off(n),container.find('[class^="iv"]').off(n)):this.container.remove('[class^="iv"]'),x.off(n),null},load:function(t,e){function n(){i.loaded=!0,i.zoomValue=100,a.show(),i.snapImg.show(),i.refresh(),i.resetZoom(),r.find(".iv-loader").hide()}var i=this,r=this.container;r.find(".iv-snap-image,.iv-large-image").remove(),this.container.find(".iv-snap-image-wrap").prepend('<img class="iv-snap-image" src="'+t+'" />'),this.imageWrap.prepend('<img class="iv-large-image" src="'+t+'" />'),e&&this.imageWrap.append('<img class="iv-large-image" src="'+e+'" />');var o,a=this.currentImg=this.container.find(".iv-large-image");this.snapImg=this.container.find(".iv-snap-image"),i.loaded=!1,r.find(".iv-loader").show(),a.hide(),i.snapImg.hide(),!(o=a[0]).complete||void 0!==o.naturalWidth&&0===o.naturalWidth?s(a[0]).on("load",n):n()}},o.defaults={zoomValue:100,snapView:!0,maxZoom:500,refreshOnResize:!0,zoomOnMouseWheel:!0},a.ImageViewer=function(t,e){if(t&&("string"==typeof t||t instanceof Element||t[0]instanceof Element)||(e=t,t=s("#iv-container")),(t=s(t)).is("img")){var n=t,i=n[0].src,r=n.attr("high-res-src")||n.attr("data-high-res-src");t=n.wrap('<div class="iv-container" style="display:inline-block; overflow:hidden"></div>').parent(),n.css({opacity:0,position:"relative",zIndex:-1})}else i=t.attr("src")||t.attr("data-src"),r=t.attr("high-res-src")||t.attr("data-high-res-src");return(n=new o(t,e))._init(),i&&n.load(i,r),n},s.fn.ImageViewer=function(n){return this.each(function(){var t=s(this),e=a.ImageViewer(t,n);t.data("ImageViewer",e)})}}(window.jQuery,window,document),function(r,n,I,p){"use strict";var o=I("html"),a=I(r),c=I(n),z=I.fancybox=function(){z.open.apply(this,arguments)},s=navigator.userAgent.match(/msie/i),l=null,u=n.createTouch!==p,h=function(t){return t&&t.hasOwnProperty&&t instanceof I},f=function(t){return t&&"string"===I.type(t)},N=function(t){return f(t)&&0<t.indexOf("%")},L=function(t,e){var n=parseInt(t,10)||0;return e&&N(t)&&(n=z.getViewport()[e]/100*n),Math.ceil(n)},H=function(t,e){return L(t,e)+"px"};I.extend(z,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!u,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(s?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:I.noop,beforeLoad:I.noop,afterLoad:I.noop,beforeShow:I.noop,afterShow:I.noop,beforeChange:I.noop,beforeClose:I.noop,afterClose:I.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(u,d){return u&&(I.isPlainObject(d)||(d={}),!1!==z.close(!0))?(I.isArray(u)||(u=h(u)?I(u).get():[u]),I.each(u,function(t,e){var n,i,r,o,a,s,l,c={};"object"===I.type(e)&&(e.nodeType&&(e=I(e)),h(e)?(c={href:e.data("fancybox-href")||e.attr("href"),title:e.data("fancybox-title")||e.attr("title"),isDom:!0,element:e},I.metadata&&I.extend(!0,c,e.metadata())):c=e),n=d.href||c.href||(f(e)?e:null),i=d.title!==p?d.title:c.title||"",!(o=(r=d.content||c.content)?"html":d.type||c.type)&&c.isDom&&((o=e.data("fancybox-type"))||(o=(a=e.prop("class").match(/fancybox\.(\w+)/))?a[1]:null)),f(n)&&(o||(z.isImage(n)?o="image":z.isSWF(n)?o="swf":"#"===n.charAt(0)?o="inline":f(e)&&(o="html",r=e)),"ajax"===o&&(n=(s=n.split(/\s+/,2)).shift(),l=s.shift())),r||("inline"===o?n?r=I(f(n)?n.replace(/.*(?=#[^\s]+$)/,""):n):c.isDom&&(r=e):"html"===o?r=n:o||n||!c.isDom||(o="inline",r=e)),I.extend(c,{href:n,type:o,content:r,title:i,selector:l}),u[t]=c}),z.opts=I.extend(!0,{},z.defaults,d),d.keys!==p&&(z.opts.keys=!!d.keys&&I.extend({},z.defaults.keys,d.keys)),z.group=u,z._start(z.opts.index)):void 0},cancel:function(){var t=z.coming;t&&!1!==z.trigger("onCancel")&&(z.hideLoading(),z.ajaxLoad&&z.ajaxLoad.abort(),z.ajaxLoad=null,z.imgPreload&&(z.imgPreload.onload=z.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),z.coming=null,z.current||z._afterZoomOut(t))},close:function(t){z.cancel(),!1!==z.trigger("beforeClose")&&(z.unbindEvents(),z.isActive&&(z.isOpen&&!0!==t?(z.isOpen=z.isOpened=!1,z.isClosing=!0,I(".fancybox-item, .fancybox-nav").remove(),z.wrap.stop(!0,!0).removeClass("fancybox-opened"),z.transitions[z.current.closeMethod]()):(I(".fancybox-wrap").stop(!0).trigger("onReset").remove(),z._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(z.player.timer)},n=function(){e(),z.current&&z.player.isActive&&(z.player.timer=setTimeout(z.next,z.current.playSpeed))},i=function(){e(),c.unbind(".player"),z.player.isActive=!1,z.trigger("onPlayEnd")};!0===t||!z.player.isActive&&!1!==t?z.current&&(z.current.loop||z.current.index<z.group.length-1)&&(z.player.isActive=!0,c.bind({"onCancel.player beforeClose.player":i,"onUpdate.player":n,"beforeLoad.player":e}),n(),z.trigger("onPlayStart")):i()},next:function(t){var e=z.current;e&&(f(t)||(t=e.direction.next),z.jumpto(e.index+1,t,"next"))},prev:function(t){var e=z.current;e&&(f(t)||(t=e.direction.prev),z.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,n){var i=z.current;i&&(t=L(t),z.direction=e||i.direction[t>=i.index?"next":"prev"],z.router=n||"jumpto",i.loop&&(t<0&&(t=i.group.length+t%i.group.length),t%=i.group.length),i.group[t]!==p&&(z.cancel(),z._start(t)))},reposition:function(t,e){var n,i=z.current,r=i?i.wrap:null;r&&(n=z._getPosition(e),t&&"scroll"===t.type?(delete n.position,r.stop(!0,!0).animate(n,200)):(r.css(n),i.pos=I.extend({},i.dim,n)))},update:function(e){var n=e&&e.type,i=!n||"orientationchange"===n;i&&(clearTimeout(l),l=null),z.isOpen&&!l&&(l=setTimeout(function(){var t=z.current;t&&!z.isClosing&&(z.wrap.removeClass("fancybox-tmp"),(i||"load"===n||"resize"===n&&t.autoResize)&&z._setDimension(),"scroll"===n&&t.canShrink||z.reposition(e),z.trigger("onUpdate"),l=null)},i&&!u?0:300))},toggle:function(t){z.isOpen&&(z.current.fitToView="boolean"===I.type(t)?t:!z.current.fitToView,u&&(z.wrap.removeAttr("style").addClass("fancybox-tmp"),z.trigger("onUpdate")),z.update())},hideLoading:function(){c.unbind(".loading"),I("#fancybox-loading").remove()},showLoading:function(){var t,e;z.hideLoading(),t=I('<div id="fancybox-loading"><div></div></div>').click(z.cancel).appendTo("body"),c.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),z.cancel())}),z.defaults.fixed||(e=z.getViewport(),t.css({position:"absolute",top:.5*e.h+e.y,left:.5*e.w+e.x}))},getViewport:function(){var t=z.current&&z.current.locked||!1,e={x:a.scrollLeft(),y:a.scrollTop()};return e.h=t?(e.w=t[0].clientWidth,t[0].clientHeight):(e.w=u&&r.innerWidth?r.innerWidth:a.width(),u&&r.innerHeight?r.innerHeight:a.height()),e},unbindEvents:function(){z.wrap&&h(z.wrap)&&z.wrap.unbind(".fb"),c.unbind(".fb"),a.unbind(".fb")},bindEvents:function(){var e,l=z.current;l&&(a.bind("orientationchange.fb"+(u?"":" resize.fb")+(l.autoCenter&&!l.locked?" scroll.fb":""),z.update),(e=l.keys)&&c.bind("keydown.fb",function(n){var i=n.which||n.keyCode,t=n.target||n.srcElement;return(27!==i||!z.coming)&&void(n.ctrlKey||n.altKey||n.shiftKey||n.metaKey||t&&(t.type||I(t).is("[contenteditable]"))||I.each(e,function(t,e){return 1<l.group.length&&e[i]!==p?(z[t](e[i]),n.preventDefault(),!1):-1<I.inArray(i,e)?(z[t](),n.preventDefault(),!1):void 0}))}),I.fn.mousewheel&&l.mouseWheel&&z.wrap.bind("mousewheel.fb",function(t,e,n,i){for(var r=t.target||null,o=I(r),a=!1;o.length&&!(a||o.is(".fancybox-skin")||o.is(".fancybox-wrap"));)a=(s=o[0])&&!(s.style.overflow&&"hidden"===s.style.overflow)&&(s.clientWidth&&s.scrollWidth>s.clientWidth||s.clientHeight&&s.scrollHeight>s.clientHeight),o=I(o).parent();var s;0===e||a||1<z.group.length&&!l.canShrink&&(0<i||0<n?z.prev(0<i?"down":"left"):(i<0||n<0)&&z.next(i<0?"up":"right"),t.preventDefault())}))},trigger:function(n,t){var e,i=t||z.coming||z.current;if(i){if(I.isFunction(i[n])&&(e=i[n].apply(i,Array.prototype.slice.call(arguments,1))),!1===e)return!1;i.helpers&&I.each(i.helpers,function(t,e){e&&z.helpers[t]&&I.isFunction(z.helpers[t][n])&&z.helpers[t][n](I.extend(!0,{},z.helpers[t].defaults,e),i)}),c.trigger(n)}},isImage:function(t){return f(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(t){return f(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,n,i,r,o,a={};if(t=L(t),!(e=z.group[t]||null))return!1;if(r=(a=I.extend(!0,{},z.opts,e)).margin,o=a.padding,"number"===I.type(r)&&(a.margin=[r,r,r,r]),"number"===I.type(o)&&(a.padding=[o,o,o,o]),a.modal&&I.extend(!0,a,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),a.autoSize&&(a.autoWidth=a.autoHeight=!0),"auto"===a.width&&(a.autoWidth=!0),"auto"===a.height&&(a.autoHeight=!0),a.group=z.group,a.index=t,z.coming=a,!1!==z.trigger("beforeLoad")){if(i=a.type,n=a.href,!i)return z.coming=null,!(!z.current||!z.router||"jumpto"===z.router)&&(z.current.index=t,z[z.router](z.direction));if(z.isActive=!0,("image"===i||"swf"===i)&&(a.autoHeight=a.autoWidth=!1,a.scrolling="visible"),"image"===i&&(a.aspectRatio=!0),"iframe"===i&&u&&(a.scrolling="scroll"),a.wrap=I(a.tpl.wrap).addClass("fancybox-"+(u?"mobile":"desktop")+" fancybox-type-"+i+" fancybox-tmp "+a.wrapCSS).appendTo(a.parent||"body"),I.extend(a,{skin:I(".fancybox-skin",a.wrap),outer:I(".fancybox-outer",a.wrap),inner:I(".fancybox-inner",a.wrap)}),I.each(["Top","Right","Bottom","Left"],function(t,e){a.skin.css("padding"+e,H(a.padding[t]))}),z.trigger("onReady"),"inline"===i||"html"===i){if(!a.content||!a.content.length)return z._error("content")}else if(!n)return z._error("href");"image"===i?z._loadImage():"ajax"===i?z._loadAjax():"iframe"===i?z._loadIframe():z._afterLoad()}else z.coming=null},_error:function(t){I.extend(z.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:z.coming.tpl.error}),z._afterLoad()},_loadImage:function(){var t=z.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,z.coming.width=this.width/z.opts.pixelRatio,z.coming.height=this.height/z.opts.pixelRatio,z._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,z._error("image")},t.src=z.coming.href,!0!==t.complete&&z.showLoading()},_loadAjax:function(){var n=z.coming;z.showLoading(),z.ajaxLoad=I.ajax(I.extend({},n.ajax,{url:n.href,error:function(t,e){z.coming&&"abort"!==e?z._error("ajax",t):z.hideLoading()},success:function(t,e){"success"===e&&(n.content=t,z._afterLoad())}}))},_loadIframe:function(){var t=z.coming,e=I(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",u?"auto":t.iframe.scrolling).attr("src",t.href);I(t.wrap).bind("onReset",function(){try{I(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),t.iframe.preload&&(z.showLoading(),e.one("load",function(){I(this).data("ready",1),u||I(this).bind("load.fb",z.update),I(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),z._afterLoad()})),t.content=e.appendTo(t.inner),t.iframe.preload||z._afterLoad()},_preloadImages:function(){var t,e,n=z.group,i=z.current,r=n.length,o=i.preload?Math.min(i.preload,r-1):0;for(e=1;e<=o;e+=1)"image"===(t=n[(i.index+e)%r]).type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var t,n,e,i,r,o,a=z.coming,s=z.current,l="fancybox-placeholder";if(z.hideLoading(),a&&!1!==z.isActive){if(!1===z.trigger("afterLoad",a,s))return a.wrap.stop(!0).trigger("onReset").remove(),void(z.coming=null);switch(s&&(z.trigger("beforeChange",s),s.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),z.unbindEvents(),n=(t=a).content,e=a.type,i=a.scrolling,I.extend(z,{wrap:t.wrap,skin:t.skin,outer:t.outer,inner:t.inner,current:t,previous:s}),r=t.href,e){case"inline":case"ajax":case"html":t.selector?n=I("<div>").html(n).find(t.selector):h(n)&&(n.data(l)||n.data(l,I('<div class="'+l+'"></div>').insertAfter(n).hide()),n=n.show().detach(),t.wrap.bind("onReset",function(){I(this).find(n).length&&n.hide().replaceAll(n.data(l)).data(l,!1)}));break;case"image":n=t.tpl.image.replace("{href}",r);break;case"swf":n='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+r+'"></param>',o="",I.each(t.swf,function(t,e){n+='<param name="'+t+'" value="'+e+'"></param>',o+=" "+t+'="'+e+'"'}),n+='<embed src="'+r+'" type="application/x-shockwave-flash" width="100%" height="100%"'+o+"></embed></object>"}h(n)&&n.parent().is(t.inner)||t.inner.append(n),z.trigger("beforeShow"),t.inner.css("overflow","yes"===i?"scroll":"no"===i?"hidden":i),z._setDimension(),z.reposition(),z.isOpen=!1,z.coming=null,z.bindEvents(),z.isOpened?s.prevMethod&&z.transitions[s.prevMethod]():I(".fancybox-wrap").not(t.wrap).stop(!0).trigger("onReset").remove(),z.transitions[z.isOpened?t.nextMethod:t.openMethod](),z._preloadImages()}},_setDimension:function(){var t,e,n,i,r,o,a,s,l,c,u,d,p,h,f,g,v,m=z.getViewport(),b=0,y=z.wrap,x=z.skin,w=z.inner,k=z.current,$=k.width,S=k.height,C=k.minWidth,M=k.minHeight,T=k.maxWidth,_=k.maxHeight,A=k.scrolling,E=k.scrollOutside?k.scrollbarWidth:0,D=k.margin,O=L(D[1]+D[3]),P=L(D[0]+D[2]);if(y.add(x).add(w).width("auto").height("auto").removeClass("fancybox-tmp"),n=O+(t=L(x.outerWidth(!0)-x.width())),i=P+(e=L(x.outerHeight(!0)-x.height())),r=N($)?(m.w-n)*L($)/100:$,o=N(S)?(m.h-i)*L(S)/100:S,"iframe"===k.type){if(h=k.content,k.autoHeight&&1===h.data("ready"))try{h[0].contentWindow.document.location&&(w.width(r).height(9999),f=h.contents().find("body"),E&&f.css("overflow-x","hidden"),o=f.outerHeight(!0))}catch(t){}}else(k.autoWidth||k.autoHeight)&&(w.addClass("fancybox-tmp"),k.autoWidth||w.width(r),k.autoHeight||w.height(o),k.autoWidth&&(r=w.width()),k.autoHeight&&(o=w.height()),w.removeClass("fancybox-tmp"));if($=L(r),S=L(o),l=r/o,C=L(N(C)?L(C,"w")-n:C),T=L(N(T)?L(T,"w")-n:T),M=L(N(M)?L(M,"h")-i:M),a=T,s=_=L(N(_)?L(_,"h")-i:_),k.fitToView&&(T=Math.min(m.w-n,T),_=Math.min(m.h-i,_)),d=m.w-O,p=m.h-P,k.aspectRatio?(T<$&&(S=L(($=T)/l)),_<S&&($=L((S=_)*l)),$<C&&(S=L(($=C)/l)),S<M&&($=L((S=M)*l))):($=Math.max(C,Math.min($,T)),k.autoHeight&&"iframe"!==k.type&&(w.width($),S=w.height()),S=Math.max(M,Math.min(S,_))),k.fitToView)if(w.width($).height(S),y.width($+t),c=y.width(),u=y.height(),k.aspectRatio)for(;(d<c||p<u)&&C<$&&M<S&&!(19<b++);)S=Math.max(M,Math.min(_,S-10)),($=L(S*l))<C&&(S=L(($=C)/l)),T<$&&(S=L(($=T)/l)),w.width($).height(S),y.width($+t),c=y.width(),u=y.height();else $=Math.max(C,Math.min($,$-(c-d))),S=Math.max(M,Math.min(S,S-(u-p)));E&&"auto"===A&&S<o&&$+t+E<d&&($+=E),w.width($).height(S),y.width($+t),c=y.width(),u=y.height(),g=(d<c||p<u)&&C<$&&M<S,v=k.aspectRatio?$<a&&S<s&&$<r&&S<o:($<a||S<s)&&($<r||S<o),I.extend(k,{dim:{width:H(c),height:H(u)},origWidth:r,origHeight:o,canShrink:g,canExpand:v,wPadding:t,hPadding:e,wrapSpace:u-x.outerHeight(!0),skinSpace:x.height()-S}),!h&&k.autoHeight&&M<S&&S<_&&!v&&w.height("auto")},_getPosition:function(t){var e=z.current,n=z.getViewport(),i=e.margin,r=z.wrap.width()+i[1]+i[3],o=z.wrap.height()+i[0]+i[2],a={position:"absolute",top:i[0],left:i[3]};return e.autoCenter&&e.fixed&&!t&&o<=n.h&&r<=n.w?a.position="fixed":e.locked||(a.top+=n.y,a.left+=n.x),a.top=H(Math.max(a.top,a.top+(n.h-o)*e.topRatio)),a.left=H(Math.max(a.left,a.left+(n.w-r)*e.leftRatio)),a},_afterZoomIn:function(){var e=z.current;e&&(z.isOpen=z.isOpened=!0,z.wrap.css("overflow","visible").addClass("fancybox-opened"),z.update(),(e.closeClick||e.nextClick&&1<z.group.length)&&z.inner.css("cursor","pointer").bind("click.fb",function(t){I(t.target).is("a")||I(t.target).parent().is("a")||(t.preventDefault(),z[e.closeClick?"close":"next"]())}),e.closeBtn&&I(e.tpl.closeBtn).appendTo(z.skin).bind("click.fb",function(t){t.preventDefault(),z.close()}),e.arrows&&1<z.group.length&&((e.loop||0<e.index)&&I(e.tpl.prev).appendTo(z.outer).bind("click.fb",z.prev),(e.loop||e.index<z.group.length-1)&&I(e.tpl.next).appendTo(z.outer).bind("click.fb",z.next)),z.trigger("afterShow"),e.loop||e.index!==e.group.length-1?z.opts.autoPlay&&!z.player.isActive&&(z.opts.autoPlay=!1,z.play()):z.play(!1))},_afterZoomOut:function(t){t=t||z.current,I(".fancybox-wrap").trigger("onReset").remove(),I.extend(z,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),z.trigger("afterClose",t)}}),z.transitions={getOrigPosition:function(){var t=z.current,e=t.element,n=t.orig,i={},r=50,o=50,a=t.hPadding,s=t.wPadding,l=z.getViewport();return!n&&t.isDom&&e.is(":visible")&&((n=e.find("img:first")).length||(n=e)),h(n)?(i=n.offset(),n.is("img")&&(r=n.outerWidth(),o=n.outerHeight())):(i.top=l.y+(l.h-o)*t.topRatio,i.left=l.x+(l.w-r)*t.leftRatio),("fixed"===z.wrap.css("position")||t.locked)&&(i.top-=l.y,i.left-=l.x),{top:H(i.top-a*t.topRatio),left:H(i.left-s*t.leftRatio),width:H(r+s),height:H(o+a)}},step:function(t,e){var n,i,r=e.prop,o=z.current,a=o.wrapSpace,s=o.skinSpace;("width"===r||"height"===r)&&(n=e.end===e.start?1:(t-e.start)/(e.end-e.start),z.isClosing&&(n=1-n),i=t-("width"===r?o.wPadding:o.hPadding),z.skin[r](L("width"===r?i:i-a*n)),z.inner[r](L("width"===r?i:i-a*n-s*n)))},zoomIn:function(){var t=z.current,e=t.pos,n=t.openEffect,i="elastic"===n,r=I.extend({opacity:1},e);delete r.position,i?(e=this.getOrigPosition(),t.openOpacity&&(e.opacity=.1)):"fade"===n&&(e.opacity=.1),z.wrap.css(e).animate(r,{duration:"none"===n?0:t.openSpeed,easing:t.openEasing,step:i?this.step:null,complete:z._afterZoomIn})},zoomOut:function(){var t=z.current,e=t.closeEffect,n="elastic"===e,i={opacity:.1};n&&(i=this.getOrigPosition(),t.closeOpacity&&(i.opacity=.1)),z.wrap.animate(i,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:n?this.step:null,complete:z._afterZoomOut})},changeIn:function(){var t,e=z.current,n=e.nextEffect,i=e.pos,r={opacity:1},o=z.direction;i.opacity=.1,"elastic"===n&&(r[t="down"===o||"up"===o?"top":"left"]="down"===o||"right"===o?(i[t]=H(L(i[t])-200),"+=200px"):(i[t]=H(L(i[t])+200),"-=200px")),"none"===n?z._afterZoomIn():z.wrap.css(i).animate(r,{duration:e.nextSpeed,easing:e.nextEasing,complete:z._afterZoomIn})},changeOut:function(){var t=z.previous,e=t.prevEffect,n={opacity:.1},i=z.direction;"elastic"===e&&(n["down"===i||"up"===i?"top":"left"]=("up"===i||"left"===i?"-":"+")+"=200px"),t.wrap.animate(n,{duration:"none"===e?0:t.prevSpeed,easing:t.prevEasing,complete:function(){I(this).trigger("onReset").remove()}})}},z.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!u,fixed:!0},overlay:null,fixed:!1,el:I("html"),create:function(t){t=I.extend({},this.defaults,t),this.overlay&&this.close(),this.overlay=I('<div class="fancybox-overlay"></div>').appendTo(z.coming?z.coming.parent:t.parent),this.fixed=!1,t.fixed&&z.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(t){var e=this;t=I.extend({},this.defaults,t),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(t),this.fixed||(a.bind("resize.overlay",I.proxy(this.update,this)),this.update()),t.closeClick&&this.overlay.bind("click.overlay",function(t){return I(t.target).hasClass("fancybox-overlay")?(z.isActive?z.close():e.close(),!1):void 0}),this.overlay.css(t.css).show()},close:function(){var t,e;a.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(I(".fancybox-margin").removeClass("fancybox-margin"),t=a.scrollTop(),e=a.scrollLeft(),this.el.removeClass("fancybox-lock"),a.scrollTop(t).scrollLeft(e)),I(".fancybox-overlay").remove().hide(),I.extend(this,{overlay:null,fixed:!1})},update:function(){var t,e="100%";this.overlay.width(e).height("100%"),s?(t=Math.max(n.documentElement.offsetWidth,n.body.offsetWidth),c.width()>t&&(e=c.width())):c.width()>a.width()&&(e=c.width()),this.overlay.width(e).height(c.height())},onReady:function(t,e){var n=this.overlay;I(".fancybox-overlay").stop(!0,!0),n||this.create(t),t.locked&&this.fixed&&e.fixed&&(n||(this.margin=c.height()>a.height()&&I("html").css("margin-right").replace("px","")),e.locked=this.overlay.append(e.wrap),e.fixed=!1),!0===t.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(t,e){var n,i;e.locked&&(!1!==this.margin&&(I("*").filter(function(){return"fixed"===I(this).css("position")&&!I(this).hasClass("fancybox-overlay")&&!I(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),n=a.scrollTop(),i=a.scrollLeft(),this.el.addClass("fancybox-lock"),a.scrollTop(n).scrollLeft(i)),this.open(t)},onUpdate:function(){this.fixed||this.update()},afterClose:function(t){this.overlay&&!z.coming&&this.overlay.fadeOut(t.speedOut,I.proxy(this.close,this))}},z.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var e,n,i=z.current,r=i.title,o=t.type;if(I.isFunction(r)&&(r=r.call(i.element,i)),f(r)&&""!==I.trim(r)){switch(e=I('<div class="fancybox-title fancybox-title-'+o+'-wrap">'+r+"</div>"),o){case"inside":n=z.skin;break;case"outside":n=z.wrap;break;case"over":n=z.inner;break;default:n=z.skin,e.appendTo("body"),s&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),z.current.margin[2]+=Math.abs(L(e.css("margin-bottom")))}e["top"===t.position?"prependTo":"appendTo"](n)}}},I.fn.fancybox=function(o){var a,s=I(this),l=this.selector||"",t=function(t){var e,n,i=I(this).blur(),r=a;t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||i.is(".fancybox-wrap")||(e=o.groupAttr||"data-fancybox-group",(n=i.attr(e))||(e="rel",n=i.get(0)[e]),n&&""!==n&&"nofollow"!==n&&(r=(i=(i=l.length?I(l):s).filter("["+e+'="'+n+'"]')).index(this)),o.index=r,!1!==z.open(i,o)&&t.preventDefault())};return a=(o=o||{}).index||0,l&&!1!==o.live?c.undelegate(l,"click.fb-start").delegate(l+":not('.fancybox-item, .fancybox-nav')","click.fb-start",t):s.unbind("click.fb-start").bind("click.fb-start",t),this.filter("[data-fancybox-start=1]").trigger("click"),this},c.ready(function(){var t,e,n,i;I.scrollbarWidth===p&&(I.scrollbarWidth=function(){var t=I('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),e=t.children(),n=e.innerWidth()-e.height(99).innerWidth();return t.remove(),n}),I.support.fixedPosition===p&&(I.support.fixedPosition=(n=I('<div style="position:fixed;top:20px;"></div>').appendTo("body"),i=20===n[0].offsetTop||15===n[0].offsetTop,n.remove(),i)),I.extend(z.defaults,{scrollbarWidth:I.scrollbarWidth(),fixed:I.support.fixedPosition,parent:I("body")}),t=I(r).width(),o.addClass("fancybox-lock-test"),e=I(r).width(),o.removeClass("fancybox-lock-test"),I("<style type='text/css'>.fancybox-margin{margin-right:"+(e-t)+"px;}</style>").appendTo("head")})}(window,document,jQuery),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(c){"use strict";var r,o=window.Slick||{};r=0,(o=function(t,e){var n,i=this;i.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:c(t),appendDots:c(t),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,e){return c('<button type="button" data-role="none" role="button" tabindex="0" />').text(e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},i.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},c.extend(i,i.initials),i.activeBreakpoint=null,i.animType=null,i.animProp=null,i.breakpoints=[],i.breakpointSettings=[],i.cssTransitions=!1,i.focussed=!1,i.interrupted=!1,i.hidden="hidden",i.paused=!0,i.positionProp=null,i.respondTo=null,i.rowCount=1,i.shouldClick=!0,i.$slider=c(t),i.$slidesCache=null,i.transformType=null,i.transitionType=null,i.visibilityChange="visibilitychange",i.windowWidth=0,i.windowTimer=null,n=c(t).data("slick")||{},i.options=c.extend({},i.defaults,e,n),i.currentSlide=i.options.initialSlide,i.originalSettings=i.options,void 0!==document.mozHidden?(i.hidden="mozHidden",i.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(i.hidden="webkitHidden",i.visibilityChange="webkitvisibilitychange"),i.autoPlay=c.proxy(i.autoPlay,i),i.autoPlayClear=c.proxy(i.autoPlayClear,i),i.autoPlayIterator=c.proxy(i.autoPlayIterator,i),i.changeSlide=c.proxy(i.changeSlide,i),i.clickHandler=c.proxy(i.clickHandler,i),i.selectHandler=c.proxy(i.selectHandler,i),i.setPosition=c.proxy(i.setPosition,i),i.swipeHandler=c.proxy(i.swipeHandler,i),i.dragHandler=c.proxy(i.dragHandler,i),i.keyHandler=c.proxy(i.keyHandler,i),i.instanceUid=r++,i.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,i.registerBreakpoints(),i.init(!0)}).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},o.prototype.addSlide=o.prototype.slickAdd=function(t,e,n){var i=this;if("boolean"==typeof e)n=e,e=null;else if(e<0||e>=i.slideCount)return!1;i.unload(),"number"==typeof e?0===e&&0===i.$slides.length?c(t).appendTo(i.$slideTrack):n?c(t).insertBefore(i.$slides.eq(e)):c(t).insertAfter(i.$slides.eq(e)):!0===n?c(t).prependTo(i.$slideTrack):c(t).appendTo(i.$slideTrack),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slides.each(function(t,e){c(e).attr("data-slick-index",t)}),i.$slidesCache=i.$slides,i.reinit()},o.prototype.animateHeight=function(){if(1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical){var t=this.$slides.eq(this.currentSlide).outerHeight(!0);this.$list.animate({height:t},this.options.speed)}},o.prototype.animateSlide=function(t,e){var n={},i=this;i.animateHeight(),!0===i.options.rtl&&!1===i.options.vertical&&(t=-t),!1===i.transformsEnabled?!1===i.options.vertical?i.$slideTrack.animate({left:t},i.options.speed,i.options.easing,e):i.$slideTrack.animate({top:t},i.options.speed,i.options.easing,e):!1===i.cssTransitions?(!0===i.options.rtl&&(i.currentLeft=-i.currentLeft),c({animStart:i.currentLeft}).animate({animStart:t},{duration:i.options.speed,easing:i.options.easing,step:function(t){t=Math.ceil(t),!1===i.options.vertical?n[i.animType]="translate("+t+"px, 0px)":n[i.animType]="translate(0px,"+t+"px)",i.$slideTrack.css(n)},complete:function(){e&&e.call()}})):(i.applyTransition(),t=Math.ceil(t),!1===i.options.vertical?n[i.animType]="translate3d("+t+"px, 0px, 0px)":n[i.animType]="translate3d(0px,"+t+"px, 0px)",i.$slideTrack.css(n),e&&setTimeout(function(){i.disableTransition(),e.call()},i.options.speed))},o.prototype.getNavTarget=function(){var t=this.options.asNavFor;return t&&null!==t&&(t=c(t).not(this.$slider)),t},o.prototype.asNavFor=function(e){var t=this.getNavTarget();null!==t&&"object"==typeof t&&t.each(function(){var t=c(this).slick("getSlick");t.unslicked||t.slideHandler(e,!0)})},o.prototype.applyTransition=function(t){var e=this,n={};!1===e.options.fade?n[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:n[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(n):e.$slides.eq(t).css(n)},o.prototype.autoPlay=function(){this.autoPlayClear(),this.slideCount>this.options.slidesToShow&&(this.autoPlayTimer=setInterval(this.autoPlayIterator,this.options.autoplaySpeed))},o.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},o.prototype.autoPlayIterator=function(){var t=this,e=t.currentSlide+t.options.slidesToScroll;t.paused||t.interrupted||t.focussed||(!1===t.options.infinite&&(1===t.direction&&t.currentSlide+1===t.slideCount-1?t.direction=0:0===t.direction&&(e=t.currentSlide-t.options.slidesToScroll,t.currentSlide-1==0&&(t.direction=1))),t.slideHandler(e))},o.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&(t.$prevArrow=c(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=c(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},o.prototype.buildDots=function(){var t,e,n=this;if(!0===n.options.dots&&n.slideCount>n.options.slidesToShow){for(n.$slider.addClass("slick-dotted"),e=c("<ul />").addClass(n.options.dotsClass),t=0;t<=n.getDotCount();t+=1)e.append(c("<li />").append(n.options.customPaging.call(this,n,t)));n.$dots=e.appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},o.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,e){c(e).attr("data-slick-index",t).data("originalStyling",c(e).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?c('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),(!0===t.options.centerMode||!0===t.options.swipeToSlide)&&(t.options.slidesToScroll=1),c("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),!0===t.options.draggable&&t.$list.addClass("draggable")},o.prototype.buildRows=function(){var t,e,n,i,r,o,a,s=this;if(i=document.createDocumentFragment(),o=s.$slider.children(),1<s.options.rows){for(a=s.options.slidesPerRow*s.options.rows,r=Math.ceil(o.length/a),t=0;t<r;t++){var l=document.createElement("div");for(e=0;e<s.options.rows;e++){var c=document.createElement("div");for(n=0;n<s.options.slidesPerRow;n++){var u=t*a+(e*s.options.slidesPerRow+n);o.get(u)&&c.appendChild(o.get(u))}l.appendChild(c)}i.appendChild(l)}s.$slider.empty().append(i),s.$slider.children().children().children().css({width:100/s.options.slidesPerRow+"%",display:"inline-block"})}},o.prototype.checkResponsive=function(t,e){var n,i,r,o=this,a=!1,s=o.$slider.width(),l=window.innerWidth||c(window).width();if("window"===o.respondTo?r=l:"slider"===o.respondTo?r=s:"min"===o.respondTo&&(r=Math.min(l,s)),o.options.responsive&&o.options.responsive.length&&null!==o.options.responsive){for(n in i=null,o.breakpoints)o.breakpoints.hasOwnProperty(n)&&(!1===o.originalSettings.mobileFirst?r<o.breakpoints[n]&&(i=o.breakpoints[n]):r>o.breakpoints[n]&&(i=o.breakpoints[n]));null!==i?null!==o.activeBreakpoint?(i!==o.activeBreakpoint||e)&&(o.activeBreakpoint=i,"unslick"===o.breakpointSettings[i]?o.unslick(i):(o.options=c.extend({},o.originalSettings,o.breakpointSettings[i]),!0===t&&(o.currentSlide=o.options.initialSlide),o.refresh(t)),a=i):(o.activeBreakpoint=i,"unslick"===o.breakpointSettings[i]?o.unslick(i):(o.options=c.extend({},o.originalSettings,o.breakpointSettings[i]),!0===t&&(o.currentSlide=o.options.initialSlide),o.refresh(t)),a=i):null!==o.activeBreakpoint&&(o.activeBreakpoint=null,o.options=o.originalSettings,!0===t&&(o.currentSlide=o.options.initialSlide),o.refresh(t),a=i),t||!1===a||o.$slider.trigger("breakpoint",[o,a])}},o.prototype.changeSlide=function(t,e){var n,i,r=this,o=c(t.currentTarget);switch(o.is("a")&&t.preventDefault(),o.is("li")||(o=o.closest("li")),n=r.slideCount%r.options.slidesToScroll!=0?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,t.data.message){case"previous":i=0===n?r.options.slidesToScroll:r.options.slidesToShow-n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-i,!1,e);break;case"next":i=0===n?r.options.slidesToScroll:n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+i,!1,e);break;case"index":var a=0===t.data.index?0:t.data.index||o.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(a),!1,e),o.children().trigger("focus");break;default:return}},o.prototype.checkNavigable=function(t){var e,n;if(n=0,t>(e=this.getNavigableIndexes())[e.length-1])t=e[e.length-1];else for(var i in e){if(t<e[i]){t=n;break}n=e[i]}return t},o.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&c("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",c.proxy(t.interrupt,t,!0)).off("mouseleave.slick",c.proxy(t.interrupt,t,!1)),t.$slider.off("focus.slick blur.slick"),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide)),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),c(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),!0===t.options.accessibility&&t.$list.off("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&c(t.$slideTrack).children().off("click.slick",t.selectHandler),c(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),c(window).off("resize.slick.slick-"+t.instanceUid,t.resize),c("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),c(window).off("load.slick.slick-"+t.instanceUid,t.setPosition),c(document).off("ready.slick.slick-"+t.instanceUid,t.setPosition)},o.prototype.cleanUpSlideEvents=function(){this.$list.off("mouseenter.slick",c.proxy(this.interrupt,this,!0)),this.$list.off("mouseleave.slick",c.proxy(this.interrupt,this,!1))},o.prototype.cleanUpRows=function(){var t;1<this.options.rows&&((t=this.$slides.children().children()).removeAttr("style"),this.$slider.empty().append(t))},o.prototype.clickHandler=function(t){!1===this.shouldClick&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},o.prototype.destroy=function(t){var e=this;e.autoPlayClear(),e.touchObject={},e.cleanUpEvents(),c(".slick-cloned",e.$slider).detach(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.$prevArrow.length&&(e.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove()),e.$nextArrow&&e.$nextArrow.length&&(e.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove()),e.$slides&&(e.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){c(this).attr("style",c(this).data("originalStyling"))}),e.$slideTrack.children(this.options.slide).detach(),e.$slideTrack.detach(),e.$list.detach(),e.$slider.append(e.$slides)),e.cleanUpRows(),e.$slider.removeClass("slick-slider"),e.$slider.removeClass("slick-initialized"),e.$slider.removeClass("slick-dotted"),e.unslicked=!0,t||e.$slider.trigger("destroy",[e])},o.prototype.disableTransition=function(t){var e={};e[this.transitionType]="",!1===this.options.fade?this.$slideTrack.css(e):this.$slides.eq(t).css(e)},o.prototype.fadeSlide=function(t,e){var n=this;!1===n.cssTransitions?(n.$slides.eq(t).css({zIndex:n.options.zIndex}),n.$slides.eq(t).animate({opacity:1},n.options.speed,n.options.easing,e)):(n.applyTransition(t),n.$slides.eq(t).css({opacity:1,zIndex:n.options.zIndex}),e&&setTimeout(function(){n.disableTransition(t),e.call()},n.options.speed))},o.prototype.fadeSlideOut=function(t){!1===this.cssTransitions?this.$slides.eq(t).animate({opacity:0,zIndex:this.options.zIndex-2},this.options.speed,this.options.easing):(this.applyTransition(t),this.$slides.eq(t).css({opacity:0,zIndex:this.options.zIndex-2}))},o.prototype.filterSlides=o.prototype.slickFilter=function(t){null!==t&&(this.$slidesCache=this.$slides,this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.filter(t).appendTo(this.$slideTrack),this.reinit())},o.prototype.focusHandler=function(){var n=this;n.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*:not(.slick-arrow)",function(t){t.stopImmediatePropagation();var e=c(this);setTimeout(function(){n.options.pauseOnFocus&&(n.focussed=e.is(":focus"),n.autoPlay())},0)})},o.prototype.getCurrent=o.prototype.slickCurrentSlide=function(){return this.currentSlide},o.prototype.getDotCount=function(){var t=this,e=0,n=0,i=0;if(!0===t.options.infinite)for(;e<t.slideCount;)++i,e=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(!0===t.options.centerMode)i=t.slideCount;else if(t.options.asNavFor)for(;e<t.slideCount;)++i,e=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else i=1+Math.ceil((t.slideCount-t.options.slidesToShow)/t.options.slidesToScroll);return i-1},o.prototype.getLeft=function(t){var e,n,i,r=this,o=0;return r.slideOffset=0,n=r.$slides.first().outerHeight(!0),!0===r.options.infinite?(r.slideCount>r.options.slidesToShow&&(r.slideOffset=r.slideWidth*r.options.slidesToShow*-1,o=n*r.options.slidesToShow*-1),r.slideCount%r.options.slidesToScroll!=0&&t+r.options.slidesToScroll>r.slideCount&&r.slideCount>r.options.slidesToShow&&(o=t>r.slideCount?(r.slideOffset=(r.options.slidesToShow-(t-r.slideCount))*r.slideWidth*-1,(r.options.slidesToShow-(t-r.slideCount))*n*-1):(r.slideOffset=r.slideCount%r.options.slidesToScroll*r.slideWidth*-1,r.slideCount%r.options.slidesToScroll*n*-1))):t+r.options.slidesToShow>r.slideCount&&(r.slideOffset=(t+r.options.slidesToShow-r.slideCount)*r.slideWidth,o=(t+r.options.slidesToShow-r.slideCount)*n),r.slideCount<=r.options.slidesToShow&&(o=r.slideOffset=0),!0===r.options.centerMode&&!0===r.options.infinite?r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)-r.slideWidth:!0===r.options.centerMode&&(r.slideOffset=0,r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)),e=!1===r.options.vertical?t*r.slideWidth*-1+r.slideOffset:t*n*-1+o,!0===r.options.variableWidth&&(i=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(t):r.$slideTrack.children(".slick-slide").eq(t+r.options.slidesToShow),e=!0===r.options.rtl?i[0]?-1*(r.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,!0===r.options.centerMode&&(i=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(t):r.$slideTrack.children(".slick-slide").eq(t+r.options.slidesToShow+1),e=!0===r.options.rtl?i[0]?-1*(r.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,e+=(r.$list.width()-i.outerWidth())/2)),e},o.prototype.getOption=o.prototype.slickGetOption=function(t){return this.options[t]},o.prototype.getNavigableIndexes=function(){var t,e=this,n=0,i=0,r=[];for(t=!1===e.options.infinite?e.slideCount:(n=-1*e.options.slidesToScroll,i=-1*e.options.slidesToScroll,2*e.slideCount);n<t;)r.push(n),n=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return r},o.prototype.getSlick=function(){return this},o.prototype.getSlideCount=function(){var n,i,r=this;return i=!0===r.options.centerMode?r.slideWidth*Math.floor(r.options.slidesToShow/2):0,!0===r.options.swipeToSlide?(r.$slideTrack.find(".slick-slide").each(function(t,e){return e.offsetLeft-i+c(e).outerWidth()/2>-1*r.swipeLeft?(n=e,!1):void 0}),Math.abs(c(n).attr("data-slick-index")-r.currentSlide)||1):r.options.slidesToScroll},o.prototype.goTo=o.prototype.slickGoTo=function(t,e){this.changeSlide({data:{message:"index",index:parseInt(t)}},e)},o.prototype.init=function(t){var e=this;c(e.$slider).hasClass("slick-initialized")||(c(e.$slider).addClass("slick-initialized"),e.buildRows(),e.buildOut(),e.setProps(),e.startLoad(),e.loadSlider(),e.initializeEvents(),e.updateArrows(),e.updateDots(),e.checkResponsive(!0),e.focusHandler()),t&&e.$slider.trigger("init",[e]),!0===e.options.accessibility&&e.initADA(),e.options.autoplay&&(e.paused=!1,e.autoPlay())},o.prototype.initADA=function(){var e=this;e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),e.$slideTrack.attr("role","listbox"),e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(t){c(this).attr({role:"option","aria-describedby":"slick-slide"+e.instanceUid+t})}),null!==e.$dots&&e.$dots.attr("role","tablist").find("li").each(function(t){c(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+e.instanceUid+t,id:"slick-slide"+e.instanceUid+t})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),e.activateADA()},o.prototype.initArrowEvents=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},this.changeSlide),this.$nextArrow.off("click.slick").on("click.slick",{message:"next"},this.changeSlide))},o.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&c("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&c("li",t.$dots).on("mouseenter.slick",c.proxy(t.interrupt,t,!0)).on("mouseleave.slick",c.proxy(t.interrupt,t,!1))},o.prototype.initSlideEvents=function(){this.options.pauseOnHover&&(this.$list.on("mouseenter.slick",c.proxy(this.interrupt,this,!0)),this.$list.on("mouseleave.slick",c.proxy(this.interrupt,this,!1)))},o.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),c(document).on(t.visibilityChange,c.proxy(t.visibility,t)),!0===t.options.accessibility&&t.$list.on("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&c(t.$slideTrack).children().on("click.slick",t.selectHandler),c(window).on("orientationchange.slick.slick-"+t.instanceUid,c.proxy(t.orientationChange,t)),c(window).on("resize.slick.slick-"+t.instanceUid,c.proxy(t.resize,t)),c("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),c(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),c(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},o.prototype.initUI=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.show(),this.$nextArrow.show()),!0===this.options.dots&&this.slideCount>this.options.slidesToShow&&this.$dots.show()},o.prototype.keyHandler=function(t){t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&!0===this.options.accessibility?this.changeSlide({data:{message:!0===this.options.rtl?"next":"previous"}}):39===t.keyCode&&!0===this.options.accessibility&&this.changeSlide({data:{message:!0===this.options.rtl?"previous":"next"}}))},o.prototype.lazyLoad=function(){function t(t){c("img[data-lazy]",t).each(function(){var t=c(this),e=c(this).attr("data-lazy"),n=document.createElement("img");n.onload=function(){t.animate({opacity:0},100,function(){t.attr("src",e).animate({opacity:1},200,function(){t.removeAttr("data-lazy").removeClass("slick-loading")}),i.$slider.trigger("lazyLoaded",[i,t,e])})},n.onerror=function(){t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),i.$slider.trigger("lazyLoadError",[i,t,e])},n.src=e})}var e,n,i=this;!0===i.options.centerMode?n=!0===i.options.infinite?(e=i.currentSlide+(i.options.slidesToShow/2+1))+i.options.slidesToShow+2:(e=Math.max(0,i.currentSlide-(i.options.slidesToShow/2+1)),i.options.slidesToShow/2+1+2+i.currentSlide):(e=i.options.infinite?i.options.slidesToShow+i.currentSlide:i.currentSlide,n=Math.ceil(e+i.options.slidesToShow),!0===i.options.fade&&(0<e&&e--,n<=i.slideCount&&n++)),t(i.$slider.find(".slick-slide").slice(e,n)),i.slideCount<=i.options.slidesToShow?t(i.$slider.find(".slick-slide")):i.currentSlide>=i.slideCount-i.options.slidesToShow?t(i.$slider.find(".slick-cloned").slice(0,i.options.slidesToShow)):0===i.currentSlide&&t(i.$slider.find(".slick-cloned").slice(-1*i.options.slidesToShow))},o.prototype.loadSlider=function(){this.setPosition(),this.$slideTrack.css({opacity:1}),this.$slider.removeClass("slick-loading"),this.initUI(),"progressive"===this.options.lazyLoad&&this.progressiveLazyLoad()},o.prototype.next=o.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},o.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},o.prototype.pause=o.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},o.prototype.play=o.prototype.slickPlay=function(){this.autoPlay(),this.options.autoplay=!0,this.paused=!1,this.focussed=!1,this.interrupted=!1},o.prototype.postSlide=function(t){var e=this;e.unslicked||(e.$slider.trigger("afterChange",[e,t]),e.animating=!1,e.setPosition(),e.swipeLeft=null,e.options.autoplay&&e.autoPlay(),!0===e.options.accessibility&&e.initADA())},o.prototype.prev=o.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},o.prototype.preventDefault=function(t){t.preventDefault()},o.prototype.progressiveLazyLoad=function(t){t=t||1;var e,n,i,r=this,o=c("img[data-lazy]",r.$slider);o.length?(e=o.first(),n=e.attr("data-lazy"),(i=document.createElement("img")).onload=function(){e.attr("src",n).removeAttr("data-lazy").removeClass("slick-loading"),!0===r.options.adaptiveHeight&&r.setPosition(),r.$slider.trigger("lazyLoaded",[r,e,n]),r.progressiveLazyLoad()},i.onerror=function(){t<3?setTimeout(function(){r.progressiveLazyLoad(t+1)},500):(e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,e,n]),r.progressiveLazyLoad())},i.src=n):r.$slider.trigger("allImagesLoaded",[r])},o.prototype.refresh=function(t){var e,n,i=this;n=i.slideCount-i.options.slidesToShow,!i.options.infinite&&i.currentSlide>n&&(i.currentSlide=n),i.slideCount<=i.options.slidesToShow&&(i.currentSlide=0),e=i.currentSlide,i.destroy(!0),c.extend(i,i.initials,{currentSlide:e}),i.init(),t||i.changeSlide({data:{message:"index",index:e}},!1)},o.prototype.registerBreakpoints=function(){var t,e,n,i=this,r=i.options.responsive||null;if("array"===c.type(r)&&r.length){for(t in i.respondTo=i.options.respondTo||"window",r)if(n=i.breakpoints.length-1,e=r[t].breakpoint,r.hasOwnProperty(t)){for(;0<=n;)i.breakpoints[n]&&i.breakpoints[n]===e&&i.breakpoints.splice(n,1),n--;i.breakpoints.push(e),i.breakpointSettings[e]=r[t].settings}i.breakpoints.sort(function(t,e){return i.options.mobileFirst?t-e:e-t})}},o.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),!0===t.options.focusOnSelect&&c(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},o.prototype.resize=function(){var t=this;c(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=c(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},o.prototype.removeSlide=o.prototype.slickRemove=function(t,e,n){var i=this;return t="boolean"==typeof t?!0===(e=t)?0:i.slideCount-1:!0===e?--t:t,!(i.slideCount<1||t<0||t>i.slideCount-1)&&(i.unload(),!0===n?i.$slideTrack.children().remove():i.$slideTrack.children(this.options.slide).eq(t).remove(),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slidesCache=i.$slides,void i.reinit())},o.prototype.setCSS=function(t){var e,n,i=this,r={};!0===i.options.rtl&&(t=-t),e="left"==i.positionProp?Math.ceil(t)+"px":"0px",n="top"==i.positionProp?Math.ceil(t)+"px":"0px",r[i.positionProp]=t,!1===i.transformsEnabled||(!(r={})===i.cssTransitions?r[i.animType]="translate("+e+", "+n+")":r[i.animType]="translate3d("+e+", "+n+", 0px)"),i.$slideTrack.css(r)},o.prototype.setDimensions=function(){var t=this;!1===t.options.vertical?!0===t.options.centerMode&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),!0===t.options.centerMode&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),!1===t.options.vertical&&!1===t.options.variableWidth?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):!0===t.options.variableWidth?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();!1===t.options.variableWidth&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},o.prototype.setFade=function(){var n,i=this;i.$slides.each(function(t,e){n=i.slideWidth*t*-1,!0===i.options.rtl?c(e).css({position:"relative",right:n,top:0,zIndex:i.options.zIndex-2,opacity:0}):c(e).css({position:"relative",left:n,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},o.prototype.setHeight=function(){if(1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical){var t=this.$slides.eq(this.currentSlide).outerHeight(!0);this.$list.css("height",t)}},o.prototype.setOption=o.prototype.slickSetOption=function(){var t,e,n,i,r,o=this,a=!1;if("object"===c.type(arguments[0])?(n=arguments[0],a=arguments[1],r="multiple"):"string"===c.type(arguments[0])&&(n=arguments[0],i=arguments[1],a=arguments[2],"responsive"===arguments[0]&&"array"===c.type(arguments[1])?r="responsive":void 0!==arguments[1]&&(r="single")),"single"===r)o.options[n]=i;else if("multiple"===r)c.each(n,function(t,e){o.options[t]=e});else if("responsive"===r)for(e in i)if("array"!==c.type(o.options.responsive))o.options.responsive=[i[e]];else{for(t=o.options.responsive.length-1;0<=t;)o.options.responsive[t].breakpoint===i[e].breakpoint&&o.options.responsive.splice(t,1),t--;o.options.responsive.push(i[e])}a&&(o.unload(),o.reinit())},o.prototype.setPosition=function(){this.setDimensions(),this.setHeight(),!1===this.options.fade?this.setCSS(this.getLeft(this.currentSlide)):this.setFade(),this.$slider.trigger("setPosition",[this])},o.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=!0===t.options.vertical?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),(void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.msTransition)&&!0===t.options.useCSS&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&!1!==t.animType&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=t.options.useTransform&&null!==t.animType&&!1!==t.animType},o.prototype.setSlideClasses=function(t){var e,n,i,r,o=this;n=o.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),o.$slides.eq(t).addClass("slick-current"),!0===o.options.centerMode?(e=Math.floor(o.options.slidesToShow/2),!0===o.options.infinite&&(e<=t&&t<=o.slideCount-1-e?o.$slides.slice(t-e,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(i=o.options.slidesToShow+t,n.slice(i-e+1,i+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?n.eq(n.length-1-o.options.slidesToShow).addClass("slick-center"):t===o.slideCount-1&&n.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(t).addClass("slick-center")):0<=t&&t<=o.slideCount-o.options.slidesToShow?o.$slides.slice(t,t+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):n.length<=o.options.slidesToShow?n.addClass("slick-active").attr("aria-hidden","false"):(r=o.slideCount%o.options.slidesToShow,i=!0===o.options.infinite?o.options.slidesToShow+t:t,o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-t<o.options.slidesToShow?n.slice(i-(o.options.slidesToShow-r),i+r).addClass("slick-active").attr("aria-hidden","false"):n.slice(i,i+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===o.options.lazyLoad&&o.lazyLoad()},o.prototype.setupInfinite=function(){var t,e,n,i=this;if(!0===i.options.fade&&(i.options.centerMode=!1),!0===i.options.infinite&&!1===i.options.fade&&(e=null,i.slideCount>i.options.slidesToShow)){for(n=!0===i.options.centerMode?i.options.slidesToShow+1:i.options.slidesToShow,t=i.slideCount;t>i.slideCount-n;t-=1)e=t-1,c(i.$slides[e]).clone(!0).attr("id","").attr("data-slick-index",e-i.slideCount).prependTo(i.$slideTrack).addClass("slick-cloned");for(t=0;t<n;t+=1)e=t,c(i.$slides[e]).clone(!0).attr("id","").attr("data-slick-index",e+i.slideCount).appendTo(i.$slideTrack).addClass("slick-cloned");i.$slideTrack.find(".slick-cloned").find("[id]").each(function(){c(this).attr("id","")})}},o.prototype.interrupt=function(t){t||this.autoPlay(),this.interrupted=t},o.prototype.selectHandler=function(t){var e=c(t.target).is(".slick-slide")?c(t.target):c(t.target).parents(".slick-slide"),n=parseInt(e.attr("data-slick-index"));return n||(n=0),this.slideCount<=this.options.slidesToShow?(this.setSlideClasses(n),void this.asNavFor(n)):void this.slideHandler(n)},o.prototype.slideHandler=function(t,e,n){var i,r,o,a,s,l=null,c=this;return e=e||!1,!0===c.animating&&!0===c.options.waitForAnimate||!0===c.options.fade&&c.currentSlide===t||c.slideCount<=c.options.slidesToShow?void 0:(!1===e&&c.asNavFor(t),i=t,l=c.getLeft(i),a=c.getLeft(c.currentSlide),c.currentLeft=null===c.swipeLeft?a:c.swipeLeft,!1===c.options.infinite&&!1===c.options.centerMode&&(t<0||t>c.getDotCount()*c.options.slidesToScroll)?void(!1===c.options.fade&&(i=c.currentSlide,!0!==n?c.animateSlide(a,function(){c.postSlide(i)}):c.postSlide(i))):!1===c.options.infinite&&!0===c.options.centerMode&&(t<0||t>c.slideCount-c.options.slidesToScroll)?void(!1===c.options.fade&&(i=c.currentSlide,!0!==n?c.animateSlide(a,function(){c.postSlide(i)}):c.postSlide(i))):(c.options.autoplay&&clearInterval(c.autoPlayTimer),r=i<0?c.slideCount%c.options.slidesToScroll!=0?c.slideCount-c.slideCount%c.options.slidesToScroll:c.slideCount+i:i>=c.slideCount?c.slideCount%c.options.slidesToScroll!=0?0:i-c.slideCount:i,c.animating=!0,c.$slider.trigger("beforeChange",[c,c.currentSlide,r]),o=c.currentSlide,c.currentSlide=r,c.setSlideClasses(c.currentSlide),c.options.asNavFor&&((s=(s=c.getNavTarget()).slick("getSlick")).slideCount<=s.options.slidesToShow&&s.setSlideClasses(c.currentSlide)),c.updateDots(),c.updateArrows(),!0===c.options.fade?(!0!==n?(c.fadeSlideOut(o),c.fadeSlide(r,function(){c.postSlide(r)})):c.postSlide(r),void c.animateHeight()):void(!0!==n?c.animateSlide(l,function(){c.postSlide(r)}):c.postSlide(r))))},o.prototype.startLoad=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},o.prototype.swipeDirection=function(){var t,e,n,i;return t=this.touchObject.startX-this.touchObject.curX,e=this.touchObject.startY-this.touchObject.curY,n=Math.atan2(e,t),(i=Math.round(180*n/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&0<=i?!1===this.options.rtl?"left":"right":i<=360&&315<=i?!1===this.options.rtl?"left":"right":135<=i&&i<=225?!1===this.options.rtl?"right":"left":!0===this.options.verticalSwiping?35<=i&&i<=135?"down":"up":"vertical"},o.prototype.swipeEnd=function(t){var e,n,i=this;if(i.dragging=!1,i.interrupted=!1,i.shouldClick=!(10<i.touchObject.swipeLength),void 0===i.touchObject.curX)return!1;if(!0===i.touchObject.edgeHit&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe){switch(n=i.swipeDirection()){case"left":case"down":e=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.currentDirection=0;break;case"right":case"up":e=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.currentDirection=1}"vertical"!=n&&(i.slideHandler(e),i.touchObject={},i.$slider.trigger("swipe",[i,n]))}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},o.prototype.swipeHandler=function(t){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},o.prototype.swipeMove=function(t){var e,n,i,r,o,a=this;return o=void 0!==t.originalEvent?t.originalEvent.touches:null,!(!a.dragging||o&&1!==o.length)&&(e=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==o?o[0].pageX:t.clientX,a.touchObject.curY=void 0!==o?o[0].pageY:t.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),!0===a.options.verticalSwiping&&(a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2)))),"vertical"!==(n=a.swipeDirection())?(void 0!==t.originalEvent&&4<a.touchObject.swipeLength&&t.preventDefault(),r=(!1===a.options.rtl?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),!0===a.options.verticalSwiping&&(r=a.touchObject.curY>a.touchObject.startY?1:-1),i=a.touchObject.swipeLength,(a.touchObject.edgeHit=!1)===a.options.infinite&&(0===a.currentSlide&&"right"===n||a.currentSlide>=a.getDotCount()&&"left"===n)&&(i=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),!1===a.options.vertical?a.swipeLeft=e+i*r:a.swipeLeft=e+i*(a.$list.height()/a.listWidth)*r,!0===a.options.verticalSwiping&&(a.swipeLeft=e+i*r),!0!==a.options.fade&&!1!==a.options.touchMove&&(!0===a.animating?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft))):void 0)},o.prototype.swipeStart=function(t){var e,n=this;return n.interrupted=!0,1!==n.touchObject.fingerCount||n.slideCount<=n.options.slidesToShow?!(n.touchObject={}):(void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),n.touchObject.startX=n.touchObject.curX=void 0!==e?e.pageX:t.clientX,n.touchObject.startY=n.touchObject.curY=void 0!==e?e.pageY:t.clientY,void(n.dragging=!0))},o.prototype.unfilterSlides=o.prototype.slickUnfilter=function(){null!==this.$slidesCache&&(this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.appendTo(this.$slideTrack),this.reinit())},o.prototype.unload=function(){var t=this;c(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},o.prototype.unslick=function(t){this.$slider.trigger("unslick",[this,t]),this.destroy()},o.prototype.updateArrows=function(){var t=this;Math.floor(t.options.slidesToShow/2),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&!1===t.options.centerMode?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&!0===t.options.centerMode&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},o.prototype.updateDots=function(){null!==this.$dots&&(this.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),this.$dots.find("li").eq(Math.floor(this.currentSlide/this.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},o.prototype.visibility=function(){this.options.autoplay&&(document[this.hidden]?this.interrupted=!0:this.interrupted=!1)},c.fn.slick=function(){var t,e,n=arguments[0],i=Array.prototype.slice.call(arguments,1),r=this.length;for(t=0;t<r;t++)if("object"==typeof n||void 0===n?this[t].slick=new o(this[t],n):e=this[t].slick[n].apply(this[t].slick,i),void 0!==e)return e;return this}}),angular.module("slickCarousel",[]).constant("slickCarouselConfig",{method:{},event:{}}).directive("slick",["$timeout","slickCarouselConfig",function(c,u){var d;return d=["slickGoTo","slickNext","slickPrev","slickPause","slickPlay","slickAdd","slickRemove","slickFilter","slickUnfilter","unslick"],["afterChange","beforeChange","breakpoint","destroy","edge","init","reInit","setPosition","swipe","lazyLoaded","lazyLoadError"],{scope:{settings:"=",enabled:"@",accessibility:"@",adaptiveHeight:"@",autoplay:"@",autoplaySpeed:"@",arrows:"@",asNavFor:"@",appendArrows:"@",prevArrow:"@",nextArrow:"@",centerMode:"@",centerPadding:"@",cssEase:"@",customPaging:"&",dots:"@",draggable:"@",fade:"@",focusOnSelect:"@",easing:"@",edgeFriction:"@",infinite:"@",initialSlide:"@",lazyLoad:"@",mobileFirst:"@",pauseOnHover:"@",pauseOnDotsHover:"@",respondTo:"@",responsive:"=?",rows:"@",slide:"@",slidesPerRow:"@",slidesToShow:"@",slidesToScroll:"@",speed:"@",swipe:"@",swipeToSlide:"@",touchMove:"@",touchThreshold:"@",useCSS:"@",variableWidth:"@",vertical:"@",verticalSwiping:"@",rtl:"@"},restrict:"AE",link:function(r,i,t){var o,e,a,n,s,l;return angular.element(i).css("display","none"),e=function(){o=angular.extend(angular.copy(u),{enabled:"false"!==r.enabled,accessibility:"false"!==r.accessibility,adaptiveHeight:"true"===r.adaptiveHeight,autoplay:"true"===r.autoplay,autoplaySpeed:null!=r.autoplaySpeed?parseInt(r.autoplaySpeed,10):3e3,arrows:"false"!==r.arrows,asNavFor:r.asNavFor?r.asNavFor:void 0,appendArrows:angular.element(r.appendArrows?r.appendArrows:i),prevArrow:r.prevArrow?angular.element(r.prevArrow):void 0,nextArrow:r.nextArrow?angular.element(r.nextArrow):void 0,centerMode:"true"===r.centerMode,centerPadding:r.centerPadding||"50px",cssEase:r.cssEase||"ease",customPaging:t.customPaging?function(t,e){return r.customPaging({slick:t,index:e})}:void 0,dots:"true"===r.dots,draggable:"false"!==r.draggable,fade:"true"===r.fade,focusOnSelect:"true"===r.focusOnSelect,easing:r.easing||"linear",edgeFriction:r.edgeFriction||.15,infinite:"false"!==r.infinite,initialSlide:parseInt(r.initialSlide)||0,lazyLoad:r.lazyLoad||"ondemand",mobileFirst:"true"===r.mobileFirst,pauseOnHover:"false"!==r.pauseOnHover,pauseOnDotsHover:"true"===r.pauseOnDotsHover,respondTo:null!=r.respondTo?r.respondTo:"window",responsive:r.responsive||void 0,rows:null!=r.rows?parseInt(r.rows,10):1,slide:r.slide||"",slidesPerRow:null!=r.slidesPerRow?parseInt(r.slidesPerRow,10):1,slidesToShow:null!=r.slidesToShow?parseInt(r.slidesToShow,10):1,slidesToScroll:null!=r.slidesToScroll?parseInt(r.slidesToScroll,10):1,speed:null!=r.speed?parseInt(r.speed,10):300,swipe:"false"!==r.swipe,swipeToSlide:"true"===r.swipeToSlide,touchMove:"false"!==r.touchMove,touchThreshold:r.touchThreshold?parseInt(r.touchThreshold,10):5,useCSS:"false"!==r.useCSS,variableWidth:"true"===r.variableWidth,vertical:"true"===r.vertical,verticalSwiping:"true"===r.verticalSwiping,rtl:"true"===r.rtl},r.settings)},a=function(){var t=angular.element(i);return t.hasClass("slick-initialized")&&(t.remove("slick-list"),t.slick("unslick")),t},n=function(){e();var n=angular.element(i);if(angular.element(i).hasClass("slick-initialized")){if(o.enabled)return n.slick("getSlick");a()}else{if(!o.enabled)return;n.on("init",function(t,e){return void 0!==o.event.init&&o.event.init(t,e),void 0!==l?e.slideHandler(l):void 0}),c(function(){angular.element(i).css("display","block"),n.not(".slick-initialized").slick(o)})}r.internalControl=o.method||{},d.forEach(function(e){r.internalControl[e]=function(){var t;(t=Array.prototype.slice.call(arguments)).unshift(e),n.slick.apply(i,t)}}),n.on("afterChange",function(t,e,n){l=n,void 0!==o.event.afterChange&&c(function(){r.$apply(function(){o.event.afterChange(t,e,n)})})}),n.on("beforeChange",function(t,e,n,i){void 0!==o.event.beforeChange&&c(function(){c(function(){r.$apply(function(){o.event.beforeChange(t,e,n,i)})})})}),n.on("reInit",function(t,e){void 0!==o.event.reInit&&c(function(){r.$apply(function(){o.event.reInit(t,e)})})}),void 0!==o.event.breakpoint&&n.on("breakpoint",function(t,e,n){c(function(){r.$apply(function(){o.event.breakpoint(t,e,n)})})}),void 0!==o.event.destroy&&n.on("destroy",function(t,e){c(function(){r.$apply(function(){o.event.destroy(t,e)})})}),void 0!==o.event.edge&&n.on("edge",function(t,e,n){c(function(){r.$apply(function(){o.event.edge(t,e,n)})})}),void 0!==o.event.setPosition&&n.on("setPosition",function(t,e){c(function(){r.$apply(function(){o.event.setPosition(t,e)})})}),void 0!==o.event.swipe&&n.on("swipe",function(t,e,n){c(function(){r.$apply(function(){o.event.swipe(t,e,n)})})}),void 0!==o.event.lazyLoaded&&n.on("lazyLoaded",function(t,e,n,i){c(function(){r.$apply(function(){o.event.lazyLoaded(t,e,n,i)})})}),void 0!==o.event.lazyLoadError&&n.on("lazyLoadError",function(t,e,n,i){c(function(){r.$apply(function(){o.event.lazyLoadError(t,e,n,i)})})})},s=function(){a(),n()},i.one("$destroy",function(){a()}),r.$watch("settings",function(t,e){return null!==t?s():void 0},!0)}}}]),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=e(require("jquery"),window,document):e(jQuery,window,document)}(function(i,o,r){"use strict";var d,p,n,c,u,a,s,e,h,l,f,g,v,m,b,y,x,w;f={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",enabledClass:"has-scrollbar",flashedClass:"flashed",activeClass:"active",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},h="scroll",u="mouseenter",a="mousewheel",e="resize",n="DOMMouseScroll",c="down",d="Microsoft Internet Explorer"===o.navigator.appName&&/msie 7./i.test(o.navigator.appVersion)&&o.ActiveXObject,p=null,b=o.requestAnimationFrame,l=o.cancelAnimationFrame,x=r.createElement("div").style,w=function(){var t,e,n,i;for(t=n=0,i=(e=["t","webkitT","MozT","msT","OT"]).length;n<i;t=++n)if(e[t],e[t]+"ransform"in x)return e[t].substr(0,e[t].length-1);return!1}(),y=function(t){return!1!==w&&(""===w?t:w+t.charAt(0).toUpperCase()+t.substr(1))}("transform"),v=!1!==y,g=function(){var t,e,n;return(e=(t=r.createElement("div")).style).position="absolute",e.width="100px",e.height="100px",e.overflow=h,e.top="-9999px",r.body.appendChild(t),n=t.offsetWidth-t.clientWidth,r.body.removeChild(t),n},m=function(){var t,e,n;return e=o.navigator.userAgent,!!(t=/(?=.+Mac OS X)(?=.+Firefox)/.test(e))&&((n=/Firefox\/\d{2}\./.exec(e))&&(n=n[0].replace(/\D+/g,"")),t&&23<+n)},s=function(){function t(t,e){this.el=t,this.options=e,p||(p=g()),this.$el=i(this.el),this.doc=i(this.options.documentContext||r),this.win=i(this.options.windowContext||o),this.body=this.doc.find("body"),this.$content=this.$el.children("."+this.options.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return t.prototype.preventScrolling=function(t,e){if(this.isActive)if(t.type===n)(e===c&&0<t.originalEvent.detail||"up"===e&&t.originalEvent.detail<0)&&t.preventDefault();else if(t.type===a){if(!t.originalEvent||!t.originalEvent.wheelDelta)return;(e===c&&t.originalEvent.wheelDelta<0||"up"===e&&0<t.originalEvent.wheelDelta)&&t.preventDefault()}},t.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},t.prototype.updateScrollValues=function(){var t,e;t=this.content,this.maxScrollTop=t.scrollHeight-t.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=t.scrollTop,e=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==e&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:e}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},t.prototype.setOnScrollStyles=function(){var t,e;v?(t={})[y]="translate(0, "+this.sliderTop+"px)":t={top:this.sliderTop},b?(l&&this.scrollRAF&&l(this.scrollRAF),this.scrollRAF=b((e=this,function(){return e.scrollRAF=null,e.slider.css(t)}))):this.slider.css(t)},t.prototype.createEvents=function(){var n,i,e,r,o,a,s,l;this.events={down:(l=this,function(t){return l.isBeingDragged=!0,l.offsetY=t.pageY-l.slider.offset().top,l.slider.is(t.target)||(l.offsetY=0),l.pane.addClass(l.options.activeClass),l.doc.bind("mousemove",l.events.drag).bind("mouseup",l.events.up),l.body.bind(u,l.events.enter),!1}),drag:(s=this,function(t){return s.sliderY=t.pageY-s.$el.offset().top-s.paneTop-(s.offsetY||.5*s.sliderHeight),s.scroll(),s.contentScrollTop>=s.maxScrollTop&&s.prevScrollTop!==s.maxScrollTop?s.$el.trigger("scrollend"):0===s.contentScrollTop&&0!==s.prevScrollTop&&s.$el.trigger("scrolltop"),!1}),up:(a=this,function(t){return a.isBeingDragged=!1,a.pane.removeClass(a.options.activeClass),a.doc.unbind("mousemove",a.events.drag).unbind("mouseup",a.events.up),a.body.unbind(u,a.events.enter),!1}),resize:(o=this,function(t){o.reset()}),panedown:(r=this,function(t){return r.sliderY=(t.offsetY||t.originalEvent.layerY)-.5*r.sliderHeight,r.scroll(),r.events.down(t),!1}),scroll:(e=this,function(t){e.updateScrollValues(),e.isBeingDragged||(e.iOSNativeScrolling||(e.sliderY=e.sliderTop,e.setOnScrollStyles()),null!=t&&(e.contentScrollTop>=e.maxScrollTop?(e.options.preventPageScrolling&&e.preventScrolling(t,c),e.prevScrollTop!==e.maxScrollTop&&e.$el.trigger("scrollend")):0===e.contentScrollTop&&(e.options.preventPageScrolling&&e.preventScrolling(t,"up"),0!==e.prevScrollTop&&e.$el.trigger("scrolltop"))))}),wheel:(i=this,function(t){var e;if(null!=t)return(e=t.delta||t.wheelDelta||t.originalEvent&&t.originalEvent.wheelDelta||-t.detail||t.originalEvent&&-t.originalEvent.detail)&&(i.sliderY+=-e/3),i.scroll(),!1}),enter:(n=this,function(t){var e;if(n.isBeingDragged)return 1!==(t.buttons||t.which)?(e=n.events).up.apply(e,arguments):void 0})}},t.prototype.addEvents=function(){var t;this.removeEvents(),t=this.events,this.options.disableResize||this.win.bind(e,t[e]),this.iOSNativeScrolling||(this.slider.bind("mousedown",t.down),this.pane.bind("mousedown",t.panedown).bind(a+" "+n,t.wheel)),this.$content.bind(h+" "+a+" "+n+" touchmove",t[h])},t.prototype.removeEvents=function(){var t;t=this.events,this.win.unbind(e,t[e]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(h+" "+a+" "+n+" touchmove",t[h])},t.prototype.generate=function(){var t,e,n,i,r;return i=(e=this.options).paneClass,r=e.sliderClass,e.contentClass,(n=this.$el.children("."+i)).length||n.children("."+r).length||this.$el.append('<div class="'+i+'"><div class="'+r+'" /></div>'),this.pane=this.$el.children("."+i),this.slider=this.pane.find("."+r),0===p&&m()?t={right:-14,paddingRight:+o.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,"")+14}:p&&(t={right:-p},this.$el.addClass(e.enabledClass)),null!=t&&this.$content.css(t),this},t.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},t.prototype.reset=function(){var t,e,n,i,r,o,a,s,l,c,u;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),r=(i=(t=this.content).style).overflowY,d&&this.$content.css({height:this.$content.height()}),e=t.scrollHeight+p,0<(l=parseInt(this.$el.css("max-height"),10))&&(this.$el.height(""),this.$el.height(t.scrollHeight>l?l:t.scrollHeight)),a=(o=this.pane.outerHeight(!1))+(s=parseInt(this.pane.css("top"),10))+parseInt(this.pane.css("bottom"),10),(u=Math.round(a/e*o))<this.options.sliderMinHeight?u=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&u>this.options.sliderMaxHeight&&(u=this.options.sliderMaxHeight),r===h&&i.overflowX!==h&&(u+=p),this.maxSliderTop=a-u,this.contentHeight=e,this.paneHeight=o,this.paneOuterHeight=a,this.sliderHeight=u,this.paneTop=s,this.slider.height(u),this.events.scroll(),this.pane.show(),this.isActive=!0,t.scrollHeight===t.clientHeight||this.pane.outerHeight(!0)>=t.scrollHeight&&r!==h?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===t.scrollHeight&&r===h?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),("static"===(n=this.$content.css("position"))||"relative"===n)&&((c=parseInt(this.$content.css("right"),10))&&this.$content.css({right:"",marginRight:c})),this)},t.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this):void 0},t.prototype.scrollBottom=function(t){return this.isActive?(this.$content.scrollTop(this.contentHeight-this.$content.height()-t).trigger(a),this.stop().restore(),this):void 0},t.prototype.scrollTop=function(t){return this.isActive?(this.$content.scrollTop(+t).trigger(a),this.stop().restore(),this):void 0},t.prototype.scrollTo=function(t){return this.isActive?(this.scrollTop(this.$el.find(t).get(0).offsetTop),this):void 0},t.prototype.stop=function(){return l&&this.scrollRAF&&(l(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},t.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),d&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass(this.options.enabledClass)&&(this.$el.removeClass(this.options.enabledClass),this.$content.css({right:""})),this},t.prototype.flash=function(){return!this.iOSNativeScrolling&&this.isActive?(this.reset(),this.pane.addClass(this.options.flashedClass),setTimeout((t=this,function(){t.pane.removeClass(t.options.flashedClass)}),this.options.flashDelay),this):void 0;var t},t}(),i.fn.nanoScroller=function(n){return this.each(function(){var t,e;if((e=this.nanoscroller)||(t=i.extend({},f,n),this.nanoscroller=e=new s(this,t)),n&&"object"==typeof n){if(i.extend(e.options,n),null!=n.scrollBottom)return e.scrollBottom(n.scrollBottom);if(null!=n.scrollTop)return e.scrollTop(n.scrollTop);if(n.scrollTo)return e.scrollTo(n.scrollTo);if("bottom"===n.scroll)return e.scrollBottom(0);if("top"===n.scroll)return e.scrollTop(0);if(n.scroll&&n.scroll instanceof i)return e.scrollTo(n.scroll);if(n.stop)return e.stop();if(n.destroy)return e.destroy();if(n.flash)return e.flash()}return e.reset()})},i.fn.nanoScroller.Constructor=s}),function(v,t,e){"use strict";function n(i){var t=function(t,f,g){return{transclude:!0,replace:1===i,restrict:1===i?"E":"A",priority:1e3,template:(e=f.template,n=g,e.replace(new RegExp("{.*?}","g"),function(t){return n[t.slice(1,-1)]||""})),link:function(n,t,e){function i(t,e){t===e?n.$evalAsync(function(){p.nanoScroller(h),p.nanoScroller()}):t!==e&&u.scrollTop&&e-u.scrollTop-d.clientHeight<f.bottomMargin?n.$evalAsync(function(){p.nanoScroller(),p.nanoScroller({scroll:"bottom"})}):p.nanoScroller()}function r(){var t=u.scrollHeight;void 0===o&&(o=t),i(t,o)}var o,a,s,l=g.contentClass,c=g.nanoClass,u=t.find("."+l)[0],d=u.parentElement,p=t.hasClass(c)?t:t.find("."+c),h=v.extend({},g,(a=e,s={},v.forEach(a,function(t,e){if(0!==e.indexOf("$")){switch("iosNativeScrolling"==e&&(e="iOSNativeScrolling"),e){case"true":t=!0;break;case"false":t=!1;break;case"null":t=null;break;case"class":return}s[e]=t}}),s),n.$eval(e.scrollable));e.static?i():"string"==typeof e.watch||e.watchCollection?(v.forEach(m(e.watch),function(t){n.$watch(t,r)}),v.forEach(m(e.watchCollection),function(t){n.$watchCollection(t,r)})):n.$watch(function(){return u.scrollHeight},i),n.$on("$destroy",function(){p.nanoScroller({destroy:!0}),p=u=d=null})}};var e,n};return t.$inject=["$timeout","scrollableConfig","nanoScrollerDefaults"],t}function m(t){return t?t.replace(",",";").split(";"):[]}if(void 0===t.fn.nanoScroller)throw new Error("nanoScrollerJS is not defined in jQuery");if(v.element!==t)throw new Error("Angular must use jQuery not jqLite");var i=v.module("sun.scrollable",["ng"]);i.constant("scrollableConfig",{template:'<div class="{nanoClass}"><div class="{contentClass}" ng-transclude></div></div>',bottomMargin:40}),i.constant("nanoScrollerDefaults",{nanoClass:"nano",contentClass:"nano-content"}),i.directive("scrollable",n(1)),i.directive("scrollable",n(0))}(angular,jQuery),function(){var I={version:"3.5.17"},o=[].slice,p=function(t){return o.call(t)},y=this.document;function s(t){return t&&(t.ownerDocument||t.document||t).documentElement}function z(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(y)try{p(y.documentElement.childNodes)[0].nodeType}catch(t){p=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),y)try{y.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var e=this.Element.prototype,n=e.setAttribute,i=e.setAttributeNS,r=this.CSSStyleDeclaration.prototype,a=r.setProperty;e.setAttribute=function(t,e){n.call(this,t,e+"")},e.setAttributeNS=function(t,e,n){i.call(this,t,e,n+"")},r.setProperty=function(t,e,n){a.call(this,t,e+"",n)}}function l(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function c(t){return null===t?NaN:+t}function u(t){return!isNaN(t)}function t(o){return{left:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var r=n+i>>>1;o(t[r],e)<0?n=r+1:i=r}return n},right:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var r=n+i>>>1;0<o(t[r],e)?i=r:n=r+1}return n}}}I.ascending=l,I.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},I.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i<n&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i<=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i<n&&(n=i)}return n},I.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n<i&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i<=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n<i&&(n=i)}return n},I.extent=function(t,e){var n,i,r,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(i=t[o])&&i<=i){n=r=i;break}for(;++o<a;)null!=(i=t[o])&&(i<n&&(n=i),r<i&&(r=i))}else{for(;++o<a;)if(null!=(i=e.call(t,t[o],o))&&i<=i){n=r=i;break}for(;++o<a;)null!=(i=e.call(t,t[o],o))&&(i<n&&(n=i),r<i&&(r=i))}return[n,r]},I.sum=function(t,e){var n,i=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)u(n=+t[o])&&(i+=n);else for(;++o<r;)u(n=+e.call(t,t[o],o))&&(i+=n);return i},I.mean=function(t,e){var n,i=0,r=t.length,o=-1,a=r;if(1===arguments.length)for(;++o<r;)u(n=c(t[o]))?i+=n:--a;else for(;++o<r;)u(n=c(e.call(t,t[o],o)))?i+=n:--a;if(a)return i/a},I.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},I.median=function(t,e){var n,i=[],r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)u(n=c(t[o]))&&i.push(n);else for(;++o<r;)u(n=c(e.call(t,t[o],o)))&&i.push(n);if(i.length)return I.quantile(i.sort(l),.5)},I.variance=function(t,e){var n,i,r=t.length,o=0,a=0,s=-1,l=0;if(1===arguments.length)for(;++s<r;)u(n=c(t[s]))&&(a+=(i=n-o)*(n-(o+=i/++l)));else for(;++s<r;)u(n=c(e.call(t,t[s],s)))&&(a+=(i=n-o)*(n-(o+=i/++l)));if(1<l)return a/(l-1)},I.deviation=function(){var t=I.variance.apply(this,arguments);return t?Math.sqrt(t):t};var d=t(l);function h(t){return t.length}I.bisectLeft=d.left,I.bisect=I.bisectRight=d.right,I.bisector=function(n){return t(1===n.length?function(t,e){return l(n(t),e)}:n)},I.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var i,r,o=n-e;o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},I.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},I.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],r=new Array(n<0?0:n);e<n;)r[e]=[i,i=t[++e]];return r},I.transpose=function(t){if(!(r=t.length))return[];for(var e=-1,n=I.min(t,h),i=new Array(n);++e<n;)for(var r,o=-1,a=i[e]=new Array(r);++o<r;)a[o]=t[o][e];return i},I.zip=function(){return I.transpose(arguments)},I.keys=function(t){var e=[];for(var n in t)e.push(n);return e},I.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},I.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},I.merge=function(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);0<=--r;)for(e=(i=t[r]).length;0<=--e;)n[--a]=i[e];return n};var P=Math.abs;function f(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function b(){this._=Object.create(null)}I.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var i,r=[],o=function(t){var e=1;for(;t*e%1;)e*=10;return e}(P(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(i=t+n*++a)>e;)r.push(i/o);else for(;(i=t+n*++a)<e;)r.push(i/o);return r},I.map=function(t,e){var n=new b;if(t instanceof b)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(1===arguments.length)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e.call(t,i=t[r],r),i)}else for(var a in t)n.set(a,t[a]);return n};var g="__proto__",v="\0";function m(t){return(t+="")===g||t[0]===v?v+t:t}function x(t){return(t+="")[0]===v?t.slice(1):t}function w(t){return m(t)in this._}function k(t){return(t=m(t))in this._&&delete this._[t]}function $(){var t=[];for(var e in this._)t.push(x(e));return t}function S(){var t=0;for(var e in this._)++t;return t}function C(){for(var t in this._)return!1;return!0}function M(){this._=Object.create(null)}function N(t){return t}function T(e,n,i){return function(){var t=i.apply(n,arguments);return t===n?e:t}}function _(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=A.length;n<i;++n){var r=A[n]+e;if(r in t)return r}}f(b,{has:w,get:function(t){return this._[m(t)]},set:function(t,e){return this._[m(t)]=e},remove:k,keys:$,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:x(e),value:this._[e]});return t},size:S,empty:C,forEach:function(t){for(var e in this._)t.call(this,x(e),this._[e])}}),I.nest=function(){var d,p,h={},f=[],e=[];function g(n,t,i){if(i>=f.length)return p?p.call(h,t):d?t.sort(d):t;for(var e,r,o,a,s=-1,l=t.length,c=f[i++],u=new b;++s<l;)(a=u.get(e=c(r=t[s])))?a.push(r):u.set(e,[r]);return o=n?(r=n(),function(t,e){r.set(t,g(n,e,i))}):(r={},function(t,e){r[t]=g(n,e,i)}),u.forEach(o),r}return h.map=function(t,e){return g(e,t,0)},h.entries=function(t){return function n(t,i){if(i>=f.length)return t;var r=[],o=e[i++];return t.forEach(function(t,e){r.push({key:t,values:n(e,i)})}),o?r.sort(function(t,e){return o(t.key,e.key)}):r}(g(I.map,t,0),0)},h.key=function(t){return f.push(t),h},h.sortKeys=function(t){return e[f.length-1]=t,h},h.sortValues=function(t){return d=t,h},h.rollup=function(t){return p=t,h},h},I.set=function(t){var e=new M;if(t)for(var n=0,i=t.length;n<i;++n)e.add(t[n]);return e},f(M,{has:w,add:function(t){return this._[m(t+="")]=!0,t},remove:k,values:$,size:S,empty:C,forEach:function(t){for(var e in this._)t.call(this,x(e))}}),I.behavior={},I.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=T(t,e,e[n]);return t};var A=["webkit","ms","moz","Moz","o","O"];function E(){}function D(){}function O(r){var o=[],a=new b;function t(){for(var t,e=o,n=-1,i=e.length;++n<i;)(t=e[n].on)&&t.apply(this,arguments);return r}return t.on=function(t,e){var n,i=a.get(t);return arguments.length<2?i&&i.on:(i&&(i.on=null,o=o.slice(0,n=o.indexOf(i)).concat(o.slice(n+1)),a.remove(t)),e&&o.push(a.set(t,{on:e})),r)},t}function L(){I.event.preventDefault()}function H(){for(var t,e=I.event;t=e.sourceEvent;)e=t;return e}function W(r){for(var o=new D,t=0,e=arguments.length;++t<e;)o[arguments[t]]=O(o);return o.of=function(n,i){return function(t){try{var e=t.sourceEvent=I.event;t.target=r,I.event=t,o[t.type].apply(n,i)}finally{I.event=e}}},o}I.dispatch=function(){for(var t=new D,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=O(t);return t},D.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(0<=n&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},I.event=null,I.requote=function(t){return t.replace(F,"\\$&")};var F=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,R={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function U(t){return R(t,V),t}var j=function(t,e){return e.querySelector(t)},q=function(t,e){return e.querySelectorAll(t)},B=function(t,e){var n=t.matches||t[_(t,"matchesSelector")];return(B=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(j=function(t,e){return Sizzle(t,e)[0]||null},q=Sizzle,B=Sizzle.matchesSelector),I.selection=function(){return I.select(y.documentElement)};var V=I.selection.prototype=[];function Y(t){return"function"==typeof t?t:function(){return j(t,this)}}function X(t){return"function"==typeof t?t:function(){return q(t,this)}}V.select=function(t){var e,n,i,r,o=[];t=Y(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(i=this[a]).parentNode;for(var l=-1,c=i.length;++l<c;)(r=i[l])?(e.push(n=t.call(r,r.__data__,l,a)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return U(o)},V.selectAll=function(t){var e,n,i=[];t=X(t);for(var r=-1,o=this.length;++r<o;)for(var a=this[r],s=-1,l=a.length;++s<l;)(n=a[s])&&(i.push(e=p(t.call(n,n.__data__,s,r))),e.parentNode=n);return U(i)};var G="http://www.w3.org/1999/xhtml",Z={svg:"http://www.w3.org/2000/svg",xhtml:G,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function K(e,n){return e=I.ns.qualify(e),null==n?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof n?e.local?function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}:function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}:e.local?function(){this.setAttributeNS(e.space,e.local,n)}:function(){this.setAttribute(e,n)}}function Q(t){return t.trim().replace(/\s+/g," ")}function J(t){return new RegExp("(?:^|\\s+)"+I.requote(t)+"(?:\\s+|$)","g")}function tt(t){return(t+"").trim().split(/^|\s+/)}function et(n,i){var r=(n=tt(n).map(nt)).length;return"function"==typeof i?function(){for(var t=-1,e=i.apply(this,arguments);++t<r;)n[t](this,e)}:function(){for(var t=-1;++t<r;)n[t](this,i)}}function nt(i){var r=J(i);return function(t,e){if(n=t.classList)return e?n.add(i):n.remove(i);var n=t.getAttribute("class")||"";e?(r.lastIndex=0,r.test(n)||t.setAttribute("class",Q(n+" "+i))):t.setAttribute("class",Q(n.replace(r," ")))}}function it(e,n,i){return null==n?function(){this.style.removeProperty(e)}:"function"==typeof n?function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,i)}:function(){this.style.setProperty(e,n,i)}}function rt(e,n){return null==n?function(){delete this[e]}:"function"==typeof n?function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}:function(){this[e]=n}}function ot(n){return"function"==typeof n?n:(n=I.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local)}:function(){var t=this.ownerDocument,e=this.namespaceURI;return e===G&&t.documentElement.namespaceURI===G?t.createElement(n):t.createElementNS(e,n)}}function at(){var t=this.parentNode;t&&t.removeChild(this)}function st(t){return{__data__:t}}function lt(t){return function(){return B(this,t)}}function ct(t,e){for(var n=0,i=t.length;n<i;n++)for(var r,o=t[n],a=0,s=o.length;a<s;a++)(r=o[a])&&e(r,a,n);return t}function ut(t){return R(t,dt),t}I.ns={prefix:Z,qualify:function(t){var e=t.indexOf(":"),n=t;return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Z.hasOwnProperty(n)?{space:Z[n],local:t}:t}},V.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=I.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(K(e,t[e]));return this}return this.each(K(t,e))},V.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=tt(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!J(t[r]).test(e))return!1;return!0}for(e in t)this.each(et(e,t[e]));return this}return this.each(et(t,e))},V.style=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=""),t)this.each(it(n,t[n],e));return this}if(i<2){var r=this.node();return z(r).getComputedStyle(r,null).getPropertyValue(t)}n=""}return this.each(it(t,e,n))},V.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(rt(e,t[e]));return this}return this.each(rt(t,e))},V.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},V.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},V.append=function(t){return t=ot(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},V.insert=function(t,e){return t=ot(t),e=Y(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},V.remove=function(){return this.each(at)},V.data=function(t,f){var e,n,i=-1,r=this.length;if(!arguments.length){for(t=new Array(r=(e=this[0]).length);++i<r;)(n=e[i])&&(t[i]=n.__data__);return t}function o(t,e){var n,i,r,o=t.length,a=e.length,s=Math.min(o,a),l=new Array(a),c=new Array(a),u=new Array(o);if(f){var d,p=new b,h=new Array(o);for(n=-1;++n<o;)(i=t[n])&&(p.has(d=f.call(i,i.__data__,n))?u[n]=i:p.set(d,i),h[n]=d);for(n=-1;++n<a;)(i=p.get(d=f.call(e,r=e[n],n)))?!0!==i&&((l[n]=i).__data__=r):c[n]=st(r),p.set(d,!0);for(n=-1;++n<o;)n in h&&!0!==p.get(h[n])&&(u[n]=t[n])}else{for(n=-1;++n<s;)i=t[n],r=e[n],i?(i.__data__=r,l[n]=i):c[n]=st(r);for(;n<a;++n)c[n]=st(e[n]);for(;n<o;++n)u[n]=t[n]}c.update=l,c.parentNode=l.parentNode=u.parentNode=t.parentNode,g.push(c),v.push(l),m.push(u)}var g=ut([]),v=U([]),m=U([]);if("function"==typeof t)for(;++i<r;)o(e=this[i],t.call(e,e.parentNode.__data__,i));else for(;++i<r;)o(e=this[i],t);return v.enter=function(){return g},v.exit=function(){return m},v},V.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},V.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=lt(t));for(var o=0,a=this.length;o<a;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;s<l;s++)(i=n[s])&&t.call(i,i.__data__,s,o)&&e.push(i)}return U(r)},V.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];0<=--r;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},V.sort=function(t){t=function(n){arguments.length||(n=l);return function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},V.each=function(i){return ct(this,function(t,e,n){i.call(t,t.__data__,e,n)})},V.call=function(t){var e=p(arguments);return t.apply(e[0]=this,e),this},V.empty=function(){return!this.node()},V.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],i=0,r=n.length;i<r;i++){var o=n[i];if(o)return o}return null},V.size=function(){var t=0;return ct(this,function(){++t}),t};var dt=[];function pt(r,e,n){var i="__on"+r,t=r.indexOf("."),o=ft;0<t&&(r=r.slice(0,t));var a=ht.get(r);function s(){var t=this[i];t&&(this.removeEventListener(r,t,t.$),delete this[i])}return a&&(r=a,o=gt),t?e?function(){var t=o(e,p(arguments));s.call(this),this.addEventListener(r,this[i]=t,t.$=n),t._=e}:s:e?E:function(){var t,e=new RegExp("^__on([^.]+)"+I.requote(r)+"$");for(var n in this)if(t=n.match(e)){var i=this[n];this.removeEventListener(t[1],i,i.$),delete this[n]}}}I.selection.enter=ut,(I.selection.enter.prototype=dt).append=V.append,dt.empty=V.empty,dt.node=V.node,dt.call=V.call,dt.size=V.size,dt.select=function(t){for(var e,n,i,r,o,a=[],s=-1,l=this.length;++s<l;){i=(r=this[s]).update,a.push(e=[]),e.parentNode=r.parentNode;for(var c=-1,u=r.length;++c<u;)(o=r[c])?(e.push(i[c]=n=t.call(r.parentNode,o.__data__,c,s)),n.__data__=o.__data__):e.push(null)}return U(a)},dt.insert=function(t,e){var a,s,l;return arguments.length<2&&(a=this,e=function(t,e,n){var i,r=a[n].update,o=r.length;for(n!=l&&(l=n,s=0),s<=e&&(s=e+1);!(i=r[s])&&++s<o;);return i}),V.insert.call(this,t,e)},I.select=function(t){var e;return"string"==typeof t?(e=[j(t,y)]).parentNode=y.documentElement:(e=[t]).parentNode=s(t),U([e])},I.selectAll=function(t){var e;return"string"==typeof t?(e=p(q(t,y))).parentNode=y.documentElement:(e=p(t)).parentNode=null,U([e])},V.on=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=!1),t)this.each(pt(n,t[n],e));return this}if(i<2)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(pt(t,e,n))};var ht=I.map({mouseenter:"mouseover",mouseleave:"mouseout"});function ft(n,i){return function(t){var e=I.event;I.event=t,i[0]=this.__data__;try{n.apply(this,i)}finally{I.event=e}}}function gt(t,e){var n=ft(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}y&&ht.forEach(function(t){"on"+t in y&&ht.remove(t)});var vt,mt=0;function bt(t){var n=".dragsuppress-"+ ++mt,i="click"+n,r=I.select(z(t)).on("touchmove"+n,L).on("dragstart"+n,L).on("selectstart"+n,L);if(null==vt&&(vt=!("onselectstart"in t)&&_(t.style,"userSelect")),vt){var o=s(t).style,a=o[vt];o[vt]="none"}return function(t){if(r.on(n,null),vt&&(o[vt]=a),t){var e=function(){r.on(i,null)};r.on(i,function(){L(),e()},!0),setTimeout(e,0)}}}I.mouse=function(t){return xt(t,H())};var yt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function xt(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(yt<0){var r=z(t);if(r.scrollX||r.scrollY){var o=(n=I.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();yt=!(o.f||o.e),n.remove()}}return i.y=yt?(i.x=e.pageX,e.pageY):(i.x=e.clientX,e.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function wt(){return I.event.changedTouches[0].identifier}I.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=H().changedTouches),e)for(var i,r=0,o=e.length;r<o;++r)if((i=e[r]).identifier===n)return xt(t,i)},I.behavior.drag=function(){var g=W(n,"drag","dragstart","dragend"),v=null,t=i(E,I.mouse,z,"mousemove","mouseup"),e=i(wt,I.touch,N,"touchmove","touchend");function n(){this.on("mousedown.drag",t).on("touchstart.drag",e)}function i(u,d,p,h,f){return function(){var i,t=I.event.target.correspondingElement||I.event.target,r=this.parentNode,o=g.of(this,arguments),a=0,s=u(),e=".drag"+(null==s?"":"-"+s),n=I.select(p(t)).on(h+e,function(){var t,e,n=d(r,s);if(!n)return;t=n[0]-c[0],e=n[1]-c[1],a|=t|e,o({type:"drag",x:(c=n)[0]+i[0],y:n[1]+i[1],dx:t,dy:e})}).on(f+e,function(){if(!d(r,s))return;n.on(h+e,null).on(f+e,null),l(a),o({type:"dragend"})}),l=bt(t),c=d(r,s);i=v?[(i=v.apply(this,arguments)).x-c[0],i.y-c[1]]:[0,0],o({type:"dragstart"})}}return n.origin=function(t){return arguments.length?(v=t,n):v},I.rebind(n,g,"on")},I.touches=function(n,t){return arguments.length<2&&(t=H().touches),t?p(t).map(function(t){var e=xt(n,t);return e.identifier=t.identifier,e}):[]};var kt=1e-6,$t=kt*kt,St=Math.PI,Ct=2*St,Mt=Ct-kt,Tt=St/2,_t=St/180,At=180/St;function Et(t){return 0<t?1:t<0?-1:0}function Dt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Ot(t){return 1<t?0:t<-1?St:Math.acos(t)}function Pt(t){return 1<t?Tt:t<-1?-Tt:Math.asin(t)}function It(t){return((t=Math.exp(t))+1/t)/2}function zt(t){return(t=Math.sin(t/2))*t}var Nt=Math.SQRT2;I.interpolateZoom=function(t,e){var n,a,s=t[0],l=t[1],c=t[2],i=e[0],r=e[1],o=e[2],u=i-s,d=r-l,p=u*u+d*d;if(p<$t)a=Math.log(o/c)/Nt,n=function(t){return[s+t*u,l+t*d,c*Math.exp(Nt*t*a)]};else{var h=Math.sqrt(p),f=(o*o-c*c+4*p)/(2*c*2*h),g=(o*o-c*c-4*p)/(2*o*2*h),v=Math.log(Math.sqrt(f*f+1)-f),m=Math.log(Math.sqrt(g*g+1)-g);a=(m-v)/Nt,n=function(t){var e,n,i=t*a,r=It(v),o=c/(2*h)*(r*(n=Nt*i+v,((n=Math.exp(2*n))-1)/(n+1))-(e=v,((e=Math.exp(e))-1/e)/2));return[s+o*u,l+o*d,c*r/It(Nt*i+v)]}}return n.duration=1e3*a,n},I.behavior.zoom=function(){var e,l,n,i,x,r,o,a,s,w={x:0,y:0,k:1},c=[960,500],u=Wt,d=250,p=0,k="mousedown.zoom",h="mousemove.zoom",f="mouseup.zoom",$="touchstart.zoom",S=W(g,"zoomstart","zoom","zoomend");function g(t){t.on(k,O).on(Ht+".zoom",m).on("dblclick.zoom",b).on($,P)}function C(t){return[(t[0]-w.x)/w.k,(t[1]-w.y)/w.k]}function M(t){w.k=Math.max(u[0],Math.min(u[1],t))}function T(t,e){var n;e=[(n=e)[0]*w.k+w.x,n[1]*w.k+w.y],w.x+=t[0]-e[0],w.y+=t[1]-e[1]}function _(t,e,n,i){t.__chart__={x:w.x,y:w.y,k:w.k},M(Math.pow(2,i)),T(l=e,n),t=I.select(t),0<d&&(t=t.transition().duration(d)),t.call(g.event)}function v(){o&&o.domain(r.range().map(function(t){return(t-w.x)/w.k}).map(r.invert)),s&&s.domain(a.range().map(function(t){return(t-w.y)/w.k}).map(a.invert))}function A(t){p++||t({type:"zoomstart"})}function E(t){v(),t({type:"zoom",scale:w.k,translate:[w.x,w.y]})}function D(t){--p||(t({type:"zoomend"}),l=null)}function O(){var t=this,e=S.of(t,arguments),n=0,i=I.select(z(t)).on(h,function(){n=1,T(I.mouse(t),r),E(e)}).on(f,function(){i.on(h,null).on(f,null),o(n),D(e)}),r=C(I.mouse(t)),o=bt(t);cs.call(t),A(e)}function P(){var c,u=this,d=S.of(u,arguments),p={},h=0,r=".zoom-"+I.event.changedTouches[0].identifier,f="touchmove"+r,g="touchend"+r,v=[],o=I.select(u),a=bt(u);function m(){var t=I.touches(u);return c=w.k,t.forEach(function(t){t.identifier in p&&(p[t.identifier]=C(t))}),t}function t(){var t=I.event.target;I.select(t).on(f,b).on(g,y),v.push(t);for(var e=I.event.changedTouches,n=0,i=e.length;n<i;++n)p[e[n].identifier]=null;var r=m(),o=Date.now();if(1===r.length){if(o-x<500){var a=r[0];_(u,a,p[a.identifier],Math.floor(Math.log(w.k)/Math.LN2)+1),L()}x=o}else if(1<r.length){a=r[0];var s=r[1],l=a[0]-s[0],c=a[1]-s[1];h=l*l+c*c}}function b(){var t,e,n,i,r=I.touches(u);cs.call(u);for(var o=0,a=r.length;o<a;++o,i=null)if(n=r[o],i=p[n.identifier]){if(e)break;t=n,e=i}if(i){var s=(s=n[0]-t[0])*s+(s=n[1]-t[1])*s,l=h&&Math.sqrt(s/h);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],M(l*c)}x=null,T(t,e),E(d)}function y(){if(I.event.touches.length){for(var t=I.event.changedTouches,e=0,n=t.length;e<n;++e)delete p[t[e].identifier];for(var i in p)return void m()}I.selectAll(v).on(r,null),o.on(k,O).on($,P),a(),D(d)}t(),A(d),o.on(k,null).on($,t)}function m(){var t=S.of(this,arguments);i?clearTimeout(i):(cs.call(this),e=C(l=n||I.mouse(this)),A(t)),i=setTimeout(function(){i=null,D(t)},50),L(),M(Math.pow(2,.002*Lt())*w.k),T(l,e),E(t)}function b(){var t=I.mouse(this),e=Math.log(w.k)/Math.LN2;_(this,t,C(t),I.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return Ht||(Ht="onwheel"in y?(Lt=function(){return-I.event.deltaY*(I.event.deltaMode?120:1)},"wheel"):"onmousewheel"in y?(Lt=function(){return I.event.wheelDelta},"mousewheel"):(Lt=function(){return-I.event.detail},"MozMousePixelScroll")),g.event=function(t){t.each(function(){var s=S.of(this,arguments),e=w;ps?I.select(this).transition().each("start.zoom",function(){w=this.__chart__||{x:0,y:0,k:1},A(s)}).tween("zoom:zoom",function(){var i=c[0],t=c[1],r=l?l[0]:i/2,o=l?l[1]:t/2,a=I.interpolateZoom([(r-w.x)/w.k,(o-w.y)/w.k,i/w.k],[(r-e.x)/e.k,(o-e.y)/e.k,i/e.k]);return function(t){var e=a(t),n=i/e[2];this.__chart__=w={x:r-e[0]*n,y:o-e[1]*n,k:n},E(s)}}).each("interrupt.zoom",function(){D(s)}).each("end.zoom",function(){D(s)}):(this.__chart__=w,A(s),E(s),D(s))})},g.translate=function(t){return arguments.length?(w={x:+t[0],y:+t[1],k:w.k},v(),g):[w.x,w.y]},g.scale=function(t){return arguments.length?(w={x:w.x,y:w.y,k:null},M(+t),v(),g):w.k},g.scaleExtent=function(t){return arguments.length?(u=null==t?Wt:[+t[0],+t[1]],g):u},g.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],g):n},g.size=function(t){return arguments.length?(c=t&&[+t[0],+t[1]],g):c},g.duration=function(t){return arguments.length?(d=+t,g):d},g.x=function(t){return arguments.length?(r=(o=t).copy(),w={x:0,y:0,k:1},g):o},g.y=function(t){return arguments.length?(a=(s=t).copy(),w={x:0,y:0,k:1},g):s},I.rebind(g,S,"on")};var Lt,Ht,Wt=[0,1/0];function Ft(){}function Rt(t,e,n){return this instanceof Rt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Rt?new Rt(t.h,t.s,t.l):ce(""+t,ue,Rt):new Rt(t,e,n)}(I.color=Ft).prototype.toString=function(){return this.rgb()+""};var Ut=(I.hsl=Rt).prototype=new Ft;function jt(t,e,n){var i,r;function o(t){return Math.round(255*(360<(e=t)?e-=360:e<0&&(e+=360),e<60?i+(r-i)*e/60:e<180?r:e<240?i+(r-i)*(240-e)/60:i));var e}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:1<e?1:e,i=2*(n=n<0?0:1<n?1:n)-(r=n<=.5?n*(1+e):n+e-n*e),new re(o(t+120),o(t),o(t-120))}function qt(t,e,n){return this instanceof qt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof qt?new qt(t.h,t.c,t.l):te(t instanceof Yt?t.l:(t=de((t=I.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new qt(t,e,n)}Ut.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Rt(this.h,this.s,this.l/t)},Ut.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Rt(this.h,this.s,t*this.l)},Ut.rgb=function(){return jt(this.h,this.s,this.l)};var Bt=(I.hcl=qt).prototype=new Ft;function Vt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Yt(n,Math.cos(t*=_t)*e,Math.sin(t)*e)}function Yt(t,e,n){return this instanceof Yt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Yt?new Yt(t.l,t.a,t.b):t instanceof qt?Vt(t.h,t.c,t.l):de((t=re(t)).r,t.g,t.b):new Yt(t,e,n)}Bt.brighter=function(t){return new qt(this.h,this.c,Math.min(100,this.l+Xt*(arguments.length?t:1)))},Bt.darker=function(t){return new qt(this.h,this.c,Math.max(0,this.l-Xt*(arguments.length?t:1)))},Bt.rgb=function(){return Vt(this.h,this.c,this.l).rgb()},I.lab=Yt;var Xt=18,Gt=.95047,Zt=1,Kt=1.08883,Qt=Yt.prototype=new Ft;function Jt(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return new re(ie(3.2404542*(r=ee(r)*Gt)-1.5371385*(i=ee(i)*Zt)-.4985314*(o=ee(o)*Kt)),ie(-.969266*r+1.8760108*i+.041556*o),ie(.0556434*r-.2040259*i+1.0572252*o))}function te(t,e,n){return 0<t?new qt(Math.atan2(n,e)*At,Math.sqrt(e*e+n*n),t):new qt(NaN,NaN,t)}function ee(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function ne(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function ie(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function re(t,e,n){return this instanceof re?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof re?new re(t.r,t.g,t.b):ce(""+t,re,jt):new re(t,e,n)}function oe(t){return new re(t>>16,t>>8&255,255&t)}function ae(t){return oe(t)+""}Qt.brighter=function(t){return new Yt(Math.min(100,this.l+Xt*(arguments.length?t:1)),this.a,this.b)},Qt.darker=function(t){return new Yt(Math.max(0,this.l-Xt*(arguments.length?t:1)),this.a,this.b)},Qt.rgb=function(){return Jt(this.l,this.a,this.b)};var se=(I.rgb=re).prototype=new Ft;function le(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function ce(t,e,n){var i,r,o,a=0,s=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(he(r[0]),he(r[1]),he(r[2]))}return(o=fe.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),e(a,s,l))}function ue(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,l=(a+o)/2;return s?(r=l<.5?s/(a+o):s/(2-a-o),i=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,r=0<l&&l<1?0:i),new Rt(i,r,l)}function de(t,e,n){var i=ne((.4124564*(t=pe(t))+.3575761*(e=pe(e))+.1804375*(n=pe(n)))/Gt),r=ne((.2126729*t+.7151522*e+.072175*n)/Zt);return Yt(116*r-16,500*(i-r),200*(r-ne((.0193339*t+.119192*e+.9503041*n)/Kt)))}function pe(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function he(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}se.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b;return e||n||i?(e&&e<30&&(e=30),n&&n<30&&(n=30),i&&i<30&&(i=30),new re(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new re(30,30,30)},se.darker=function(t){return new re((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},se.hsl=function(){return ue(this.r,this.g,this.b)},se.toString=function(){return"#"+le(this.r)+le(this.g)+le(this.b)};var fe=I.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ge(t){return"function"==typeof t?t:function(){return t}}function ve(i){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=null),me(t,e,i,n)}}function me(r,o,a,t){var n,s={},l=I.dispatch("beforesend","progress","load","error"),c={},u=new XMLHttpRequest,d=null;function e(){var t,e,n,i=u.status;if(!i&&((n=(e=u).responseType)&&"text"!==n?e.response:e.responseText)||200<=i&&i<300||304===i){try{t=a.call(s,u)}catch(t){return void l.error.call(s,t)}l.load.call(s,t)}else l.error.call(s,u)}return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(r)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=e:u.onreadystatechange=function(){3<u.readyState&&e()},u.onprogress=function(t){var e=I.event;I.event=t;try{l.progress.call(s,u)}finally{I.event=e}},s.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?c[t]:(null==e?delete c[t]:c[t]=e+"",s)},s.mimeType=function(t){return arguments.length?(o=null==t?null:t+"",s):o},s.responseType=function(t){return arguments.length?(d=t,s):d},s.response=function(t){return a=t,s},["get","post"].forEach(function(t){s[t]=function(){return s.send.apply(s,[t].concat(p(arguments)))}}),s.send=function(t,e,n){if(2===arguments.length&&"function"==typeof e&&(n=e,e=null),u.open(t,r,!0),null==o||"accept"in c||(c.accept=o+",*/*"),u.setRequestHeader)for(var i in c)u.setRequestHeader(i,c[i]);return null!=o&&u.overrideMimeType&&u.overrideMimeType(o),null!=d&&(u.responseType=d),null!=n&&s.on("error",n).on("load",function(t){n(null,t)}),l.beforesend.call(s,u),u.send(null==e?null:e),s},s.abort=function(){return u.abort(),s},I.rebind(s,l,"on"),null==t?s:s.get(1===(n=t).length?function(t,e){n(null==t?e:null)}:n)}fe.forEach(function(t,e){fe.set(t,oe(e))}),I.functor=ge,I.xhr=ve(N),I.dsv=function(r,o){var e=new RegExp('["'+r+"\n]"),p=r.charCodeAt(0);function a(t,e,n){arguments.length<3&&(n=e,e=null);var i=me(t,o,null==e?s:l(e),n);return i.row=function(t){return arguments.length?i.response(null==(e=t)?s:l(t)):e},i}function s(t){return a.parse(t.responseText)}function l(e){return function(t){return a.parse(t.responseText,e)}}function n(t){return t.map(c).join(r)}function c(t){return e.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return a.parse=function(t,i){var r;return a.parseRows(t,function(t,e){if(r)return r(t,e-1);var n=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=i?function(t,e){return i(n(t),e)}:n})},a.parseRows=function(r,t){var e,o,a={},s={},n=[],l=r.length,c=0,i=0;function u(){if(l<=c)return s;if(o)return o=!1,a;var t=c;if(34===r.charCodeAt(t)){for(var e=t;e++<l;)if(34===r.charCodeAt(e)){if(34!==r.charCodeAt(e+1))break;++e}return c=e+2,13===(n=r.charCodeAt(e+1))?(o=!0,10===r.charCodeAt(e+2)&&++c):10===n&&(o=!0),r.slice(t+1,e).replace(/""/g,'"')}for(;c<l;){var n,i=1;if(10===(n=r.charCodeAt(c++)))o=!0;else if(13===n)o=!0,10===r.charCodeAt(c)&&(++c,++i);else if(n!==p)continue;return r.slice(t,c-i)}return r.slice(t)}for(;(e=u())!==s;){for(var d=[];e!==a&&e!==s;)d.push(e),e=u();t&&null==(d=t(d,i++))||n.push(d)}return n},a.format=function(t){if(Array.isArray(t[0]))return a.formatRows(t);var n=new M,i=[];return t.forEach(function(t){for(var e in t)n.has(e)||i.push(n.add(e))}),[i.map(c).join(r)].concat(t.map(function(e){return i.map(function(t){return c(e[t])}).join(r)})).join("\n")},a.formatRows=function(t){return t.map(n).join("\n")},a},I.csv=I.dsv(",","text/csv"),I.tsv=I.dsv("\t","text/tab-separated-values");var be,ye,xe,we,ke=this[_(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function $e(t,e,n){var i=arguments.length;i<2&&(e=0),i<3&&(n=Date.now());var r={c:t,t:n+e,n:null};return ye?ye.n=r:be=r,ye=r,xe||(we=clearTimeout(we),xe=1,ke(Se)),r}function Se(){var t=Ce(),e=Me()-t;24<e?(isFinite(e)&&(clearTimeout(we),we=setTimeout(Se,e)),xe=0):(xe=1,ke(Se))}function Ce(){for(var t=Date.now(),e=be;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Me(){for(var t,e=be,n=1/0;e;)e=e.c?(e.t<n&&(n=e.t),(t=e).n):t?t.n=e.n:be=e.n;return ye=t,n}function Te(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}I.timer=function(){$e.apply(this,arguments)},I.timer.flush=function(){Ce(),Me()},I.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var _e=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*P(8-e));return{scale:8<e?function(t){return t/n}:function(t){return t*n},symbol:t}});I.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=I.round(t,Te(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),_e[8+n/3]};var Ae=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ee=I.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=I.round(t,Te(t,e))).toFixed(Math.max(0,Math.min(20,Te(t*(1+1e-15),e))))}});function De(t){return t+""}var Oe=I.time={},Pe=Date;function Ie(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}Ie.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ze.setUTCDate.apply(this._,arguments)},setDay:function(){ze.setUTCDay.apply(this._,arguments)},setFullYear:function(){ze.setUTCFullYear.apply(this._,arguments)},setHours:function(){ze.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ze.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ze.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ze.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ze.setUTCSeconds.apply(this._,arguments)},setTime:function(){ze.setTime.apply(this._,arguments)}};var ze=Date.prototype;function Ne(i,o,a){function t(t){var e=i(t),n=r(e,1);return t-e<n-t?e:n}function s(t){return o(t=i(new Pe(t-1)),1),t}function r(t,e){return o(t=new Pe(+t),e),t}function l(t,e,n){var i=s(t),r=[];if(1<n)for(;i<e;)a(i)%n||r.push(new Date(+i)),o(i,1);else for(;i<e;)r.push(new Date(+i)),o(i,1);return r}(i.floor=i).round=t,i.ceil=s,i.offset=r,i.range=l;var e=i.utc=Le(i);return(e.floor=e).round=Le(t),e.ceil=Le(s),e.offset=Le(r),e.range=function(t,e,n){try{var i=new(Pe=Ie);return i._=t,l(i,e,n)}finally{Pe=Date}},i}function Le(i){return function(t,e){try{var n=new(Pe=Ie);return n._=t,i(n,e)._}finally{Pe=Date}}}Oe.year=Ne(function(t){return(t=Oe.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Oe.years=Oe.year.range,Oe.years.utc=Oe.year.utc.range,Oe.day=Ne(function(t){var e=new Pe(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Oe.days=Oe.day.range,Oe.days.utc=Oe.day.utc.range,Oe.dayOfYear=function(t){var e=Oe.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=Oe[t]=Ne(function(t){return(t=Oe.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var e=Oe.year(t).getDay();return Math.floor((Oe.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});Oe[t+"s"]=e.range,Oe[t+"s"].utc=e.utc.range,Oe[t+"OfYear"]=function(t){var e=Oe.year(t).getDay();return Math.floor((Oe.dayOfYear(t)+(e+n)%7)/7)}}),Oe.week=Oe.sunday,Oe.weeks=Oe.sunday.range,Oe.weeks.utc=Oe.sunday.utc.range,Oe.weekOfYear=Oe.sundayOfYear;var He={"-":"",_:" ",0:"0"},We=/^\s*\d+/,Fe=/^%/;function Re(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function Ue(t){return new RegExp("^(?:"+t.map(I.requote).join("|")+")","i")}function je(t){for(var e=new b,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function qe(t,e,n){We.lastIndex=0;var i=We.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Be(t,e,n){We.lastIndex=0;var i=We.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Ve(t,e,n){We.lastIndex=0;var i=We.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Ye(t,e,n){We.lastIndex=0;var i=We.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Xe(t,e,n){We.lastIndex=0;var i,r=We.exec(e.slice(n,n+2));return r?(t.y=(i=+r[0])+(68<i?1900:2e3),n+r[0].length):-1}function Ge(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Ze(t,e,n){We.lastIndex=0;var i=We.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Ke(t,e,n){We.lastIndex=0;var i=We.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Qe(t,e,n){We.lastIndex=0;var i=We.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function Je(t,e,n){We.lastIndex=0;var i=We.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function tn(t,e,n){We.lastIndex=0;var i=We.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function en(t,e,n){We.lastIndex=0;var i=We.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function nn(t,e,n){We.lastIndex=0;var i=We.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function rn(t){var e=t.getTimezoneOffset(),n=0<e?"-":"+",i=P(e)/60|0,r=P(e)%60;return n+Re(i,"0",2)+Re(r,"0",2)}function on(t,e,n){Fe.lastIndex=0;var i=Fe.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function an(i){for(var t=i.length,e=-1;++e<t;)i[e][0]=this(i[e][0]);return function(t){for(var e=0,n=i[e];!n[1](t);)n=i[++e];return n[0](t)}}I.locale=function(t){return{numberFormat:(e=t,S=e.decimal,s=e.thousands,l=e.grouping,i=e.currency,C=l&&s?function(t,e){for(var n=t.length,i=[],r=0,o=l[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),i.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=l[r=(r+1)%l.length];return i.reverse().join(s)}:N,function(t){var e=Ae.exec(t),u=e[1]||" ",d=e[2]||">",p=e[3]||"-",n=e[4]||"",h=e[5],f=+e[6],g=e[7],v=e[8],m=e[9],b=1,y="",x="",w=!1,k=!0;switch(v&&(v=+v.substring(1)),(h||"0"===u&&"="===d)&&(h=u="0",d="="),m){case"n":g=!0,m="g";break;case"%":b=100,x="%",m="f";break;case"p":b=100,x="%",m="r";break;case"b":case"o":case"x":case"X":"#"===n&&(y="0"+m.toLowerCase());case"c":k=!1;case"d":w=!0,v=0;break;case"s":b=-1,m="r"}"$"===n&&(y=i[0],x=i[1]),"r"!=m||v||(m="g"),null!=v&&("g"==m?v=Math.max(1,Math.min(21,v)):"e"!=m&&"f"!=m||(v=Math.max(0,Math.min(20,v)))),m=Ee.get(m)||De;var $=h&&g;return function(t){var e=x;if(w&&t%1)return"";var n=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===p?"":p;if(b<0){var i=I.formatPrefix(t,v);t=i.scale(t),e=i.symbol+x}else t*=b;var r,o,a=(t=m(t,v)).lastIndexOf(".");if(a<0){var s=k?t.lastIndexOf("e"):-1;o=s<0?(r=t,""):(r=t.substring(0,s),t.substring(s))}else r=t.substring(0,a),o=S+t.substring(a+1);!h&&g&&(r=C(r,1/0));var l=y.length+r.length+o.length+($?0:n.length),c=l<f?new Array(l=f-l+1).join(u):"";return $&&(r=C(c+r,c.length?f-o.length:1/0)),n+=y,t=r+o,("<"===d?n+t+c:">"===d?c+n+t:"^"===d?c.substring(0,l>>=1)+n+t+c.substring(l):n+($?t:c+t))+e}}),timeFormat:function(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths;function c(s){var l=s.length;function t(t){for(var e,n,i,r=[],o=-1,a=0;++o<l;)37===s.charCodeAt(o)&&(r.push(s.slice(a,o)),null!=(n=He[e=s.charAt(++o)])&&(e=s.charAt(++o)),(i=x[e])&&(e=i(t,null==n?"e"===e?" ":"0":n)),r.push(e),a=o+1);return r.push(s.slice(a,o)),r.join("")}return t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(u(e,s,t,0)!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var n=null!=e.Z&&Pe!==Ie,i=new(n?Ie:Pe);return"j"in e?i.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),i.setFullYear(e.y,0,1),i.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(i.getDay()+5)%7:e.w+7*e.U-(i.getDay()+6)%7)):i.setFullYear(e.y,e.m,e.d),i.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),n?i._:i},t.toString=function(){return s},t}function u(t,e,n,i){for(var r,o,a,s=0,l=e.length,c=n.length;s<l;){if(c<=i)return-1;if(37===(r=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=w[a in He?e.charAt(s++):a])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}c.multi=(c.utc=function(t){var n=c(t);function e(t){try{var e=new(Pe=Ie);return e._=t,n(e)}finally{Pe=Date}}return e.parse=function(t){try{Pe=Ie;var e=n.parse(t);return e&&e._}finally{Pe=Date}},e.toString=n.toString,e}).multi=an;var d=I.map(),p=Ue(o),h=je(o),f=Ue(a),g=je(a),v=Ue(s),m=je(s),b=Ue(l),y=je(l);r.forEach(function(t,e){d.set(t.toLowerCase(),e)});var x={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:c(e),d:function(t,e){return Re(t.getDate(),e,2)},e:function(t,e){return Re(t.getDate(),e,2)},H:function(t,e){return Re(t.getHours(),e,2)},I:function(t,e){return Re(t.getHours()%12||12,e,2)},j:function(t,e){return Re(1+Oe.dayOfYear(t),e,3)},L:function(t,e){return Re(t.getMilliseconds(),e,3)},m:function(t,e){return Re(t.getMonth()+1,e,2)},M:function(t,e){return Re(t.getMinutes(),e,2)},p:function(t){return r[+(12<=t.getHours())]},S:function(t,e){return Re(t.getSeconds(),e,2)},U:function(t,e){return Re(Oe.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Re(Oe.mondayOfYear(t),e,2)},x:c(n),X:c(i),y:function(t,e){return Re(t.getFullYear()%100,e,2)},Y:function(t,e){return Re(t.getFullYear()%1e4,e,4)},Z:rn,"%":function(){return"%"}},w={a:function(t,e,n){f.lastIndex=0;var i=f.exec(e.slice(n));return i?(t.w=g.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(t,e,n){p.lastIndex=0;var i=p.exec(e.slice(n));return i?(t.w=h.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(t,e,n){b.lastIndex=0;var i=b.exec(e.slice(n));return i?(t.m=y.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(t,e,n){v.lastIndex=0;var i=v.exec(e.slice(n));return i?(t.m=m.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(t,e,n){return u(t,x.c.toString(),e,n)},d:Ke,e:Ke,H:Je,I:Je,j:Qe,L:nn,m:Ze,M:tn,p:function(t,e,n){var i=d.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)},S:en,U:Be,w:qe,W:Ve,x:function(t,e,n){return u(t,x.x.toString(),e,n)},X:function(t,e,n){return u(t,x.X.toString(),e,n)},y:Xe,Y:Ye,Z:Ge,"%":on};return c}(t)};var e,S,s,l,i,C};var sn=I.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ln(){}I.format=sn.numberFormat,I.geo={},ln.prototype={s:0,t:0,add:function(t){un(t,this.t,cn),un(cn.s,this.s,this),this.s?this.t+=cn.t:this.s=cn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var cn=new ln;function un(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function dn(t,e){t&&hn.hasOwnProperty(t.type)&&hn[t.type](t,e)}I.geo.stream=function(t,e){t&&pn.hasOwnProperty(t.type)?pn[t.type](t,e):dn(t,e)};var pn={Feature:function(t,e){dn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)dn(n[i].geometry,e)}},hn={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){fn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)fn(n[i],e,0)},Polygon:function(t,e){gn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)gn(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)dn(n[i],e)}};function fn(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function gn(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)fn(t[n],e,1);e.polygonEnd()}I.geo.area=function(t){return vn=0,I.geo.stream(t,An),vn};var vn,mn,bn,yn,xn,wn,kn,$n,Sn,Cn,Mn,Tn,_n=new ln,An={sphere:function(){vn+=4*St},point:E,lineStart:E,lineEnd:E,polygonStart:function(){_n.reset(),An.lineStart=En},polygonEnd:function(){var t=2*_n;vn+=t<0?4*St+t:t,An.lineStart=An.lineEnd=An.point=E}};function En(){var n,i,u,d,p;function r(t,e){e=e*_t/2+St/4;var n=(t*=_t)-u,i=0<=n?1:-1,r=i*n,o=Math.cos(e),a=Math.sin(e),s=p*a,l=d*o+s*Math.cos(r),c=s*i*Math.sin(r);_n.add(Math.atan2(c,l)),u=t,d=o,p=a}An.point=function(t,e){An.point=r,u=(n=t)*_t,d=Math.cos(e=(i=e)*_t/2+St/4),p=Math.sin(e)},An.lineEnd=function(){r(n,i)}}function Dn(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function On(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Pn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function In(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function zn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Nn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ln(t){return[Math.atan2(t[1],t[0]),Pt(t[2])]}function Hn(t,e){return P(t[0]-e[0])<kt&&P(t[1]-e[1])<kt}I.geo.bounds=function(){var u,d,p,h,f,i,r,g,o,l,c,v={point:m,lineStart:t,lineEnd:e,polygonStart:function(){v.point=n,v.lineStart=s,v.lineEnd=b,o=0,An.polygonStart()},polygonEnd:function(){An.polygonEnd(),v.point=m,v.lineStart=t,v.lineEnd=e,_n<0?(u=-(p=180),d=-(h=90)):kt<o?h=90:o<-kt&&(d=-90),c[0]=u,c[1]=p}};function m(t,e){l.push(c=[u=t,p=t]),e<d&&(d=e),h<e&&(h=e)}function a(t,e){var n=Dn([t*_t,e*_t]);if(g){var i=Pn(g,n),r=Pn([i[1],-i[0],0],i);Nn(r),r=Ln(r);var o=t-f,a=0<o?1:-1,s=r[0]*At*a,l=180<P(o);if(l^(a*f<s&&s<a*t)){var c=r[1]*At;h<c&&(h=c)}else if(l^(a*f<(s=(s+360)%360-180)&&s<a*t)){(c=-r[1]*At)<d&&(d=c)}else e<d&&(d=e),h<e&&(h=e);l?t<f?y(u,t)>y(u,p)&&(p=t):y(t,p)>y(u,p)&&(u=t):u<=p?(t<u&&(u=t),p<t&&(p=t)):f<t?y(u,t)>y(u,p)&&(p=t):y(t,p)>y(u,p)&&(u=t)}else m(t,e);g=n,f=t}function t(){v.point=a}function e(){c[0]=u,c[1]=p,v.point=m,g=null}function n(t,e){if(g){var n=t-f;o+=180<P(n)?n+(0<n?360:-360):n}else i=t,r=e;An.point(t,e),a(t,e)}function s(){An.lineStart()}function b(){n(i,r),An.lineEnd(),P(o)>kt&&(u=-(p=180)),c[0]=u,c[1]=p,g=null}function y(t,e){return(e-=t)<0?e+360:e}function x(t,e){return t[0]-e[0]}function w(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(t){if(h=p=-(u=d=1/0),l=[],I.geo.stream(t,v),r=l.length){l.sort(x);for(var e=1,n=[s=l[0]];e<r;++e)w((o=l[e])[0],s)||w(o[1],s)?(y(s[0],o[1])>y(s[0],s[1])&&(s[1]=o[1]),y(o[0],s[1])>y(s[0],s[1])&&(s[0]=o[0])):n.push(s=o);for(var i,r,o,a=-1/0,s=(e=0,n[r=n.length-1]);e<=r;s=o,++e)o=n[e],(i=y(s[1],o[0]))>a&&(a=i,u=o[0],p=s[1])}return l=c=null,u===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[u,d],[p,h]]}}(),I.geo.centroid=function(t){mn=bn=yn=xn=wn=kn=$n=Sn=Cn=Mn=Tn=0,I.geo.stream(t,Wn);var e=Cn,n=Mn,i=Tn,r=e*e+n*n+i*i;return r<$t&&(e=kn,n=$n,i=Sn,bn<kt&&(e=yn,n=xn,i=wn),(r=e*e+n*n+i*i)<$t)?[NaN,NaN]:[Math.atan2(n,e)*At,Pt(i/Math.sqrt(r))*At]};var Wn={sphere:E,point:Fn,lineStart:Un,lineEnd:jn,polygonStart:function(){Wn.lineStart=qn},polygonEnd:function(){Wn.lineStart=Un}};function Fn(t,e){t*=_t;var n=Math.cos(e*=_t);Rn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Rn(t,e,n){yn+=(t-yn)/++mn,xn+=(e-xn)/mn,wn+=(n-wn)/mn}function Un(){var s,l,c;function i(t,e){t*=_t;var n=Math.cos(e*=_t),i=n*Math.cos(t),r=n*Math.sin(t),o=Math.sin(e),a=Math.atan2(Math.sqrt((a=l*o-c*r)*a+(a=c*i-s*o)*a+(a=s*r-l*i)*a),s*i+l*r+c*o);bn+=a,kn+=a*(s+(s=i)),$n+=a*(l+(l=r)),Sn+=a*(c+(c=o)),Rn(s,l,c)}Wn.point=function(t,e){t*=_t;var n=Math.cos(e*=_t);s=n*Math.cos(t),l=n*Math.sin(t),c=Math.sin(e),Wn.point=i,Rn(s,l,c)}}function jn(){Wn.point=Fn}function qn(){var i,r,h,f,g;function o(t,e){t*=_t;var n=Math.cos(e*=_t),i=n*Math.cos(t),r=n*Math.sin(t),o=Math.sin(e),a=f*o-g*r,s=g*i-h*o,l=h*r-f*i,c=Math.sqrt(a*a+s*s+l*l),u=h*i+f*r+g*o,d=c&&-Ot(u)/c,p=Math.atan2(c,u);Cn+=d*a,Mn+=d*s,Tn+=d*l,bn+=p,kn+=p*(h+(h=i)),$n+=p*(f+(f=r)),Sn+=p*(g+(g=o)),Rn(h,f,g)}Wn.point=function(t,e){i=t,r=e,Wn.point=o,t*=_t;var n=Math.cos(e*=_t);h=n*Math.cos(t),f=n*Math.sin(t),g=Math.sin(e),Rn(h,f,g)},Wn.lineEnd=function(){o(i,r),Wn.lineEnd=jn,Wn.point=Fn}}function Bn(n,i){function t(t,e){return t=n(t,e),i(t[0],t[1])}return n.invert&&i.invert&&(t.invert=function(t,e){return(t=i.invert(t,e))&&n.invert(t[0],t[1])}),t}function Vn(){return!0}function Yn(t,e,n,i,s){var l=[],c=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(Hn(n,i)){s.lineStart();for(var r=0;r<e;++r)s.point((n=t[r])[0],n[1]);s.lineEnd()}else{var o=new Gn(n,t,null,!0),a=new Gn(n,null,o,!1);o.o=a,l.push(o),c.push(a),a=new Gn(i,null,o=new Gn(i,t,null,!1),!0),o.o=a,l.push(o),c.push(a)}}}),c.sort(e),Xn(l),Xn(c),l.length){for(var r=0,o=n,a=c.length;r<a;++r)c[r].e=o=!o;for(var u,d,p=l[0];;){for(var h=p,f=!0;h.v;)if((h=h.n)===p)return;u=h.z,s.lineStart();do{if(h.v=h.o.v=!0,h.e){if(f)for(r=0,a=u.length;r<a;++r)s.point((d=u[r])[0],d[1]);else i(h.x,h.n.x,1,s);h=h.n}else{if(f)for(r=(u=h.p.z).length-1;0<=r;--r)s.point((d=u[r])[0],d[1]);else i(h.x,h.p.x,-1,s);h=h.p}u=(h=h.o).z,f=!f}while(!h.v);s.lineEnd()}}}function Xn(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Gn(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Zn(b,y,x,w){return function(i,a){var s,r=y(a),e=i.invert(w[0],w[1]),n={point:o,lineStart:l,lineEnd:c,polygonStart:function(){n.point=g,n.lineStart=v,n.lineEnd=m,s=[],u=[]},polygonEnd:function(){n.point=o,n.lineStart=l,n.lineEnd=c,s=I.merge(s);var t=function(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,a=0;_n.reset();for(var s=0,l=e.length;s<l;++s){var c=e[s],u=c.length;if(u)for(var d=c[0],p=d[0],h=d[1]/2+St/4,f=Math.sin(h),g=Math.cos(h),v=1;;){v===u&&(v=0);var m=(t=c[v])[0],b=t[1]/2+St/4,y=Math.sin(b),x=Math.cos(b),w=m-p,k=0<=w?1:-1,$=k*w,S=St<$,C=f*y;if(_n.add(Math.atan2(C*k*Math.sin($),g*x+C*Math.cos($))),o+=S?w+k*Ct:w,S^n<=p^n<=m){var M=Pn(Dn(d),Dn(t));Nn(M);var T=Pn(r,M);Nn(T);var _=(S^0<=w?-1:1)*Pt(T[2]);(_<i||i===_&&(M[0]||M[1]))&&(a+=S^0<=w?1:-1)}if(!v++)break;p=m,f=y,g=x,d=t}}return(o<-kt||o<kt&&_n<-kt)^1&a}(e,u);s.length?(f||(a.polygonStart(),f=!0),Yn(s,Jn,t,x,a)):t&&(f||(a.polygonStart(),f=!0),a.lineStart(),x(null,null,1,a),a.lineEnd()),f&&(a.polygonEnd(),f=!1),s=u=null},sphere:function(){a.polygonStart(),a.lineStart(),x(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function o(t,e){var n=i(t,e);b(t=n[0],e=n[1])&&a.point(t,e)}function t(t,e){var n=i(t,e);r.point(n[0],n[1])}function l(){n.point=t,r.lineStart()}function c(){n.point=o,r.lineEnd()}var u,d,p=Qn(),h=y(p),f=!1;function g(t,e){d.push([t,e]);var n=i(t,e);h.point(n[0],n[1])}function v(){h.lineStart(),d=[]}function m(){g(d[0][0],d[0][1]),h.lineEnd();var t,e=h.clean(),n=p.buffer(),i=n.length;if(d.pop(),u.push(d),d=null,i)if(1&e){var r,o=-1;if(0<(i=(t=n[0]).length-1)){for(f||(a.polygonStart(),f=!0),a.lineStart();++o<i;)a.point((r=t[o])[0],r[1]);a.lineEnd()}}else 1<i&&2&e&&n.push(n.pop().concat(n.shift())),s.push(n.filter(Kn))}return n}}function Kn(t){return 1<t.length}function Qn(){var n,e=[];return{lineStart:function(){e.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:E,buffer:function(){var t=e;return e=[],n=null,t},rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))}}}function Jn(t,e){return((t=t.x)[0]<0?t[1]-Tt-kt:Tt-t[1])-((e=e.x)[0]<0?e[1]-Tt-kt:Tt-e[1])}var ti=Zn(Vn,function(d){var p,h=NaN,f=NaN,g=NaN;return{lineStart:function(){d.lineStart(),p=1},point:function(t,e){var n,i,r,o,a,s,l,c=0<t?St:-St,u=P(t-h);P(u-St)<kt?(d.point(h,f=0<(f+e)/2?Tt:-Tt),d.point(g,f),d.lineEnd(),d.lineStart(),d.point(c,f),d.point(t,f),p=0):g!==c&&St<=u&&(P(h-g)<kt&&(h-=g*kt),P(t-c)<kt&&(t-=c*kt),n=h,i=f,r=t,o=e,l=Math.sin(n-r),f=P(l)>kt?Math.atan((Math.sin(i)*(s=Math.cos(o))*Math.sin(r)-Math.sin(o)*(a=Math.cos(i))*Math.sin(n))/(a*s*l)):(i+o)/2,d.point(g,f),d.lineEnd(),d.lineStart(),d.point(c,f),p=0),d.point(h=t,f=e),g=c},lineEnd:function(){d.lineEnd(),h=f=NaN},clean:function(){return 2-p}}},function(t,e,n,i){var r;if(null==t)r=n*Tt,i.point(-St,r),i.point(0,r),i.point(St,r),i.point(St,0),i.point(St,-r),i.point(0,-r),i.point(-St,-r),i.point(-St,0),i.point(-St,r);else if(P(t[0]-e[0])>kt){var o=t[0]<e[0]?St:-St;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])},[-St,-St/2]);function ei(u,d,p,h){return function(t){var e,n=t.a,i=t.b,r=n.x,o=n.y,a=0,s=1,l=i.x-r,c=i.y-o;if(e=u-r,l||!(0<e)){if(e/=l,l<0){if(e<a)return;e<s&&(s=e)}else if(0<l){if(s<e)return;a<e&&(a=e)}if(e=p-r,l||!(e<0)){if(e/=l,l<0){if(s<e)return;a<e&&(a=e)}else if(0<l){if(e<a)return;e<s&&(s=e)}if(e=d-o,c||!(0<e)){if(e/=c,c<0){if(e<a)return;e<s&&(s=e)}else if(0<c){if(s<e)return;a<e&&(a=e)}if(e=h-o,c||!(e<0)){if(e/=c,c<0){if(s<e)return;a<e&&(a=e)}else if(0<c){if(e<a)return;e<s&&(s=e)}return 0<a&&(t.a={x:r+a*l,y:o+a*c}),s<1&&(t.b={x:r+s*l,y:o+s*c}),t}}}}}}var ni=1e9;function ii(x,w,k,$){return function(r){var i,u,o,a,s,l,c,d,p,h,f,g=r,t=Qn(),v=ei(x,w,k,$),e={point:n,lineStart:function(){e.point=y,u&&u.push(o=[]);h=!0,p=!1,c=d=NaN},lineEnd:function(){i&&(y(a,s),l&&p&&t.rejoin(),i.push(t.buffer()));e.point=n,p&&r.lineEnd()},polygonStart:function(){r=t,i=[],u=[],f=!0},polygonEnd:function(){r=g,i=I.merge(i);var t=function(t){for(var e=0,n=u.length,i=t[1],r=0;r<n;++r)for(var o,a=1,s=u[r],l=s.length,c=s[0];a<l;++a)o=s[a],c[1]<=i?o[1]>i&&0<Dt(c,o,t)&&++e:o[1]<=i&&Dt(c,o,t)<0&&--e,c=o;return 0!==e}([x,$]),e=f&&t,n=i.length;(e||n)&&(r.polygonStart(),e&&(r.lineStart(),m(null,null,1,r),r.lineEnd()),n&&Yn(i,C,t,m,r),r.polygonEnd()),i=u=o=null}};function m(t,e,n,i){var r=0,o=0;if(null==t||(r=S(t,n))!==(o=S(e,n))||M(t,e)<0^0<n)for(;i.point(0===r||3===r?x:k,1<r?$:w),(r=(r+n+4)%4)!==o;);else i.point(e[0],e[1])}function b(t,e){return x<=t&&t<=k&&w<=e&&e<=$}function n(t,e){b(t,e)&&r.point(t,e)}function y(t,e){var n=b(t=Math.max(-ni,Math.min(ni,t)),e=Math.max(-ni,Math.min(ni,e)));if(u&&o.push([t,e]),h)a=t,s=e,h=!1,(l=n)&&(r.lineStart(),r.point(t,e));else if(n&&p)r.point(t,e);else{var i={a:{x:c,y:d},b:{x:t,y:e}};v(i)?(p||(r.lineStart(),r.point(i.a.x,i.a.y)),r.point(i.b.x,i.b.y),n||r.lineEnd(),f=!1):n&&(r.lineStart(),r.point(t,e),f=!1)}c=t,d=e,p=n}return e};function S(t,e){return P(t[0]-x)<kt?0<e?0:3:P(t[0]-k)<kt?0<e?2:1:P(t[1]-w)<kt?0<e?1:0:0<e?3:2}function C(t,e){return M(t.x,e.x)}function M(t,e){var n=S(t,1),i=S(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function ri(t){var e=0,n=St/3,i=_i(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*St/180,n=t[1]*St/180):[e/St*180,n/St*180]},r}function oi(t,e){var n=Math.sin(t),i=(n+Math.sin(e))/2,r=1+n*(2*i-n),o=Math.sqrt(r)/i;function a(t,e){var n=Math.sqrt(r-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),o-n*Math.cos(t)]}return a.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,Pt((r-(t*t+n*n)*i*i)/(2*i))]},a}I.geo.clipExtent=function(){var e,n,i,r,o,a,s={stream:function(t){return o&&(o.valid=!1),(o=a(t)).valid=!0,o},extent:function(t){return arguments.length?(a=ii(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),o&&(o.valid=!1,o=null),s):[[e,n],[i,r]]}};return s.extent([[0,0],[960,500]])},(I.geo.conicEqualArea=function(){return ri(oi)}).raw=oi,I.geo.albers=function(){return I.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},I.geo.albersUsa=function(){var i,r,o,a,s=I.geo.albers(),l=I.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=I.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,e){i=[t,e]}};function d(t){var e=t[0],n=t[1];return i=null,r(e,n),i||(o(e,n),i)||a(e,n),i}return d.invert=function(t){var e=s.scale(),n=s.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(.12<=r&&r<.234&&-.425<=i&&i<-.214?l:.166<=r&&r<.234&&-.214<=i&&i<-.115?c:s).invert(t)},d.stream=function(t){var n=s.stream(t),i=l.stream(t),r=c.stream(t);return{point:function(t,e){n.point(t,e),i.point(t,e),r.point(t,e)},sphere:function(){n.sphere(),i.sphere(),r.sphere()},lineStart:function(){n.lineStart(),i.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),i.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),i.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),i.polygonEnd(),r.polygonEnd()}}},d.precision=function(t){return arguments.length?(s.precision(t),l.precision(t),c.precision(t),d):s.precision()},d.scale=function(t){return arguments.length?(s.scale(t),l.scale(.35*t),c.scale(t),d.translate(s.translate())):s.scale()},d.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),n=+t[0],i=+t[1];return r=s.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(u).point,o=l.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+kt,i+.12*e+kt],[n-.214*e-kt,i+.234*e-kt]]).stream(u).point,a=c.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+kt,i+.166*e+kt],[n-.115*e-kt,i+.234*e-kt]]).stream(u).point,d},d.scale(1070)};var ai,si,li,ci,ui,di,pi={point:E,lineStart:E,lineEnd:E,polygonStart:function(){si=0,pi.lineStart=hi},polygonEnd:function(){pi.lineStart=pi.lineEnd=pi.point=E,ai+=P(si/2)}};function hi(){var n,i,r,o;function a(t,e){si+=o*t-r*e,r=t,o=e}pi.point=function(t,e){pi.point=a,n=r=t,i=o=e},pi.lineEnd=function(){a(n,i)}}var fi={point:function(t,e){t<li&&(li=t);ui<t&&(ui=t);e<ci&&(ci=e);di<e&&(di=e)},lineStart:E,lineEnd:E,polygonStart:E,polygonEnd:E};function gi(){var n=vi(4.5),i=[],r={point:t,lineStart:function(){r.point=e},lineEnd:a,polygonStart:function(){r.lineEnd=s},polygonEnd:function(){r.lineEnd=a,r.point=t},pointRadius:function(t){return n=vi(t),r},result:function(){if(i.length){var t=i.join("");return i=[],t}}};function t(t,e){i.push("M",t,",",e,n)}function e(t,e){i.push("M",t,",",e),r.point=o}function o(t,e){i.push("L",t,",",e)}function a(){r.point=t}function s(){i.push("Z")}return r}function vi(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var mi,bi={point:yi,lineStart:xi,lineEnd:wi,polygonStart:function(){bi.lineStart=ki},polygonEnd:function(){bi.point=yi,bi.lineStart=xi,bi.lineEnd=wi}};function yi(t,e){yn+=t,xn+=e,++wn}function xi(){var o,a;function n(t,e){var n=t-o,i=e-a,r=Math.sqrt(n*n+i*i);kn+=r*(o+t)/2,$n+=r*(a+e)/2,Sn+=r,yi(o=t,a=e)}bi.point=function(t,e){bi.point=n,yi(o=t,a=e)}}function wi(){bi.point=yi}function ki(){var n,i,o,a;function r(t,e){var n=t-o,i=e-a,r=Math.sqrt(n*n+i*i);kn+=r*(o+t)/2,$n+=r*(a+e)/2,Sn+=r,Cn+=(r=a*t-o*e)*(o+t),Mn+=r*(a+e),Tn+=3*r,yi(o=t,a=e)}bi.point=function(t,e){bi.point=r,yi(n=o=t,i=a=e)},bi.lineEnd=function(){r(n,i)}}function $i(n){var i=4.5,r={point:t,lineStart:function(){r.point=e},lineEnd:a,polygonStart:function(){r.lineEnd=s},polygonEnd:function(){r.lineEnd=a,r.point=t},pointRadius:function(t){return i=t,r},result:E};function t(t,e){n.moveTo(t+i,e),n.arc(t,e,i,0,Ct)}function e(t,e){n.moveTo(t,e),r.point=o}function o(t,e){n.lineTo(t,e)}function a(){r.point=t}function s(){n.closePath()}return r}function Si(A){var E=.5,D=Math.cos(30*_t),w=16;function e(t){return(w?function(r){var n,i,o,a,s,l,c,u,d,p,h,f,g={point:t,lineStart:e,lineEnd:m,polygonStart:function(){r.polygonStart(),g.lineStart=b},polygonEnd:function(){r.polygonEnd(),g.lineStart=e}};function t(t,e){t=A(t,e),r.point(t[0],t[1])}function e(){u=NaN,g.point=v,r.lineStart()}function v(t,e){var n=Dn([t,e]),i=A(t,e);O(u,d,c,p,h,f,u=i[0],d=i[1],c=t,p=n[0],h=n[1],f=n[2],w,r),r.point(u,d)}function m(){g.point=t,r.lineEnd()}function b(){e(),g.point=y,g.lineEnd=x}function y(t,e){v(n=t,e),i=u,o=d,a=p,s=h,l=f,g.point=v}function x(){O(u,d,c,p,h,f,i,o,n,a,s,l,w,r),(g.lineEnd=m)()}return g}:function(n){return Mi(n,function(t,e){t=A(t,e),n.point(t[0],t[1])})})(t)}function O(t,e,n,i,r,o,a,s,l,c,u,d,p,h){var f=a-t,g=s-e,v=f*f+g*g;if(4*E<v&&p--){var m=i+c,b=r+u,y=o+d,x=Math.sqrt(m*m+b*b+y*y),w=Math.asin(y/=x),k=P(P(y)-1)<kt||P(n-l)<kt?(n+l)/2:Math.atan2(b,m),$=A(k,w),S=$[0],C=$[1],M=S-t,T=C-e,_=g*M-f*T;(E<_*_/v||.3<P((f*M+g*T)/v-.5)||i*c+r*u+o*d<D)&&(O(t,e,n,i,r,o,S,C,k,m/=x,b/=x,y,p,h),h.point(S,C),O(S,C,k,m,b,y,a,s,l,c,u,d,p,h))}}return e.precision=function(t){return arguments.length?(w=0<(E=t*t)&&16,e):Math.sqrt(E)},e}function Ci(t){this.stream=t}function Mi(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Ti(t){return _i(function(){return t})()}function _i(t){var n,e,i,r,o,a,s=Si(function(t,e){return[(t=n(t,e))[0]*l+r,o-t[1]*l]}),l=150,c=480,u=250,d=0,p=0,h=0,f=0,g=0,v=ti,m=N,b=null,y=null;function x(t){return[(t=i(t[0]*_t,t[1]*_t))[0]*l+r,o-t[1]*l]}function w(t){return(t=i.invert((t[0]-r)/l,(o-t[1])/l))&&[t[0]*At,t[1]*At]}function k(){i=Bn(e=Oi(h,f,g),n);var t=n(d,p);return r=c-t[0]*l,o=u+t[1]*l,$()}function $(){return a&&(a.valid=!1,a=null),x}return x.stream=function(t){return a&&(a.valid=!1),(a=Ai(v(e,s(m(t))))).valid=!0,a},x.clipAngle=function(t){return arguments.length?(v=null==t?(b=t,ti):function(r){var M=Math.cos(r),h=0<M,f=P(M)>kt;return Zn(g,function(s){var l,c,u,d,p;return{lineStart:function(){d=u=!1,p=1},point:function(t,e){var n,i=[t,e],r=g(t,e),o=h?r?0:m(t,e):r?m(t+(t<0?St:-St),e):0;if(!l&&(d=u=r)&&s.lineStart(),r!==u&&(n=v(l,i),(Hn(l,n)||Hn(i,n))&&(i[0]+=kt,i[1]+=kt,r=g(i[0],i[1]))),r!==u)p=0,r?(s.lineStart(),n=v(i,l),s.point(n[0],n[1])):(n=v(l,i),s.point(n[0],n[1]),s.lineEnd()),l=n;else if(f&&l&&h^r){var a;o&c||!(a=v(i,l,!0))||(p=0,h?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!r||l&&Hn(l,i)||s.point(i[0],i[1]),l=i,u=r,c=o},lineEnd:function(){u&&s.lineEnd(),l=null},clean:function(){return p|(d&&u)<<1}}},Ni(r,6*_t),h?[0,-r]:[-St,r-St]);function g(t,e){return Math.cos(t)*Math.cos(e)>M}function v(t,e,n){var i=[1,0,0],r=Pn(Dn(t),Dn(e)),o=On(r,r),a=r[0],s=o-a*a;if(!s)return!n&&t;var l=M*o/s,c=-M*a/s,u=Pn(i,r),d=zn(i,l);In(d,zn(r,c));var p=u,h=On(d,p),f=On(p,p),g=h*h-f*(On(d,d)-1);if(!(g<0)){var v=Math.sqrt(g),m=zn(p,(-h-v)/f);if(In(m,d),m=Ln(m),!n)return m;var b,y=t[0],x=e[0],w=t[1],k=e[1];x<y&&(b=y,y=x,x=b);var $=x-y,S=P($-St)<kt;if(!S&&k<w&&(b=w,w=k,k=b),S||$<kt?S?0<w+k^m[1]<(P(m[0]-y)<kt?w:k):w<=m[1]&&m[1]<=k:St<$^(y<=m[0]&&m[0]<=x)){var C=zn(p,(-h+v)/f);return In(C,d),[m,Ln(C)]}}}function m(t,e){var n=h?r:St-r,i=0;return t<-n?i|=1:n<t&&(i|=2),e<-n?i|=4:n<e&&(i|=8),i}}((b=+t)*_t),$()):b},x.clipExtent=function(t){return arguments.length?(m=(y=t)?ii(t[0][0],t[0][1],t[1][0],t[1][1]):N,$()):y},x.scale=function(t){return arguments.length?(l=+t,k()):l},x.translate=function(t){return arguments.length?(c=+t[0],u=+t[1],k()):[c,u]},x.center=function(t){return arguments.length?(d=t[0]%360*_t,p=t[1]%360*_t,k()):[d*At,p*At]},x.rotate=function(t){return arguments.length?(h=t[0]%360*_t,f=t[1]%360*_t,g=2<t.length?t[2]%360*_t:0,k()):[h*At,f*At,g*At]},I.rebind(x,s,"precision"),function(){return n=t.apply(this,arguments),x.invert=n.invert&&w,k()}}function Ai(n){return Mi(n,function(t,e){n.point(t*_t,e*_t)})}function Ei(t,e){return[t,e]}function Di(t,e){return[St<t?t-Ct:t<-St?t+Ct:t,e]}function Oi(t,e,n){return t?e||n?Bn(Ii(t),zi(e,n)):Ii(t):e||n?zi(e,n):Di}function Pi(n){return function(t,e){return[St<(t+=n)?t-Ct:t<-St?t+Ct:t,e]}}function Ii(t){var e=Pi(t);return e.invert=Pi(-t),e}function zi(t,e){var s=Math.cos(t),l=Math.sin(t),c=Math.cos(e),u=Math.sin(e);function n(t,e){var n=Math.cos(e),i=Math.cos(t)*n,r=Math.sin(t)*n,o=Math.sin(e),a=o*s+i*l;return[Math.atan2(r*c-a*u,i*s-o*l),Pt(a*c+r*u)]}return n.invert=function(t,e){var n=Math.cos(e),i=Math.cos(t)*n,r=Math.sin(t)*n,o=Math.sin(e),a=o*c-r*u;return[Math.atan2(r*c+o*u,i*s+a*l),Pt(a*s-i*l)]},n}function Ni(s,l){var c=Math.cos(s),u=Math.sin(s);return function(t,e,n,i){var r=n*l;null!=t?(t=Li(c,t),e=Li(c,e),(0<n?t<e:e<t)&&(t+=n*Ct)):(t=s+n*Ct,e=s-.5*r);for(var o,a=t;0<n?e<a:a<e;a-=r)i.point((o=Ln([c,-u*Math.cos(a),-u*Math.sin(a)]))[0],o[1])}}function Li(t,e){var n=Dn(e);n[0]-=t,Nn(n);var i=Ot(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-kt)%(2*Math.PI)}function Hi(t,e,n){var i=I.range(t,e-kt,n).concat(e);return function(e){return i.map(function(t){return[e,t]})}}function Wi(t,e,n){var i=I.range(t,e-kt,n).concat(e);return function(e){return i.map(function(t){return[t,e]})}}function Fi(t){return t.source}function Ri(t){return t.target}I.geo.path=function(){var i,e,r,n,o,a=4.5;function s(t){return t&&("function"==typeof a&&n.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=r(n)),I.geo.stream(t,o)),n.result()}function l(){return o=null,s}return s.area=function(t){return ai=0,I.geo.stream(t,r(pi)),ai},s.centroid=function(t){return yn=xn=wn=kn=$n=Sn=Cn=Mn=Tn=0,I.geo.stream(t,r(bi)),Tn?[Cn/Tn,Mn/Tn]:Sn?[kn/Sn,$n/Sn]:wn?[yn/wn,xn/wn]:[NaN,NaN]},s.bounds=function(t){return ui=di=-(li=ci=1/0),I.geo.stream(t,r(fi)),[[li,ci],[ui,di]]},s.projection=function(t){return arguments.length?(r=(i=t)?t.stream||(n=t,e=Si(function(t,e){return n([t*At,e*At])}),function(t){return Ai(e(t))}):N,l()):i;var n,e},s.context=function(t){return arguments.length?(n=null==(e=t)?new gi:new $i(t),"function"!=typeof a&&n.pointRadius(a),l()):e},s.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(n.pointRadius(+t),+t),s):a},s.projection(I.geo.albersUsa()).context(null)},I.geo.transform=function(i){return{stream:function(t){var e=new Ci(t);for(var n in i)e[n]=i[n];return e}}},Ci.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},I.geo.projection=Ti,I.geo.projectionMutator=_i,(I.geo.equirectangular=function(){return Ti(Ei)}).raw=Ei.invert=Ei,I.geo.rotation=function(e){function t(t){return(t=e(t[0]*_t,t[1]*_t))[0]*=At,t[1]*=At,t}return e=Oi(e[0]%360*_t,e[1]*_t,2<e.length?e[2]*_t:0),t.invert=function(t){return(t=e.invert(t[0]*_t,t[1]*_t))[0]*=At,t[1]*=At,t},t},Di.invert=Ei,I.geo.circle=function(){var e,r,o=[0,0],n=6;function i(){var t="function"==typeof o?o.apply(this,arguments):o,n=Oi(-t[0]*_t,-t[1]*_t,0).invert,i=[];return r(null,null,1,{point:function(t,e){i.push(t=n(t,e)),t[0]*=At,t[1]*=At}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(t){return arguments.length?(o=t,i):o},i.angle=function(t){return arguments.length?(r=Ni((e=+t)*_t,n*_t),i):e},i.precision=function(t){return arguments.length?(r=Ni(e*_t,(n=+t)*_t),i):n},i.angle(90)},I.geo.distance=function(t,e){var n,i=(e[0]-t[0])*_t,r=t[1]*_t,o=e[1]*_t,a=Math.sin(i),s=Math.cos(i),l=Math.sin(r),c=Math.cos(r),u=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*a)*n+(n=c*u-l*d*s)*n),l*u+c*d*s)},I.geo.graticule=function(){var e,n,i,r,o,a,s,l,c,u,d,p,h=10,f=h,g=90,v=360,m=2.5;function b(){return{type:"MultiLineString",coordinates:t()}}function t(){return I.range(Math.ceil(r/g)*g,i,g).map(d).concat(I.range(Math.ceil(l/v)*v,s,v).map(p)).concat(I.range(Math.ceil(n/h)*h,e,h).filter(function(t){return P(t%g)>kt}).map(c)).concat(I.range(Math.ceil(a/f)*f,o,f).filter(function(t){return P(t%v)>kt}).map(u))}return b.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},b.outline=function(){return{type:"Polygon",coordinates:[d(r).concat(p(s).slice(1),d(i).reverse().slice(1),p(l).reverse().slice(1))]}},b.extent=function(t){return arguments.length?b.majorExtent(t).minorExtent(t):b.minorExtent()},b.majorExtent=function(t){return arguments.length?(r=+t[0][0],i=+t[1][0],l=+t[0][1],s=+t[1][1],i<r&&(t=r,r=i,i=t),s<l&&(t=l,l=s,s=t),b.precision(m)):[[r,l],[i,s]]},b.minorExtent=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],e<n&&(t=n,n=e,e=t),o<a&&(t=a,a=o,o=t),b.precision(m)):[[n,a],[e,o]]},b.step=function(t){return arguments.length?b.majorStep(t).minorStep(t):b.minorStep()},b.majorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],b):[g,v]},b.minorStep=function(t){return arguments.length?(h=+t[0],f=+t[1],b):[h,f]},b.precision=function(t){return arguments.length?(m=+t,c=Hi(a,o,90),u=Wi(n,e,m),d=Hi(l,s,90),p=Wi(r,i,m),b):m},b.majorExtent([[-180,-90+kt],[180,90-kt]]).minorExtent([[-180,-80-kt],[180,80+kt]])},I.geo.greatArc=function(){var e,n,i=Fi,r=Ri;function o(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}return o.distance=function(){return I.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},o.source=function(t){return arguments.length?(e="function"==typeof(i=t)?null:t,o):i},o.target=function(t){return arguments.length?(n="function"==typeof(r=t)?null:t,o):r},o.precision=function(){return arguments.length?o:0},o},I.geo.interpolate=function(t,e){return n=t[0]*_t,i=t[1]*_t,r=e[0]*_t,o=e[1]*_t,a=Math.cos(i),s=Math.sin(i),l=Math.cos(o),c=Math.sin(o),u=a*Math.cos(n),d=a*Math.sin(n),p=l*Math.cos(r),h=l*Math.sin(r),f=2*Math.asin(Math.sqrt(zt(o-i)+a*l*zt(r-n))),g=1/Math.sin(f),(v=f?function(t){var e=Math.sin(t*=f)*g,n=Math.sin(f-t)*g,i=n*u+e*p,r=n*d+e*h,o=n*s+e*c;return[Math.atan2(r,i)*At,Math.atan2(o,Math.sqrt(i*i+r*r))*At]}:function(){return[n*At,i*At]}).distance=f,v;var n,i,r,o,a,s,l,c,u,d,p,h,f,g,v},I.geo.length=function(t){return mi=0,I.geo.stream(t,Ui),mi};var Ui={sphere:E,point:E,lineStart:function(){var a,s,l;function n(t,e){var n=Math.sin(e*=_t),i=Math.cos(e),r=P((t*=_t)-a),o=Math.cos(r);mi+=Math.atan2(Math.sqrt((r=i*Math.sin(r))*r+(r=l*n-s*i*o)*r),s*n+l*i*o),a=t,s=n,l=i}Ui.point=function(t,e){a=t*_t,s=Math.sin(e*=_t),l=Math.cos(e),Ui.point=n},Ui.lineEnd=function(){Ui.point=Ui.lineEnd=E}},lineEnd:E,polygonStart:E,polygonEnd:E};function ji(o,a){function t(t,e){var n=Math.cos(t),i=Math.cos(e),r=o(n*i);return[r*i*Math.sin(t),r*Math.sin(e)]}return t.invert=function(t,e){var n=Math.sqrt(t*t+e*e),i=a(n),r=Math.sin(i),o=Math.cos(i);return[Math.atan2(t*r,n*o),Math.asin(n&&e*r/n)]},t}var qi=ji(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(I.geo.azimuthalEqualArea=function(){return Ti(qi)}).raw=qi;var Bi=ji(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},N);function Vi(t,e){var n=Math.cos(t),i=function(t){return Math.tan(St/4+t/2)},r=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(i(e)/i(t)),o=n*Math.pow(i(t),r)/r;if(!r)return Gi;function a(t,e){0<o?e<-Tt+kt&&(e=-Tt+kt):Tt-kt<e&&(e=Tt-kt);var n=o/Math.pow(i(e),r);return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}return a.invert=function(t,e){var n=o-e,i=Et(r)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/r,2*Math.atan(Math.pow(o/i,1/r))-Tt]},a}function Yi(t,e){var n=Math.cos(t),i=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),r=n/i+t;if(P(i)<kt)return Ei;function o(t,e){var n=r-e;return[n*Math.sin(i*t),r-n*Math.cos(i*t)]}return o.invert=function(t,e){var n=r-e;return[Math.atan2(t,n)/i,r-Et(i)*Math.sqrt(t*t+n*n)]},o}(I.geo.azimuthalEquidistant=function(){return Ti(Bi)}).raw=Bi,(I.geo.conicConformal=function(){return ri(Vi)}).raw=Vi,(I.geo.conicEquidistant=function(){return ri(Yi)}).raw=Yi;var Xi=ji(function(t){return 1/t},Math.atan);function Gi(t,e){return[t,Math.log(Math.tan(St/4+e/2))]}function Zi(t){var r,o=Ti(t),a=o.scale,s=o.translate,l=o.clipExtent;return o.scale=function(){var t=a.apply(o,arguments);return t===o?r?o.clipExtent(null):o:t},o.translate=function(){var t=s.apply(o,arguments);return t===o?r?o.clipExtent(null):o:t},o.clipExtent=function(t){var e=l.apply(o,arguments);if(e===o){if(r=null==t){var n=St*a(),i=s();l([[i[0]-n,i[1]-n],[i[0]+n,i[1]+n]])}}else r&&(e=null);return e},o.clipExtent(null)}(I.geo.gnomonic=function(){return Ti(Xi)}).raw=Xi,Gi.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Tt]},(I.geo.mercator=function(){return Zi(Gi)}).raw=Gi;var Ki=ji(function(){return 1},Math.asin);(I.geo.orthographic=function(){return Ti(Ki)}).raw=Ki;var Qi=ji(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function Ji(t,e){return[Math.log(Math.tan(St/4+e/2)),-t]}function tr(t){return t[0]}function er(t){return t[1]}function nr(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;r++){for(;1<i&&Dt(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function ir(t,e){return t[0]-e[0]||t[1]-e[1]}(I.geo.stereographic=function(){return Ti(Qi)}).raw=Qi,Ji.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Tt]},(I.geo.transverseMercator=function(){var t=Zi(Ji),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=Ji,I.geom={},I.geom.hull=function(t){var p=tr,h=er;if(arguments.length)return e(t);function e(t){if(t.length<3)return[];var e,n=ge(p),i=ge(h),r=t.length,o=[],a=[];for(e=0;e<r;e++)o.push([+n.call(this,t[e],e),+i.call(this,t[e],e),e]);for(o.sort(ir),e=0;e<r;e++)a.push([o[e][0],-o[e][1]]);var s=nr(o),l=nr(a),c=l[0]===s[0],u=l[l.length-1]===s[s.length-1],d=[];for(e=s.length-1;0<=e;--e)d.push(t[o[s[e]][2]]);for(e=+c;e<l.length-u;++e)d.push(t[o[l[e]][2]]);return d}return e.x=function(t){return arguments.length?(p=t,e):p},e.y=function(t){return arguments.length?(h=t,e):h},e},I.geom.polygon=function(t){return R(t,rr),t};var rr=I.geom.polygon.prototype=[];function or(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function ar(t,e,n,i){var r=t[0],o=n[0],a=e[0]-r,s=i[0]-o,l=t[1],c=n[1],u=e[1]-l,d=i[1]-c,p=(s*(l-c)-d*(r-o))/(d*a-s*u);return[r+p*a,l+p*u]}function sr(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}rr.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},rr.centroid=function(t){var e,n,i=-1,r=this.length,o=0,a=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},rr.clip=function(t){for(var e,n,i,r,o,a,s=sr(t),l=-1,c=this.length-sr(this),u=this[c-1];++l<c;){for(e=t.slice(),t.length=0,r=this[l],o=e[(i=e.length-s)-1],n=-1;++n<i;)or(a=e[n],u,r)?(or(o,u,r)||t.push(ar(o,a,u,r)),t.push(a)):or(o,u,r)&&t.push(ar(o,a,u,r)),o=a;s&&t.push(t[0]),u=r}return t};var lr,cr,ur,dr,pr,hr=[],fr=[];function gr(){Pr(this),this.edge=this.site=this.circle=null}function vr(t){var e=hr.pop()||new gr;return e.site=t,e}function mr(t){Mr(t),ur.remove(t),hr.push(t),Pr(t)}function br(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},o=t.P,a=t.N,s=[t];mr(t);for(var l=o;l.circle&&P(n-l.circle.x)<kt&&P(i-l.circle.cy)<kt;)o=l.P,s.unshift(l),mr(l),l=o;s.unshift(l),Mr(l);for(var c=a;c.circle&&P(n-c.circle.x)<kt&&P(i-c.circle.cy)<kt;)a=c.N,s.push(c),mr(c),c=a;s.push(c),Mr(c);var u,d=s.length;for(u=1;u<d;++u)c=s[u],l=s[u-1],Er(c.edge,l.site,c.site,r);l=s[0],(c=s[d-1]).edge=Ar(l.site,c.site,null,r),Cr(l),Cr(c)}function yr(t){for(var e,n,i,r,o=t.x,a=t.y,s=ur._;s;)if(i=xr(s,a)-o,kt<i)s=s.L;else{if(r=o-wr(s,a),!(kt<r)){-kt<i?(e=s.P,n=s):-kt<r?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=vr(t);if(ur.insert(e,l),e||n){if(e===n)return Mr(e),n=vr(e.site),ur.insert(l,n),l.edge=n.edge=Ar(e.site,l.site),Cr(e),void Cr(n);if(n){Mr(e),Mr(n);var c=e.site,u=c.x,d=c.y,p=t.x-u,h=t.y-d,f=n.site,g=f.x-u,v=f.y-d,m=2*(p*v-h*g),b=p*p+h*h,y=g*g+v*v,x={x:(v*b-h*y)/m+u,y:(p*y-g*b)/m+d};Er(n.edge,c,f,x),l.edge=Ar(c,t,null,x),n.edge=Ar(t,f,null,x),Cr(e),Cr(n)}else l.edge=Ar(e.site,l.site)}}function xr(t,e){var n=t.site,i=n.x,r=n.y,o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,l=n.y,c=l-e;if(!c)return s;var u=s-i,d=1/o-1/c,p=u/c;return d?(-p+Math.sqrt(p*p-2*d*(u*u/(-2*c)-l+c/2+r-o/2)))/d+i:(i+s)/2}function wr(t,e){var n=t.N;if(n)return xr(n,e);var i=t.site;return i.y===e?i.x:1/0}function kr(t){this.site=t,this.edges=[]}function $r(t,e){return e.angle-t.angle}function Sr(){Pr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Cr(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r.x,s=r.y,l=i.x-a,c=i.y-s,u=o.x-a,d=2*(l*(v=o.y-s)-c*u);if(!(-$t<=d)){var p=l*l+c*c,h=u*u+v*v,f=(v*p-c*h)/d,g=(l*h-u*p)/d,v=g+s,m=fr.pop()||new Sr;m.arc=t,m.site=r,m.x=f+a,m.y=v+Math.sqrt(f*f+g*g),m.cy=v,t.circle=m;for(var b=null,y=pr._;y;)if(m.y<y.y||m.y===y.y&&m.x<=y.x){if(!y.L){b=y.P;break}y=y.L}else{if(!y.R){b=y;break}y=y.R}pr.insert(b,m),b||(dr=m)}}}}function Mr(t){var e=t.circle;e&&(e.P||(dr=e.N),pr.remove(e),fr.push(e),Pr(e),t.circle=null)}function Tr(t,e){var n=t.b;if(n)return!0;var i,r,o=t.a,a=e[0][0],s=e[1][0],l=e[0][1],c=e[1][1],u=t.l,d=t.r,p=u.x,h=u.y,f=d.x,g=d.y,v=(p+f)/2,m=(h+g)/2;if(g===h){if(v<a||s<=v)return;if(f<p){if(o){if(o.y>=c)return}else o={x:v,y:l};n={x:v,y:c}}else{if(o){if(o.y<l)return}else o={x:v,y:c};n={x:v,y:l}}}else if(r=m-(i=(p-f)/(g-h))*v,i<-1||1<i)if(f<p){if(o){if(o.y>=c)return}else o={x:(l-r)/i,y:l};n={x:(c-r)/i,y:c}}else{if(o){if(o.y<l)return}else o={x:(c-r)/i,y:c};n={x:(l-r)/i,y:l}}else if(h<g){if(o){if(o.x>=s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}else{if(o){if(o.x<a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}return t.a=o,t.b=n,!0}function _r(t,e){this.l=t,this.r=e,this.a=this.b=null}function Ar(t,e,n,i){var r=new _r(t,e);return lr.push(r),n&&Er(r,t,e,n),i&&Er(r,e,t,i),cr[t.i].edges.push(new Dr(r,t,e)),cr[e.i].edges.push(new Dr(r,e,t)),r}function Er(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function Dr(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function Or(){this._=null}function Pr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ir(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function zr(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Nr(t){for(;t.L;)t=t.L;return t}function Lr(t,e){var n,i,r,o=t.sort(Hr).pop();for(lr=[],cr=new Array(t.length),ur=new Or,pr=new Or;;)if(r=dr,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(cr[o.i]=new kr(o),yr(o),n=o.x,i=o.y),o=t.pop();else{if(!r)break;br(r.arc)}e&&(function(t){for(var e,n=lr,i=ei(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)(!Tr(e=n[r],t)||!i(e)||P(e.a.x-e.b.x)<kt&&P(e.a.y-e.b.y)<kt)&&(e.a=e.b=null,n.splice(r,1))}(e),function(t){for(var e,n,i,r,o,a,s,l,c,u,d=t[0][0],p=t[1][0],h=t[0][1],f=t[1][1],g=cr,v=g.length;v--;)if((o=g[v])&&o.prepare())for(l=(s=o.edges).length,a=0;a<l;)i=(u=s[a].end()).x,r=u.y,e=(c=s[++a%l].start()).x,n=c.y,(P(i-e)>kt||P(r-n)>kt)&&(s.splice(a,0,new Dr((m=o.site,b=u,y=P(i-d)<kt&&kt<f-r?{x:d,y:P(e-d)<kt?n:f}:P(r-f)<kt&&kt<p-i?{x:P(n-f)<kt?e:p,y:f}:P(i-p)<kt&&kt<r-h?{x:p,y:P(e-p)<kt?n:h}:P(r-h)<kt&&kt<i-d?{x:P(n-h)<kt?e:d,y:h}:null,x=void 0,x=new _r(m,null),x.a=b,x.b=y,lr.push(x),x),o.site,null)),++l);var m,b,y,x}(e));var a={cells:cr,edges:lr};return ur=pr=lr=cr=null,a}function Hr(t,e){return e.y-t.y||e.x-t.x}kr.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort($r),e.length},Dr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Or.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else n=this._?(t=Nr(this._),e.P=null,(e.N=t).P=t.L=e,t):(e.P=e.N=null,this._=e,null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(Ir(this,n),n=(t=n).U),n.C=!1,i.C=!0,zr(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(zr(this,n),n=(t=n).U),n.C=!1,i.C=!0,Ir(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?Nr(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,((n.L=o).U=n)!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,(n.R=a).U=n):(n.U=r,t=(r=n).R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,Ir(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,zr(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,Ir(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,zr(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ir(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,zr(this,r),t=this._;break}e.C=!0,r=(t=r).U}while(!t.C);t&&(t.C=!1)}}},I.geom.voronoi=function(t){var e=tr,n=er,i=e,r=n,u=Wr;if(t)return o(t);function o(r){var o=new Array(r.length),a=u[0][0],s=u[0][1],l=u[1][0],c=u[1][1];return Lr(d(r),u).cells.forEach(function(t,e){var n=t.edges,i=t.site;(o[e]=n.length?n.map(function(t){var e=t.start();return[e.x,e.y]}):i.x>=a&&i.x<=l&&i.y>=s&&i.y<=c?[[a,c],[l,c],[l,s],[a,s]]:[]).point=r[e]}),o}function d(t){return t.map(function(t,e){return{x:Math.round(i(t,e)/kt)*kt,y:Math.round(r(t,e)/kt)*kt,i:e}})}return o.links=function(e){return Lr(d(e)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},o.triangles=function(p){var h=[];return Lr(d(p)).cells.forEach(function(t,e){for(var n,i,r,o,a=t.site,s=t.edges.sort($r),l=-1,c=s.length,u=s[c-1].edge,d=u.l===a?u.r:u.l;++l<c;)u,n=d,d=(u=s[l].edge).l===a?u.r:u.l,e<n.i&&e<d.i&&(r=n,o=d,((i=a).x-o.x)*(r.y-i.y)-(i.x-r.x)*(o.y-i.y)<0)&&h.push([p[e],p[n.i],p[d.i]])}),h},o.x=function(t){return arguments.length?(i=ge(e=t),o):e},o.y=function(t){return arguments.length?(r=ge(n=t),o):n},o.clipExtent=function(t){return arguments.length?(u=null==t?Wr:t,o):u===Wr?null:u},o.size=function(t){return arguments.length?o.clipExtent(t&&[[0,0],t]):u===Wr?null:u&&u[1]},o};var Wr=[[-1e6,-1e6],[1e6,1e6]];function Fr(t){return t.x}function Rr(t){return t.y}function Ur(t,e){t=I.rgb(t),e=I.rgb(e);var n=t.r,i=t.g,r=t.b,o=e.r-n,a=e.g-i,s=e.b-r;return function(t){return"#"+le(Math.round(n+o*t))+le(Math.round(i+a*t))+le(Math.round(r+s*t))}}function jr(t,e){var n,i={},r={};for(n in t)n in e?i[n]=Xr(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function qr(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function Br(t,i){var e,n,r,o=Vr.lastIndex=Yr.lastIndex=0,a=-1,s=[],l=[];for(t+="",i+="";(e=Vr.exec(t))&&(n=Yr.exec(i));)(r=n.index)>o&&(r=i.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(e=e[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,l.push({i:a,x:qr(e,n)})),o=Yr.lastIndex;return o<i.length&&(r=i.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?(i=l[0].x,function(t){return i(t)+""}):function(){return i}:(i=l.length,function(t){for(var e,n=0;n<i;++n)s[(e=l[n]).i]=e.x(t);return s.join("")})}I.geom.delaunay=function(t){return I.geom.voronoi().triangles(t)},I.geom.quadtree=function(t,b,y,x,w){var k,$=tr,C=er;if(k=arguments.length)return $=Fr,C=Rr,3===k&&(w=y,x=b,y=b=0),e(t);function e(t){var e,n,i,r,o,a,s,l,c,u=ge($),d=ge(C);if(null!=b)a=b,s=y,l=x,c=w;else if(l=c=-(a=s=1/0),n=[],i=[],o=t.length,k)for(r=0;r<o;++r)(e=t[r]).x<a&&(a=e.x),e.y<s&&(s=e.y),e.x>l&&(l=e.x),e.y>c&&(c=e.y),n.push(e.x),i.push(e.y);else for(r=0;r<o;++r){var p=+u(e=t[r],r),h=+d(e,r);p<a&&(a=p),h<s&&(s=h),l<p&&(l=p),c<h&&(c=h),n.push(p),i.push(h)}var f=l-a,g=c-s;function v(t,e,n,i,r,o,a,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(P(l-n)+P(c-i)<.01)m(t,e,n,i,r,o,a,s);else{var u=t.point;t.x=t.y=t.point=null,m(t,u,l,c,r,o,a,s),m(t,e,n,i,r,o,a,s)}else t.x=n,t.y=i,t.point=e}else m(t,e,n,i,r,o,a,s)}function m(t,e,n,i,r,o,a,s){var l=.5*(r+a),c=.5*(o+s),u=l<=n,d=c<=i,p=d<<1|u;t.leaf=!1,u?r=l:a=l,d?o=c:s=c,v(t=t.nodes[p]||(t.nodes[p]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,i,r,o,a,s)}g<f?c=s+f:l=a+g;var S={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){v(S,t,+u(t,++r),+d(t,r),a,s,l,c)}};if(S.visit=function(t){!function t(e,n,i,r,o,a){if(!e(n,i,r,o,a)){var s=.5*(i+o),l=.5*(r+a),c=n.nodes;c[0]&&t(e,c[0],i,r,s,l),c[1]&&t(e,c[1],s,r,o,l),c[2]&&t(e,c[2],i,l,s,a),c[3]&&t(e,c[3],s,l,o,a)}}(t,S,a,s,l,c)},S.find=function(t){return e=S,v=t[0],m=t[1],$=1/0,function t(e,n,i,r,o){if(!(x<n||w<i||r<b||o<y)){if(a=e.point){var a,s=v-e.x,l=m-e.y,c=s*s+l*l;if(c<$){var u=Math.sqrt($=c);b=v-u,y=m-u,x=v+u,w=m+u,k=a}}for(var d=e.nodes,p=.5*(n+r),h=.5*(i+o),f=(h<=m)<<1|p<=v,g=f+4;f<g;++f)if(e=d[3&f])switch(3&f){case 0:t(e,n,i,p,h);break;case 1:t(e,p,i,r,h);break;case 2:t(e,n,h,p,o);break;case 3:t(e,p,h,r,o)}}}(e,b=a,y=s,x=l,w=c),k;var e,v,m,b,y,x,w,k,$},r=-1,null==b){for(;++r<o;)v(S,t[r],n[r],i[r],a,s,l,c);--r}else t.forEach(S.add);return n=i=t=e=null,S}return e.x=function(t){return arguments.length?($=t,e):$},e.y=function(t){return arguments.length?(C=t,e):C},e.extent=function(t){return arguments.length?(null==t?b=y=x=w=null:(b=+t[0][0],y=+t[0][1],x=+t[1][0],w=+t[1][1]),e):null==b?null:[[b,y],[x,w]]},e.size=function(t){return arguments.length?(null==t?b=y=x=w=null:(b=y=0,x=+t[0],w=+t[1]),e):null==b?null:[x-b,w-y]},e},I.interpolateRgb=Ur,I.interpolateObject=jr,I.interpolateNumber=qr,I.interpolateString=Br;var Vr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yr=new RegExp(Vr.source,"g");function Xr(t,e){for(var n,i=I.interpolators.length;0<=--i&&!(n=I.interpolators[i](t,e)););return n}function Gr(t,e){var n,i=[],r=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)i.push(Xr(t[n],e[n]));for(;n<o;++n)r[n]=t[n];for(;n<a;++n)r[n]=e[n];return function(t){for(n=0;n<s;++n)r[n]=i[n](t);return r}}I.interpolate=Xr,I.interpolators=[function(t,e){var n=typeof e;return("string"===n?fe.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Ur:Br:e instanceof Ft?Ur:Array.isArray(e)?Gr:"object"===n&&isNaN(e)?jr:qr)(t,e)}],I.interpolateArray=Gr;var Zr=function(){return N},Kr=I.map({linear:Zr,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return eo},cubic:function(){return no},sin:function(){return ro},exp:function(){return oo},circle:function(){return ao},elastic:function(e,n){var i;arguments.length<2&&(n=.45);i=arguments.length?n/Ct*Math.asin(1/e):(e=1,n/4);return function(t){return 1+e*Math.pow(2,-10*t)*Math.sin((t-i)*Ct/n)}},back:function(e){e||(e=1.70158);return function(t){return t*t*((e+1)*t-e)}},bounce:function(){return so}}),Qr=I.map({in:N,out:Jr,"in-out":to,"out-in":function(t){return to(Jr(t))}});function Jr(e){return function(t){return 1-e(1-t)}}function to(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function eo(t){return t*t}function no(t){return t*t*t}function io(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function ro(t){return 1-Math.cos(t*Tt)}function oo(t){return Math.pow(2,10*(t-1))}function ao(t){return 1-Math.sqrt(1-t*t)}function so(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function lo(e,n){return n-=e,function(t){return Math.round(e+n*t)}}function co(t){var e,n,i,r=[t.a,t.b],o=[t.c,t.d],a=po(r),s=uo(r,o),l=po(((e=o)[0]+=(i=-s)*(n=r)[0],e[1]+=i*n[1],e))||0;r[0]*o[1]<o[0]*r[1]&&(r[0]*=-1,r[1]*=-1,a*=-1,s*=-1),this.rotate=(a?Math.atan2(r[1],r[0]):Math.atan2(-o[0],o[1]))*At,this.translate=[t.e,t.f],this.scale=[a,l],this.skew=l?Math.atan2(s,l)*At:0}function uo(t,e){return t[0]*e[0]+t[1]*e[1]}function po(t){var e=Math.sqrt(uo(t,t));return e&&(t[0]/=e,t[1]/=e),e}I.ease=function(t){var e,n=t.indexOf("-"),i=0<=n?t.slice(0,n):t,r=0<=n?t.slice(n+1):"in";return i=Kr.get(i)||Zr,r=Qr.get(r)||N,e=r(i.apply(null,o.call(arguments,1))),function(t){return t<=0?0:1<=t?1:e(t)}},I.interpolateHcl=function(t,e){t=I.hcl(t),e=I.hcl(e);var n=t.h,i=t.c,r=t.l,o=e.h-n,a=e.c-i,s=e.l-r;isNaN(a)&&(a=0,i=isNaN(i)?e.c:i);isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360);return function(t){return Vt(n+o*t,i+a*t,r+s*t)+""}},I.interpolateHsl=function(t,e){t=I.hsl(t),e=I.hsl(e);var n=t.h,i=t.s,r=t.l,o=e.h-n,a=e.s-i,s=e.l-r;isNaN(a)&&(a=0,i=isNaN(i)?e.s:i);isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360);return function(t){return jt(n+o*t,i+a*t,r+s*t)+""}},I.interpolateLab=function(t,e){t=I.lab(t),e=I.lab(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,a=e.a-i,s=e.b-r;return function(t){return Jt(n+o*t,i+a*t,r+s*t)+""}},I.interpolateRound=lo,I.transform=function(t){var n=y.createElementNS(I.ns.prefix.svg,"g");return(I.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new co(e?e.matrix:ho)})(t)},co.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ho={a:1,b:0,c:0,d:1,e:0,f:0};function fo(t){return t.length?t.pop()+",":""}function go(t,e){var n,i,r,o,a,s,l,c,u=[],d=[];return t=I.transform(t),e=I.transform(e),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:qr(t[0],e[0])},{i:r-2,x:qr(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,u,d),n=t.rotate,i=e.rotate,r=u,o=d,n!==i?(180<n-i?i+=360:180<i-n&&(n+=360),o.push({i:r.push(fo(r)+"rotate(",null,")")-2,x:qr(n,i)})):i&&r.push(fo(r)+"rotate("+i+")"),a=t.skew,s=e.skew,l=u,c=d,a!==s?c.push({i:l.push(fo(l)+"skewX(",null,")")-2,x:qr(a,s)}):s&&l.push(fo(l)+"skewX("+s+")"),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(fo(n)+"scale(",null,",",null,")");i.push({i:r-4,x:qr(t[0],e[0])},{i:r-2,x:qr(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(fo(n)+"scale("+e+")")}(t.scale,e.scale,u,d),t=e=null,function(t){for(var e,n=-1,i=d.length;++n<i;)u[(e=d[n]).i]=e.x(t);return u.join("")}}function vo(e,n){return n=(n-=e=+e)||1/n,function(t){return(t-e)/n}}function mo(e,n){return n=(n-=e=+e)||1/n,function(t){return Math.max(0,Math.min(1,(t-e)/n))}}function bo(t){for(var e=t.source,n=t.target,i=function(t,e){if(t===e)return t;var n=yo(t),i=yo(e),r=n.pop(),o=i.pop(),a=null;for(;r===o;)a=r,r=n.pop(),o=i.pop();return a}(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function yo(t){for(var e=[],n=t.parent;null!=n;)e.push(t),n=(t=n).parent;return e.push(t),e}function xo(t){t.fixed|=2}function wo(t){t.fixed&=-7}function ko(t){t.fixed|=4,t.px=t.x,t.py=t.y}function $o(t){t.fixed&=-5}I.interpolateTransform=go,I.layout={},I.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(bo(t[n]));return e}},I.layout.chord=function(){var v,m,b,y,x,w,k,e={},$=0;function t(){var t,e,n,i,r,o={},a=[],s=I.range(y),l=[];for(v=[],m=[],t=0,i=-1;++i<y;){for(e=0,r=-1;++r<y;)e+=b[i][r];a.push(e),l.push(I.range(y)),t+=e}for(x&&s.sort(function(t,e){return x(a[t],a[e])}),w&&l.forEach(function(t,n){t.sort(function(t,e){return w(b[n][t],b[n][e])})}),t=(Ct-$*y)/t,e=0,i=-1;++i<y;){for(n=e,r=-1;++r<y;){var c=s[i],u=l[c][r],d=b[c][u],p=e,h=e+=d*t;o[c+"-"+u]={index:c,subindex:u,startAngle:p,endAngle:h,value:d}}m[c]={index:c,startAngle:n,endAngle:e,value:a[c]},e+=$}for(i=-1;++i<y;)for(r=i-1;++r<y;){var f=o[i+"-"+r],g=o[r+"-"+i];(f.value||g.value)&&v.push(f.value<g.value?{source:g,target:f}:{source:f,target:g})}k&&S()}function S(){v.sort(function(t,e){return k((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}return e.matrix=function(t){return arguments.length?(y=(b=t)&&b.length,v=m=null,e):b},e.padding=function(t){return arguments.length?($=t,v=m=null,e):$},e.sortGroups=function(t){return arguments.length?(x=t,v=m=null,e):x},e.sortSubgroups=function(t){return arguments.length?(w=t,v=null,e):w},e.sortChords=function(t){return arguments.length?(k=t,v&&S(),e):k},e.chords=function(){return v||t(),v},e.groups=function(){return m||t(),m},e},I.layout.force=function(){var d,t,p,h,f,g,r={},v=I.dispatch("start","tick","end"),m=[1,1],b=.9,o=So,a=Co,y=-30,u=Mo,x=.1,w=.64,k=[],$=[];function S(c){return function(t,e,n,i){if(t.point!==c){var r=t.cx-c.x,o=t.cy-c.y,a=i-e,s=r*r+o*o;if(a*a/w<s){if(s<u){var l=t.charge/s;c.px-=r*l,c.py-=o*l}return!0}if(t.point&&s&&s<u){l=t.pointCharge/s;c.px-=r*l,c.py-=o*l}}return!t.charge}}function e(t){t.px=I.event.x,t.py=I.event.y,r.resume()}return r.tick=function(){if((p*=.99)<.005)return d=null,v.end({type:"end",alpha:p=0}),!0;var t,e,n,i,r,o,a,s,l,c=k.length,u=$.length;for(e=0;e<u;++e)i=(n=$[e]).source,(o=(s=(r=n.target).x-i.x)*s+(l=r.y-i.y)*l)&&(s*=o=p*f[e]*((o=Math.sqrt(o))-h[e])/o,l*=o,r.x-=s*(a=i.weight+r.weight?i.weight/(i.weight+r.weight):.5),r.y-=l*a,i.x+=s*(a=1-a),i.y+=l*a);if((a=p*x)&&(s=m[0]/2,l=m[1]/2,e=-1,a))for(;++e<c;)(n=k[e]).x+=(s-n.x)*a,n.y+=(l-n.y)*a;if(y)for(!function t(e,n,i){var r=0,o=0;e.charge=0;if(!e.leaf)for(var a,s=e.nodes,l=s.length,c=-1;++c<l;)null!=(a=s[c])&&(t(a,n,i),e.charge+=a.charge,r+=a.charge*a.cx,o+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=n*i[e.point.index];e.charge+=e.pointCharge=u,r+=u*e.point.x,o+=u*e.point.y}e.cx=r/e.charge;e.cy=o/e.charge}(t=I.geom.quadtree(k),p,g),e=-1;++e<c;)(n=k[e]).fixed||t.visit(S(n));for(e=-1;++e<c;)(n=k[e]).fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*b,n.y-=(n.py-(n.py=n.y))*b);v.tick({type:"tick",alpha:p})},r.nodes=function(t){return arguments.length?(k=t,r):k},r.links=function(t){return arguments.length?($=t,r):$},r.size=function(t){return arguments.length?(m=t,r):m},r.linkDistance=function(t){return arguments.length?(o="function"==typeof t?t:+t,r):o},r.distance=r.linkDistance,r.linkStrength=function(t){return arguments.length?(a="function"==typeof t?t:+t,r):a},r.friction=function(t){return arguments.length?(b=+t,r):b},r.charge=function(t){return arguments.length?(y="function"==typeof t?t:+t,r):y},r.chargeDistance=function(t){return arguments.length?(u=t*t,r):Math.sqrt(u)},r.gravity=function(t){return arguments.length?(x=+t,r):x},r.theta=function(t){return arguments.length?(w=t*t,r):Math.sqrt(w)},r.alpha=function(t){return arguments.length?(t=+t,p?0<t?p=t:(d.c=null,d.t=NaN,d=null,v.end({type:"end",alpha:p=0})):0<t&&(v.start({type:"start",alpha:p=t}),d=$e(r.tick)),r):p},r.start=function(){var s,l,t,c=k.length,u=$.length,e=m[0],n=m[1];for(s=0;s<c;++s)(t=k[s]).index=s,t.weight=0;for(s=0;s<u;++s)"number"==typeof(t=$[s]).source&&(t.source=k[t.source]),"number"==typeof t.target&&(t.target=k[t.target]),++t.source.weight,++t.target.weight;for(s=0;s<c;++s)t=k[s],isNaN(t.x)&&(t.x=i("x",e)),isNaN(t.y)&&(t.y=i("y",n)),isNaN(t.px)&&(t.px=t.x),isNaN(t.py)&&(t.py=t.y);if(h=[],"function"==typeof o)for(s=0;s<u;++s)h[s]=+o.call(this,$[s],s);else for(s=0;s<u;++s)h[s]=o;if(f=[],"function"==typeof a)for(s=0;s<u;++s)f[s]=+a.call(this,$[s],s);else for(s=0;s<u;++s)f[s]=a;if(g=[],"function"==typeof y)for(s=0;s<c;++s)g[s]=+y.call(this,k[s],s);else for(s=0;s<c;++s)g[s]=y;function i(t,e){if(!l){for(l=new Array(c),o=0;o<c;++o)l[o]=[];for(o=0;o<u;++o){var n=$[o];l[n.source.index].push(n.target),l[n.target.index].push(n.source)}}for(var i,r=l[s],o=-1,a=r.length;++o<a;)if(!isNaN(i=r[o][t]))return i;return Math.random()*e}return r.resume()},r.resume=function(){return r.alpha(.1)},r.stop=function(){return r.alpha(0)},r.drag=function(){if(t||(t=I.behavior.drag().origin(N).on("dragstart.force",xo).on("drag.force",e).on("dragend.force",wo)),!arguments.length)return t;this.on("mouseover.force",ko).on("mouseout.force",$o).call(t)},I.rebind(r,v,"on")};var So=20,Co=1,Mo=1/0;function To(t,e){return I.rebind(t,e,"sort","children","value"),(t.nodes=t).links=Po,t}function _o(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;0<=--i;)n.push(r[i])}function Ao(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(o=t.children)&&(r=o.length))for(var r,o,a=-1;++a<r;)n.push(o[a]);for(;null!=(t=i.pop());)e(t)}function Eo(t){return t.children}function Do(t){return t.value}function Oo(t,e){return e.value-t.value}function Po(t){return I.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}I.layout.hierarchy=function(){var s=Oo,l=Eo,c=Do;function u(t){var e,n=[t],i=[];for(t.depth=0;null!=(e=n.pop());)if(i.push(e),(o=l.call(u,e,e.depth))&&(r=o.length)){for(var r,o,a;0<=--r;)n.push(a=o[r]),a.parent=e,a.depth=e.depth+1;c&&(e.value=0),e.children=o}else c&&(e.value=+c.call(u,e,e.depth)||0),delete e.children;return Ao(t,function(t){var e,n;s&&(e=t.children)&&e.sort(s),c&&(n=t.parent)&&(n.value+=t.value)}),i}return u.sort=function(t){return arguments.length?(s=t,u):s},u.children=function(t){return arguments.length?(l=t,u):l},u.value=function(t){return arguments.length?(c=t,u):c},u.revalue=function(t){return c&&(_o(t,function(t){t.children&&(t.value=0)}),Ao(t,function(t){var e;t.children||(t.value=+c.call(u,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},u},I.layout.partition=function(){var i=I.layout.hierarchy(),r=[1,1];function e(t,e){var n=i.call(this,t,e);return function t(e,n,i,r){var o=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,o&&(a=o.length)){var a,s,l,c=-1;for(i=e.value?i/e.value:0;++c<a;)t(s=o[c],n,l=s.value*i,r),n+=l}}(n[0],0,r[0],r[1]/function t(e){var n=e.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,t(n[o]));return 1+i}(n[0])),n}return e.size=function(t){return arguments.length?(r=t,e):r},To(e,i)},I.layout.pie=function(){var p=Number,h=Io,f=0,g=Ct,v=0;function m(n){var e,t=n.length,i=n.map(function(t,e){return+p.call(m,t,e)}),r=+("function"==typeof f?f.apply(this,arguments):f),o=("function"==typeof g?g.apply(this,arguments):g)-r,a=Math.min(Math.abs(o)/t,+("function"==typeof v?v.apply(this,arguments):v)),s=a*(o<0?-1:1),l=I.sum(i),c=l?(o-t*s)/l:0,u=I.range(t),d=[];return null!=h&&u.sort(h===Io?function(t,e){return i[e]-i[t]}:function(t,e){return h(n[t],n[e])}),u.forEach(function(t){d[t]={data:n[t],value:e=i[t],startAngle:r,endAngle:r+=e*c+s,padAngle:a}}),d}return m.value=function(t){return arguments.length?(p=t,m):p},m.sort=function(t){return arguments.length?(h=t,m):h},m.startAngle=function(t){return arguments.length?(f=t,m):f},m.endAngle=function(t){return arguments.length?(g=t,m):g},m.padAngle=function(t){return arguments.length?(v=t,m):v},m};var Io={};function zo(t){return t.x}function No(t){return t.y}function Lo(t,e,n){t.y0=e,t.y=n}I.layout.stack=function(){var d=N,p=Fo,h=Ro,f=Lo,g=zo,v=No;function m(t,e){if(!(o=t.length))return t;var n=t.map(function(t,e){return d.call(m,t,e)}),i=n.map(function(t){return t.map(function(t,e){return[g.call(m,t,e),v.call(m,t,e)]})}),r=p.call(m,i,e);n=I.permute(n,r),i=I.permute(i,r);var o,a,s,l,c=h.call(m,i,e),u=n[0].length;for(s=0;s<u;++s)for(f.call(m,n[0][s],l=c[s],i[0][s][1]),a=1;a<o;++a)f.call(m,n[a][s],l+=i[a-1][s][1],i[a][s][1]);return t}return m.values=function(t){return arguments.length?(d=t,m):d},m.order=function(t){return arguments.length?(p="function"==typeof t?t:Ho.get(t)||Fo,m):p},m.offset=function(t){return arguments.length?(h="function"==typeof t?t:Wo.get(t)||Ro,m):h},m.x=function(t){return arguments.length?(g=t,m):g},m.y=function(t){return arguments.length?(v=t,m):v},m.out=function(t){return arguments.length?(f=t,m):f},m};var Ho=I.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(Uo),o=t.map(jo),a=I.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,l=0,c=[],u=[];for(e=0;e<i;++e)n=a[e],s<l?(s+=o[n],c.push(n)):(l+=o[n],u.push(n));return u.reverse().concat(c)},reverse:function(t){return I.range(t.length).reverse()},default:Fo}),Wo=I.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,a=[],s=0,l=[];for(n=0;n<o;++n){for(i=e=0;e<r;e++)i+=t[e][n][1];s<i&&(s=i),a.push(i)}for(n=0;n<o;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,i,r,o,a,s,l,c,u=t.length,d=t[0],p=d.length,h=[];for(h[0]=l=c=0,n=1;n<p;++n){for(r=e=0;e<u;++e)r+=t[e][n][1];for(o=e=0,s=d[n][0]-d[n-1][0];e<u;++e){for(i=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);i<e;++i)a+=(t[i][n][1]-t[i][n-1][1])/s;o+=a*t[e][n][1]}h[n]=l-=r?o/r*s:0,l<c&&(c=l)}for(n=0;n<p;++n)h[n]-=c;return h},expand:function(t){var e,n,i,r=t.length,o=t[0].length,a=1/r,s=[];for(n=0;n<o;++n){for(i=e=0;e<r;e++)i+=t[e][n][1];if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:Ro});function Fo(t){return I.range(t.length)}function Ro(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function Uo(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function jo(t){return t.reduce(qo,0)}function qo(t,e){return t+e[1]}function Bo(t,e){return Vo(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Vo(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function Yo(t){return[I.min(t),I.max(t)]}function Xo(t,e){return t.value-e.value}function Go(t,e){var n=t._pack_next;(t._pack_next=e)._pack_prev=t,(e._pack_next=n)._pack_prev=e}function Zo(t,e){(t._pack_next=e)._pack_prev=t}function Ko(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return n*n+i*i<.999*r*r}function Qo(t){if((e=t.children)&&(l=e.length)){var e,n,i,r,o,a,s,l,c=1/0,u=-1/0,d=1/0,p=-1/0;if(e.forEach(Jo),(n=e[0]).x=-n.r,n.y=0,y(n),1<l&&((i=e[1]).x=i.r,i.y=0,y(i),2<l))for(ea(n,i,r=e[2]),y(r),Go(n,r),Go(n._pack_prev=r,i),i=n._pack_next,o=3;o<l;o++){ea(n,i,r=e[o]);var h=0,f=1,g=1;for(a=i._pack_next;a!==i;a=a._pack_next,f++)if(Ko(a,r)){h=1;break}if(1==h)for(s=n._pack_prev;s!==a._pack_prev&&!Ko(s,r);s=s._pack_prev,g++);h?(f<g||f==g&&i.r<n.r?Zo(n,i=a):Zo(n=s,i),o--):(Go(n,r),y(i=r))}var v=(c+u)/2,m=(d+p)/2,b=0;for(o=0;o<l;o++)(r=e[o]).x-=v,r.y-=m,b=Math.max(b,r.r+Math.sqrt(r.x*r.x+r.y*r.y));t.r=b,e.forEach(ta)}function y(t){c=Math.min(t.x-t.r,c),u=Math.max(t.x+t.r,u),d=Math.min(t.y-t.r,d),p=Math.max(t.y+t.r,p)}}function Jo(t){t._pack_next=t._pack_prev=t}function ta(t){delete t._pack_next,delete t._pack_prev}function ea(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var a=e.r+n.r,s=r*r+o*o,l=.5+((i*=i)-(a*=a))/(2*s),c=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=t.x+l*r+c*o,n.y=t.y+l*o-c*r}else n.x=t.x+i,n.y=t.y}function na(t,e){return t.parent==e.parent?1:2}function ia(t){var e=t.children;return e.length?e[0]:t.t}function ra(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function oa(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function aa(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function sa(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return r<0&&(n+=r/2,r=0),o<0&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function la(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function ca(t){return t.rangeExtent?t.rangeExtent():la(t.range())}function ua(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function da(t,e){var n,i=0,r=t.length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}function pa(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:ha}I.layout.histogram=function(){var d=!0,p=Number,h=Yo,f=Bo;function n(t,e){for(var n,i,r=[],o=t.map(p,this),a=h.call(this,o,e),s=f.call(this,a,o,e),l=(e=-1,o.length),c=s.length-1,u=d?1:1/l;++e<c;)(n=r[e]=[]).dx=s[e+1]-(n.x=s[e]),n.y=0;if(0<c)for(e=-1;++e<l;)(i=o[e])>=a[0]&&i<=a[1]&&((n=r[I.bisect(s,i,1,c)-1]).y+=u,n.push(t[e]));return r}return n.value=function(t){return arguments.length?(p=t,n):p},n.range=function(t){return arguments.length?(h=ge(t),n):h},n.bins=function(e){return arguments.length?(f="number"==typeof e?function(t){return Vo(t,e)}:ge(e),n):f},n.frequency=function(t){return arguments.length?(d=!!t,n):d},n},I.layout.pack=function(){var l,c=I.layout.hierarchy().sort(Xo),u=0,d=[1,1];function e(t,e){var n=c.call(this,t,e),i=n[0],r=d[0],o=d[1],a=null==l?Math.sqrt:"function"==typeof l?l:function(){return l};if(i.x=i.y=0,Ao(i,function(t){t.r=+a(t.value)}),Ao(i,Qo),u){var s=u*(l?1:Math.max(2*i.r/r,2*i.r/o))/2;Ao(i,function(t){t.r+=s}),Ao(i,Qo),Ao(i,function(t){t.r-=s})}return function t(e,n,i,r){var o=e.children;e.x=n+=r*e.x;e.y=i+=r*e.y;e.r*=r;if(o)for(var a=-1,s=o.length;++a<s;)t(o[a],n,i,r)}(i,r/2,o/2,l?1:1/Math.max(2*i.r/r,2*i.r/o)),n}return e.size=function(t){return arguments.length?(d=t,e):d},e.radius=function(t){return arguments.length?(l=null==t||"function"==typeof t?t:+t,e):l},e.padding=function(t){return arguments.length?(u=+t,e):u},To(e,c)},I.layout.tree=function(){var d=I.layout.hierarchy().sort(null).value(null),g=na,p=[1,1],h=null;function e(t,e){var n=d.call(this,t,e),i=n[0],r=function(t){var e,n={A:null,children:[t]},i=[n];for(;null!=(e=i.pop());)for(var r,o=e.children,a=0,s=o.length;a<s;++a)i.push((o[a]=r={_:o[a],parent:e,children:(r=o[a].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=r);return n.children[0]}(i);if(Ao(r,f),r.parent.m=-r.z,_o(r,v),h)_o(i,m);else{var o=i,a=i,s=i;_o(i,function(t){t.x<o.x&&(o=t),t.x>a.x&&(a=t),t.depth>s.depth&&(s=t)});var l=g(o,a)/2-o.x,c=p[0]/(a.x+g(a,o)/2+l),u=p[1]/(s.depth||1);_o(i,function(t){t.x=(t.x+l)*c,t.y=t.depth*u})}return n}function f(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){!function(t){var e,n=0,i=0,r=t.children,o=r.length;for(;0<=--o;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(t);var r=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+g(t._,i._),t.m=t.z-r):t.z=r}else i&&(t.z=i.z+g(t._,i._));t.parent.A=function(t,e,n){if(e){for(var i,r=t,o=t,a=e,s=r.parent.children[0],l=r.m,c=o.m,u=a.m,d=s.m;a=ra(a),r=ia(r),a&&r;)s=ia(s),(o=ra(o)).a=t,0<(i=a.z+u-r.z-l+g(a._,r._))&&(oa((h=t,f=n,(p=a).a.parent===h.parent?p.a:f),t,i),l+=i,c+=i),u+=a.m,l+=r.m,d+=s.m,c+=o.m;a&&!ra(o)&&(o.t=a,o.m+=u-c),r&&!ia(s)&&(s.t=r,s.m+=l-d,n=t)}var p,h,f;return n}(t,i,t.parent.A||n[0])}function v(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function m(t){t.x*=p[0],t.y=t.depth*p[1]}return e.separation=function(t){return arguments.length?(g=t,e):g},e.size=function(t){return arguments.length?(h=null==(p=t)?m:null,e):h?null:p},e.nodeSize=function(t){return arguments.length?(h=null==(p=t)?null:m,e):h?p:null},To(e,d)},I.layout.cluster=function(){var u=I.layout.hierarchy().sort(null).value(null),d=na,p=[1,1],h=!1;function e(t,e){var r,n=u.call(this,t,e),i=n[0],o=0;Ao(i,function(t){var e,n,i=t.children;i&&i.length?(t.x=(n=i).reduce(function(t,e){return t+e.x},0)/n.length,t.y=(e=i,1+I.max(e,function(t){return t.y}))):(t.x=r?o+=d(t,r):0,t.y=0,r=t)});var a=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(i),s=function t(e){var n,i=e.children;return i&&(n=i.length)?t(i[n-1]):e}(i),l=a.x-d(a,s)/2,c=s.x+d(s,a)/2;return Ao(i,h?function(t){t.x=(t.x-i.x)*p[0],t.y=(i.y-t.y)*p[1]}:function(t){t.x=(t.x-l)/(c-l)*p[0],t.y=(1-(i.y?t.y/i.y:1))*p[1]}),n}return e.separation=function(t){return arguments.length?(d=t,e):d},e.size=function(t){return arguments.length?(h=null==(p=t),e):h?null:p},e.nodeSize=function(t){return arguments.length?(h=null!=(p=t),e):h?p:null},To(e,u)},I.layout.treemap=function(){var i,r=I.layout.hierarchy(),u=Math.round,o=[1,1],a=null,d=aa,s=!1,p="squarify",l=.5*(1+Math.sqrt(5));function h(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(e<0?0:e),n.area=isNaN(i)||i<=0?0:i}function f(t){var e=t.children;if(e&&e.length){var n,i,r,o=d(t),a=[],s=e.slice(),l=1/0,c="slice"===p?o.dx:"dice"===p?o.dy:"slice-dice"===p?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(h(s,o.dx*o.dy/t.value),a.area=0;0<(r=s.length);)a.push(n=s[r-1]),a.area+=n.area,l="squarify"!==p||(i=g(a,c))<=l?(s.pop(),i):(a.area-=a.pop().area,v(a,c,o,!1),c=Math.min(o.dx,o.dy),a.length=a.area=0,1/0);a.length&&(v(a,c,o,!0),a.length=a.area=0),e.forEach(f)}}function c(t){var e=t.children;if(e&&e.length){var n,i=d(t),r=e.slice(),o=[];for(h(r,i.dx*i.dy/t.value),o.area=0;n=r.pop();)o.push(n),o.area+=n.area,null!=n.z&&(v(o,n.z?i.dx:i.dy,i,!r.length),o.length=o.area=0);e.forEach(c)}}function g(t,e){for(var n,i=t.area,r=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),r<n&&(r=n));return e*=e,(i*=i)?Math.max(e*r*l/i,i/(e*o*l)):1/0}function v(t,e,n,i){var r,o=-1,a=t.length,s=n.x,l=n.y,c=e?u(t.area/e):0;if(e==n.dx){for((i||c>n.dy)&&(c=n.dy);++o<a;)(r=t[o]).x=s,r.y=l,r.dy=c,s+=r.dx=Math.min(n.x+n.dx-s,c?u(r.area/c):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++o<a;)(r=t[o]).x=s,r.y=l,r.dx=c,l+=r.dy=Math.min(n.y+n.dy-l,c?u(r.area/c):0);r.z=!1,r.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function m(t){var e=i||r(t),n=e[0];return n.x=n.y=0,n.value?(n.dx=o[0],n.dy=o[1]):n.dx=n.dy=0,i&&r.revalue(n),h([n],n.dx*n.dy/n.value),(i?c:f)(n),s&&(i=e),e}return m.size=function(t){return arguments.length?(o=t,m):o},m.padding=function(n){if(!arguments.length)return a;function t(t){return sa(t,n)}var e;return d=null==(a=n)?aa:"function"==(e=typeof n)?function(t){var e=n.call(m,t,t.depth);return null==e?aa(t):sa(t,"number"==typeof e?[e,e,e,e]:e)}:("number"===e&&(n=[n,n,n,n]),t),m},m.round=function(t){return arguments.length?(u=t?Math.round:Number,m):u!=Number},m.sticky=function(t){return arguments.length?(s=t,i=null,m):s},m.ratio=function(t){return arguments.length?(l=t,m):l},m.mode=function(t){return arguments.length?(p=t+"",m):p},To(m,r)},I.random={normal:function(i,r){var t=arguments.length;return t<2&&(r=1),t<1&&(i=0),function(){for(var t,e,n;!(n=(t=2*Math.random()-1)*t+(e=2*Math.random()-1)*e)||1<n;);return i+r*t*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var t=I.random.normal.apply(I,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=I.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},I.scale={};var ha={floor:N,ceil:N};function fa(n,t,e,i){var r=[],o=[],a=0,s=Math.min(n.length,t.length)-1;for(n[s]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<=s;)r.push(e(n[a-1],n[a])),o.push(i(t[a-1],t[a]));return function(t){var e=I.bisect(n,t,1,s)-1;return o[e](r[e](t))}}function ga(t,e){return I.rebind(t,e,"range","rangeRound","interpolate","clamp")}function va(t,e){return da(t,pa(ma(t,e)[2])),da(t,pa(ma(t,e)[2])),t}function ma(t,e){null==e&&(e=10);var n=la(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return o<=.15?r*=10:o<=.35?r*=5:o<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function ba(t,e){return I.range.apply(I,ma(t,e))}function ya(t,e,n){var i,r,o,a=ma(t,e);if(n){var s=Ae.exec(n);if(s.shift(),"s"===s[8]){var l=I.formatPrefix(Math.max(P(a[0]),P(a[1])));return s[7]||(s[7]="."+wa(l.scale(a[2]))),s[8]="f",n=I.format(s.join("")),function(t){return n(l.scale(t))+l.symbol}}s[7]||(s[7]="."+(i=s[8],o=wa((r=a)[2]),i in xa?Math.abs(o-wa(Math.max(P(r[0]),P(r[1]))))+ +("e"!==i):o-2*("%"===i))),n=s.join("")}else n=",."+wa(a[2])+"f";return I.format(n)}I.scale.linear=function(){return function t(n,i,r,o){var a,s;function e(){var t=2<Math.min(n.length,i.length)?fa:ua,e=o?mo:vo;return a=t(n,i,e,r),s=t(i,n,e,Xr),l}function l(t){return a(t)}l.invert=function(t){return s(t)};l.domain=function(t){return arguments.length?(n=t.map(Number),e()):n};l.range=function(t){return arguments.length?(i=t,e()):i};l.rangeRound=function(t){return l.range(t).interpolate(lo)};l.clamp=function(t){return arguments.length?(o=t,e()):o};l.interpolate=function(t){return arguments.length?(r=t,e()):r};l.ticks=function(t){return ba(n,t)};l.tickFormat=function(t,e){return ya(n,t,e)};l.nice=function(t){return va(n,t),e()};l.copy=function(){return t(n,i,r,o)};return e()}([0,1],[0,1],Xr,!1)};var xa={s:1,g:1,p:1,r:1,e:1};function wa(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}I.scale.log=function(){return function t(e,l,c,u){function d(t){return(c?Math.log(t<0?0:t):-Math.log(0<t?0:-t))/Math.log(l)}function p(t){return c?Math.pow(l,t):-Math.pow(l,-t)}function r(t){return e(d(t))}r.invert=function(t){return p(e.invert(t))};r.domain=function(t){return arguments.length?(c=0<=t[0],e.domain((u=t.map(Number)).map(d)),r):u};r.base=function(t){return arguments.length?(l=+t,e.domain(u.map(d)),r):l};r.nice=function(){var t=da(u.map(d),c?Math:$a);return e.domain(t),u=t.map(p),r};r.ticks=function(){var t=la(u),e=[],n=t[0],i=t[1],r=Math.floor(d(n)),o=Math.ceil(d(i)),a=l%1?2:l;if(isFinite(o-r)){if(c){for(;r<o;r++)for(var s=1;s<a;s++)e.push(p(r)*s);e.push(p(r))}else for(e.push(p(r));r++<o;)for(var s=a-1;0<s;s--)e.push(p(r)*s);for(r=0;e[r]<n;r++);for(o=e.length;e[o-1]>i;o--);e=e.slice(r,o)}return e};r.tickFormat=function(t,n){if(!arguments.length)return ka;arguments.length<2?n=ka:"function"!=typeof n&&(n=I.format(n));var i=Math.max(1,l*t/r.ticks().length);return function(t){var e=t/p(Math.round(d(t)));return e*l<l-.5&&(e*=l),e<=i?n(t):""}};r.copy=function(){return t(e.copy(),l,c,u)};return ga(r,e)}(I.scale.linear().domain([0,1]),10,!0,[1,10])};var ka=I.format(".0e"),$a={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Sa(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}I.scale.pow=function(){return function t(e,n,i){var r=Sa(n),o=Sa(1/n);function a(t){return e(r(t))}a.invert=function(t){return o(e.invert(t))};a.domain=function(t){return arguments.length?(e.domain((i=t.map(Number)).map(r)),a):i};a.ticks=function(t){return ba(i,t)};a.tickFormat=function(t,e){return ya(i,t,e)};a.nice=function(t){return a.domain(va(i,t))};a.exponent=function(t){return arguments.length?(r=Sa(n=t),o=Sa(1/n),e.domain(i.map(r)),a):n};a.copy=function(){return t(e.copy(),n,i)};return ga(a,e)}(I.scale.linear(),1,[0,1])},I.scale.sqrt=function(){return I.scale.pow().exponent(.5)},I.scale.ordinal=function(){return function t(s,l){var r,c,u;function d(t){return c[((r.get(t)||("range"===l.t?r.set(t,s.push(t)):NaN))-1)%c.length]}function p(e,n){return I.range(s.length).map(function(t){return e+n*t})}d.domain=function(t){if(!arguments.length)return s;s=[],r=new b;for(var e,n=-1,i=t.length;++n<i;)r.has(e=t[n])||r.set(e,s.push(e));return d[l.t].apply(d,l.a)};d.range=function(t){return arguments.length?(c=t,u=0,l={t:"range",a:arguments},d):c};d.rangePoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],i=t[1],r=s.length<2?(n=(n+i)/2,0):(i-n)/(s.length-1+e);return c=p(n+r*e/2,r),u=0,l={t:"rangePoints",a:arguments},d};d.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],i=t[1],r=s.length<2?(n=i=Math.round((n+i)/2),0):(i-n)/(s.length-1+e)|0;return c=p(n+Math.round(r*e/2+(i-n-(s.length-1+e)*r)/2),r),u=0,l={t:"rangeRoundPoints",a:arguments},d};d.rangeBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],r=t[i-0],o=t[1-i],a=(o-r)/(s.length-e+2*n);return c=p(r+a*n,a),i&&c.reverse(),u=a*(1-e),l={t:"rangeBands",a:arguments},d};d.rangeRoundBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],r=t[i-0],o=t[1-i],a=Math.floor((o-r)/(s.length-e+2*n));return c=p(r+Math.round((o-r-(s.length-e)*a)/2),a),i&&c.reverse(),u=Math.round(a*(1-e)),l={t:"rangeRoundBands",a:arguments},d};d.rangeBand=function(){return u};d.rangeExtent=function(){return la(l.a[0])};d.copy=function(){return t(s,l)};return d.domain(s)}([],{t:"range",a:[[]]})},I.scale.category10=function(){return I.scale.ordinal().range(Ca)},I.scale.category20=function(){return I.scale.ordinal().range(Ma)},I.scale.category20b=function(){return I.scale.ordinal().range(Ta)},I.scale.category20c=function(){return I.scale.ordinal().range(_a)};var Ca=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ae),Ma=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ae),Ta=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ae),_a=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ae);function Aa(){return 0}I.scale.quantile=function(){return function t(n,i){var r;function e(){var t=0,e=i.length;for(r=[];++t<e;)r[t-1]=I.quantile(n,t/e);return o}function o(t){if(!isNaN(t=+t))return i[I.bisect(r,t)]}o.domain=function(t){return arguments.length?(n=t.map(c).filter(u).sort(l),e()):n};o.range=function(t){return arguments.length?(i=t,e()):i};o.quantiles=function(){return r};o.invertExtent=function(t){return(t=i.indexOf(t))<0?[NaN,NaN]:[0<t?r[t-1]:n[0],t<r.length?r[t]:n[n.length-1]]};o.copy=function(){return t(n,i)};return e()}([],[])},I.scale.quantize=function(){return function t(e,n,i){var r,o;function a(t){return i[Math.max(0,Math.min(o,Math.floor(r*(t-e))))]}function s(){return r=i.length/(n-e),o=i.length-1,a}a.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],s()):[e,n]};a.range=function(t){return arguments.length?(i=t,s()):i};a.invertExtent=function(t){return[t=(t=i.indexOf(t))<0?NaN:t/r+e,t+1/r]};a.copy=function(){return t(e,n,i)};return s()}(0,1,[0,1])},I.scale.threshold=function(){return function t(e,n){function i(t){if(t<=t)return n[I.bisect(e,t)]}i.domain=function(t){return arguments.length?(e=t,i):e};i.range=function(t){return arguments.length?(n=t,i):n};i.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]};i.copy=function(){return t(e,n)};return i}([.5],[0,1])},I.scale.identity=function(){return function t(n){function e(t){return+t}e.invert=e;e.domain=e.range=function(t){return arguments.length?(n=t.map(e),e):n};e.ticks=function(t){return ba(n,t)};e.tickFormat=function(t,e){return ya(n,t,e)};e.copy=function(){return t(n)};return e}([0,1])},I.svg={},I.svg.arc=function(){var H=Da,W=Oa,F=Aa,R=Ea,U=Pa,j=Ia,q=za;function e(){var t=Math.max(0,+H.apply(this,arguments)),e=Math.max(0,+W.apply(this,arguments)),n=U.apply(this,arguments)-Tt,i=j.apply(this,arguments)-Tt,r=Math.abs(i-n),o=i<n?0:1;if(e<t&&(a=e,e=t,t=a),Mt<=r)return B(e,o)+(t?B(t,1-o):"")+"Z";var a,s,l,c,u,d,p,h,f,g,v,m,b=0,y=0,x=[];if((c=(+q.apply(this,arguments)||0)/2)&&(l=R===Ea?Math.sqrt(t*t+e*e):+R.apply(this,arguments),o||(y*=-1),e&&(y=Pt(l/e*Math.sin(c))),t&&(b=Pt(l/t*Math.sin(c)))),e){u=e*Math.cos(n+y),d=e*Math.sin(n+y),p=e*Math.cos(i-y),h=e*Math.sin(i-y);var w=Math.abs(i-n-2*y)<=St?0:1;if(y&&Na(u,d,p,h)===o^w){var k=(n+i)/2;u=e*Math.cos(k),d=e*Math.sin(k),p=h=null}}else u=d=0;if(t){f=t*Math.cos(i-b),g=t*Math.sin(i-b),v=t*Math.cos(n+b),m=t*Math.sin(n+b);var $=Math.abs(n-i+2*b)<=St?0:1;if(b&&Na(f,g,v,m)===1-o^$){var S=(n+i)/2;f=t*Math.cos(S),g=t*Math.sin(S),v=m=null}}else f=g=0;if(kt<r&&.001<(a=Math.min(Math.abs(e-t)/2,+F.apply(this,arguments)))){s=t<e^o?0:1;var C=a,M=a;if(r<St){var T=null==v?[f,g]:null==p?[u,d]:ar([u,d],[v,m],[p,h],[f,g]),_=u-T[0],A=d-T[1],E=p-T[0],D=h-T[1],O=1/Math.sin(Math.acos((_*E+A*D)/(Math.sqrt(_*_+A*A)*Math.sqrt(E*E+D*D)))/2),P=Math.sqrt(T[0]*T[0]+T[1]*T[1]);M=Math.min(a,(t-P)/(O-1)),C=Math.min(a,(e-P)/(O+1))}if(null!=p){var I=La(null==v?[f,g]:[v,m],[u,d],e,C,o),z=La([p,h],[f,g],e,C,o);a===C?x.push("M",I[0],"A",C,",",C," 0 0,",s," ",I[1],"A",e,",",e," 0 ",1-o^Na(I[1][0],I[1][1],z[1][0],z[1][1]),",",o," ",z[1],"A",C,",",C," 0 0,",s," ",z[0]):x.push("M",I[0],"A",C,",",C," 0 1,",s," ",z[0])}else x.push("M",u,",",d);if(null!=v){var N=La([u,d],[v,m],t,-M,o),L=La([f,g],null==p?[u,d]:[p,h],t,-M,o);a===M?x.push("L",L[0],"A",M,",",M," 0 0,",s," ",L[1],"A",t,",",t," 0 ",o^Na(L[1][0],L[1][1],N[1][0],N[1][1]),",",1-o," ",N[1],"A",M,",",M," 0 0,",s," ",N[0]):x.push("L",L[0],"A",M,",",M," 0 0,",s," ",N[0])}else x.push("L",f,",",g)}else x.push("M",u,",",d),null!=p&&x.push("A",e,",",e," 0 ",w,",",o," ",p,",",h),x.push("L",f,",",g),null!=v&&x.push("A",t,",",t," 0 ",$,",",1-o," ",v,",",m);return x.push("Z"),x.join("")}function B(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return e.innerRadius=function(t){return arguments.length?(H=ge(t),e):H},e.outerRadius=function(t){return arguments.length?(W=ge(t),e):W},e.cornerRadius=function(t){return arguments.length?(F=ge(t),e):F},e.padRadius=function(t){return arguments.length?(R=t==Ea?Ea:ge(t),e):R},e.startAngle=function(t){return arguments.length?(U=ge(t),e):U},e.endAngle=function(t){return arguments.length?(j=ge(t),e):j},e.padAngle=function(t){return arguments.length?(q=ge(t),e):q},e.centroid=function(){var t=(+H.apply(this,arguments)+ +W.apply(this,arguments))/2,e=(+U.apply(this,arguments)+ +j.apply(this,arguments))/2-Tt;return[Math.cos(e)*t,Math.sin(e)*t]},e};var Ea="auto";function Da(t){return t.innerRadius}function Oa(t){return t.outerRadius}function Pa(t){return t.startAngle}function Ia(t){return t.endAngle}function za(t){return t&&t.padAngle}function Na(t,e,n,i){return 0<(t-n)*e-(e-i)*t?0:1}function La(t,e,n,i,r){var o=t[0]-e[0],a=t[1]-e[1],s=(r?i:-i)/Math.sqrt(o*o+a*a),l=s*a,c=-s*o,u=t[0]+l,d=t[1]+c,p=e[0]+l,h=e[1]+c,f=(u+p)/2,g=(d+h)/2,v=p-u,m=h-d,b=v*v+m*m,y=n-i,x=u*h-p*d,w=(m<0?-1:1)*Math.sqrt(Math.max(0,y*y*b-x*x)),k=(x*m-v*w)/b,$=(-x*v-m*w)/b,S=(x*m+v*w)/b,C=(-x*v+m*w)/b,M=k-f,T=$-g,_=S-f,A=C-g;return _*_+A*A<M*M+T*T&&(k=S,$=C),[[k-l,$-c],[k*n/y,$*n/y]]}function Ha(c){var u=tr,d=er,p=Vn,h=Fa,e=h.key,f=.7;function n(t){var e,n=[],i=[],r=-1,o=t.length,a=ge(u),s=ge(d);function l(){n.push("M",h(c(i),f))}for(;++r<o;)p.call(this,e=t[r],r)?i.push([+a.call(this,e,r),+s.call(this,e,r)]):i.length&&(l(),i=[]);return i.length&&l(),n.length?n.join(""):null}return n.x=function(t){return arguments.length?(u=t,n):u},n.y=function(t){return arguments.length?(d=t,n):d},n.defined=function(t){return arguments.length?(p=t,n):p},n.interpolate=function(t){return arguments.length?(e="function"==typeof t?h=t:(h=Wa.get(t)||Fa).key,n):e},n.tension=function(t){return arguments.length?(f=t,n):f},n}I.svg.line=function(){return Ha(N)};var Wa=I.map({linear:Fa,"linear-closed":Ra,step:function(t){var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];for(;++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);1<n&&r.push("H",i[0]);return r.join("")},"step-before":Ua,"step-after":ja,basis:Va,"basis-open":function(t){if(t.length<4)return Fa(t);var e,n=[],i=-1,r=t.length,o=[0],a=[0];for(;++i<3;)e=t[i],o.push(e[0]),a.push(e[1]);n.push(Ya(Za,o)+","+Ya(Za,a)),--i;for(;++i<r;)e=t[i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Ka(n,o,a);return n.join("")},"basis-closed":function(t){var e,n,i=-1,r=t.length,o=r+4,a=[],s=[];for(;++i<4;)n=t[i%r],a.push(n[0]),s.push(n[1]);e=[Ya(Za,a),",",Ya(Za,s)],--i;for(;++i<o;)n=t[i%r],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Ka(e,a,s);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],a=t[0][1],s=t[n][0]-o,l=t[n][1]-a,c=-1;++c<=n;)i=t[c],r=c/n,i[0]=e*i[0]+(1-e)*(o+r*s),i[1]=e*i[1]+(1-e)*(a+r*l);return Va(t)},cardinal:function(t,e){return t.length<3?Fa(t):t[0]+qa(t,Ba(t,e))},"cardinal-open":function(t,e){return t.length<4?Fa(t):t[1]+qa(t.slice(1,-1),Ba(t,e))},"cardinal-closed":function(t,e){return t.length<3?Ra(t):t[0]+qa((t.push(t[0]),t),Ba([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Fa(t):t[0]+qa(t,function(t){var e,n,i,r,o=[],a=function(t){var e=0,n=t.length-1,i=[],r=t[0],o=t[1],a=i[0]=Qa(r,o);for(;++e<n;)i[e]=(a+(a=Qa(r=o,o=t[e+1])))/2;return i[e]=a,i}(t),s=-1,l=t.length-1;for(;++s<l;)e=Qa(t[s],t[s+1]),P(e)<kt?a[s]=a[s+1]=0:(n=a[s]/e,i=a[s+1]/e,9<(r=n*n+i*i)&&(r=3*e/Math.sqrt(r),a[s]=r*n,a[s+1]=r*i));s=-1;for(;++s<=l;)r=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}(t))}});function Fa(t){return 1<t.length?t.join("L"):t+"Z"}function Ra(t){return t.join("L")+"Z"}function Ua(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function ja(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function qa(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Fa(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],a=e[0],s=a,l=1;if(n&&(i+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=t[1],l=2),1<e.length){s=e[1],o=t[l],l++,i+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var c=2;c<e.length;c++,l++)o=t[l],s=e[c],i+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var u=t[l];i+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+u[0]+","+u[1]}return i}function Ba(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],a=t[1],s=1,l=t.length;++s<l;)n=o,o=a,a=t[s],i.push([r*(a[0]-n[0]),r*(a[1]-n[1])]);return i}function Va(t){if(t.length<3)return Fa(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],a=[r,r,r,(i=t[1])[0]],s=[o,o,o,i[1]],l=[r,",",o,"L",Ya(Za,a),",",Ya(Za,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),Ka(l,a,s);return t.pop(),l.push("L",i),l.join("")}function Ya(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}Wa.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Xa=[0,2/3,1/3,0],Ga=[0,1/3,2/3,0],Za=[0,1/6,2/3,1/6];function Ka(t,e,n){t.push("C",Ya(Xa,e),",",Ya(Xa,n),",",Ya(Ga,e),",",Ya(Ga,n),",",Ya(Za,e),",",Ya(Za,n))}function Qa(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Ja(t){for(var e,n,i,r=-1,o=t.length;++r<o;)n=(e=t[r])[0],i=e[1]-Tt,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function ts(f){var g=tr,v=tr,m=0,b=er,y=Vn,x=Fa,e=x.key,w=x,k="L",$=.7;function n(t){var e,n,i,r=[],o=[],a=[],s=-1,l=t.length,c=ge(g),u=ge(m),d=g===v?function(){return n}:ge(v),p=m===b?function(){return i}:ge(b);function h(){r.push("M",x(f(a),$),k,w(f(o.reverse()),$),"Z")}for(;++s<l;)y.call(this,e=t[s],s)?(o.push([n=+c.call(this,e,s),i=+u.call(this,e,s)]),a.push([+d.call(this,e,s),+p.call(this,e,s)])):o.length&&(h(),o=[],a=[]);return o.length&&h(),r.length?r.join(""):null}return n.x=function(t){return arguments.length?(g=v=t,n):v},n.x0=function(t){return arguments.length?(g=t,n):g},n.x1=function(t){return arguments.length?(v=t,n):v},n.y=function(t){return arguments.length?(m=b=t,n):b},n.y0=function(t){return arguments.length?(m=t,n):m},n.y1=function(t){return arguments.length?(b=t,n):b},n.defined=function(t){return arguments.length?(y=t,n):y},n.interpolate=function(t){return arguments.length?(e="function"==typeof t?x=t:(x=Wa.get(t)||Fa).key,w=x.reverse||x,k=x.closed?"M":"L",n):e},n.tension=function(t){return arguments.length?($=t,n):$},n}function es(t){return t.radius}function ns(t){return[t.x,t.y]}function is(){return 64}function rs(){return"circle"}function os(t){var e=Math.sqrt(t/St);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}I.svg.line.radial=function(){var t=Ha(Ja);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(Ua.reverse=ja).reverse=Ua,I.svg.area=function(){return ts(N)},I.svg.area.radial=function(){var t=ts(Ja);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},I.svg.chord=function(){var a=Fi,s=Ri,l=es,c=Pa,u=Ia;function e(t,e){var n,i,r=d(this,a,t,e),o=d(this,s,t,e);return"M"+r.p0+p(r.r,r.p1,r.a1-r.a0)+(i=o,(n=r).a0==i.a0&&n.a1==i.a1?h(r.r,r.p1,r.r,r.p0):h(r.r,r.p1,o.r,o.p0)+p(o.r,o.p1,o.a1-o.a0)+h(o.r,o.p1,r.r,r.p0))+"Z"}function d(t,e,n,i){var r=e.call(t,n,i),o=l.call(t,r,i),a=c.call(t,r,i)-Tt,s=u.call(t,r,i)-Tt;return{r:o,a0:a,a1:s,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(s),o*Math.sin(s)]}}function p(t,e,n){return"A"+t+","+t+" 0 "+ +(St<n)+",1 "+e}function h(t,e,n,i){return"Q 0,0 "+i}return e.radius=function(t){return arguments.length?(l=ge(t),e):l},e.source=function(t){return arguments.length?(a=ge(t),e):a},e.target=function(t){return arguments.length?(s=ge(t),e):s},e.startAngle=function(t){return arguments.length?(c=ge(t),e):c},e.endAngle=function(t){return arguments.length?(u=ge(t),e):u},e},I.svg.diagonal=function(){var a=Fi,s=Ri,l=ns;function e(t,e){var n=a.call(this,t,e),i=s.call(this,t,e),r=(n.y+i.y)/2,o=[n,{x:n.x,y:r},{x:i.x,y:r},i];return"M"+(o=o.map(l))[0]+"C"+o[1]+" "+o[2]+" "+o[3]}return e.source=function(t){return arguments.length?(a=ge(t),e):a},e.target=function(t){return arguments.length?(s=ge(t),e):s},e.projection=function(t){return arguments.length?(l=t,e):l},e},I.svg.diagonal.radial=function(){var t=I.svg.diagonal(),e=ns,n=t.projection;return t.projection=function(t){return arguments.length?n((i=e=t,function(){var t=i.apply(this,arguments),e=t[0],n=t[1]-Tt;return[e*Math.cos(n),e*Math.sin(n)]})):e;var i},t},I.svg.symbol=function(){var n=rs,i=is;function e(t,e){return(as.get(n.call(this,t,e))||os)(i.call(this,t,e))}return e.type=function(t){return arguments.length?(n=ge(t),e):n},e.size=function(t){return arguments.length?(i=ge(t),e):i},e};var as=I.map({circle:os,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*ls)),n=e*ls;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/ss),n=e*ss/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/ss),n=e*ss/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});I.svg.symbolTypes=as.keys();var ss=Math.sqrt(3),ls=Math.tan(30*_t);V.transition=function(t){for(var e,n,i=ps||++gs,r=bs(t),o=[],a=hs||{time:Date.now(),ease:io,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(e=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(n=c[u])&&ys(n,u,r,i,a),e.push(n)}return ds(o,r,i)},V.interrupt=function(t){return this.each(null==t?cs:us(bs(t)))};var cs=us(bs());function us(i){return function(){var t,e,n;(t=this[i])&&(n=t[e=t.active])&&(n.timer.c=null,n.timer.t=NaN,--t.count?delete t[e]:delete this[i],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function ds(t,e,n){return R(t,fs),t.namespace=e,t.id=n,t}var ps,hs,fs=[],gs=0;function vs(t,i,r,o){var a=t.id,s=t.namespace;return ct(t,"function"==typeof r?function(t,e,n){t[s][a].tween.set(i,o(r.call(t,t.__data__,e,n)))}:(r=o(r),function(t){t[s][a].tween.set(i,r)}))}function ms(t){return null==t&&(t=""),function(){this.textContent=t}}function bs(t){return null==t?"__transition__":"__transition_"+t+"__"}function ys(o,a,r,s,t){var l,c,u,d,p,h=o[r]||(o[r]={active:0,count:0}),f=h[s];function n(t){var e=h.active,n=h[e];for(var i in n&&(n.timer.c=null,n.timer.t=NaN,--h.count,delete h[e],n.event&&n.event.interrupt.call(o,o.__data__,n.index)),h)if(+i<s){var r=h[i];r.timer.c=null,r.timer.t=NaN,--h.count,delete h[i]}c.c=g,$e(function(){return c.c&&g(t||1)&&(c.c=null,c.t=NaN),1},0,l),h.active=s,f.event&&f.event.start.call(o,o.__data__,a),p=[],f.tween.forEach(function(t,e){(e=e.call(o,o.__data__,a))&&p.push(e)}),d=f.ease,u=f.duration}function g(t){for(var e=t/u,n=d(e),i=p.length;0<i;)p[--i].call(o,n);if(1<=e)return f.event&&f.event.end.call(o,o.__data__,a),--h.count?delete h[s]:delete o[r],1}f||(l=t.time,c=$e(function(t){var e=f.delay;if(c.t=e+l,e<=t)return n(t-e);c.c=n},0,l),f=h[s]={tween:new b,time:l,timer:c,delay:t.delay,duration:t.duration,ease:t.ease,index:a},t=null,++h.count)}fs.call=V.call,fs.empty=V.empty,fs.node=V.node,fs.size=V.size,I.transition=function(t,e){return t&&t.transition?ps?t.transition(e):t:I.selection().transition(t)},(I.transition.prototype=fs).select=function(t){var e,n,i,r=this.id,o=this.namespace,a=[];t=Y(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(i=c[u])&&(n=t.call(i,i.__data__,u,s))?("__data__"in i&&(n.__data__=i.__data__),ys(n,u,o,r,i[o][r]),e.push(n)):e.push(null)}return ds(a,o,r)},fs.selectAll=function(t){var e,n,i,r,o,a=this.id,s=this.namespace,l=[];t=X(t);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],p=-1,h=d.length;++p<h;)if(i=d[p]){o=i[s][a],n=t.call(i,i.__data__,p,c),l.push(e=[]);for(var f=-1,g=n.length;++f<g;)(r=n[f])&&ys(r,f,s,a,o),e.push(r)}return ds(l,s,a)},fs.filter=function(t){var e,n,i=[];"function"!=typeof t&&(t=lt(t));for(var r=0,o=this.length;r<o;r++){i.push(e=[]);for(var a,s=0,l=(a=this[r]).length;s<l;s++)(n=a[s])&&t.call(n,n.__data__,s,r)&&e.push(n)}return ds(i,this.namespace,this.id)},fs.tween=function(e,n){var i=this.id,r=this.namespace;return arguments.length<2?this.node()[r][i].tween.get(e):ct(this,null==n?function(t){t[r][i].tween.remove(e)}:function(t){t[r][i].tween.set(e,n)})},fs.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var i="transform"==t?go:Xr,r=I.ns.qualify(t);function o(){this.removeAttribute(r)}function a(){this.removeAttributeNS(r.space,r.local)}return vs(this,"attr."+t,e,r.local?function(n){return null==n?a:(n+="",function(){var e,t=this.getAttributeNS(r.space,r.local);return t!==n&&(e=i(t,n),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}:function(n){return null==n?o:(n+="",function(){var e,t=this.getAttribute(r);return t!==n&&(e=i(t,n),function(t){this.setAttribute(r,e(t))})})})},fs.attrTween=function(t,i){var r=I.ns.qualify(t);return this.tween("attr."+t,r.local?function(t,e){var n=i.call(this,t,e,this.getAttributeNS(r.space,r.local));return n&&function(t){this.setAttributeNS(r.space,r.local,n(t))}}:function(t,e){var n=i.call(this,t,e,this.getAttribute(r));return n&&function(t){this.setAttribute(r,n(t))}})},fs.style=function(i,t,r){var e=arguments.length;if(e<3){if("string"!=typeof i){for(r in e<2&&(t=""),i)this.style(r,i[r],t);return this}r=""}function o(){this.style.removeProperty(i)}return vs(this,"style."+i,t,function(n){return null==n?o:(n+="",function(){var e,t=z(this).getComputedStyle(this,null).getPropertyValue(i);return t!==n&&(e=Xr(t,n),function(t){this.style.setProperty(i,e(t),r)})})})},fs.styleTween=function(i,r,o){return arguments.length<3&&(o=""),this.tween("style."+i,function(t,e){var n=r.call(this,t,e,z(this).getComputedStyle(this,null).getPropertyValue(i));return n&&function(t){this.style.setProperty(i,n(t),o)}})},fs.text=function(t){return vs(this,"text",t,ms)},fs.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},fs.ease=function(e){var n=this.id,i=this.namespace;return arguments.length<1?this.node()[i][n].ease:("function"!=typeof e&&(e=I.ease.apply(I,arguments)),ct(this,function(t){t[i][n].ease=e}))},fs.delay=function(i){var r=this.id,o=this.namespace;return arguments.length<1?this.node()[o][r].delay:ct(this,"function"==typeof i?function(t,e,n){t[o][r].delay=+i.call(t,t.__data__,e,n)}:(i=+i,function(t){t[o][r].delay=i}))},fs.duration=function(i){var r=this.id,o=this.namespace;return arguments.length<1?this.node()[o][r].duration:ct(this,"function"==typeof i?function(t,e,n){t[o][r].duration=Math.max(1,i.call(t,t.__data__,e,n))}:(i=Math.max(1,i),function(t){t[o][r].duration=i}))},fs.each=function(i,n){var r=this.id,o=this.namespace;if(arguments.length<2){var t=hs,e=ps;try{ps=r,ct(this,function(t,e,n){hs=t[o][r],i.call(t,t.__data__,e,n)})}finally{hs=t,ps=e}}else ct(this,function(t){var e=t[o][r];(e.event||(e.event=I.dispatch("start","end","interrupt"))).on(i,n)});return this},fs.transition=function(){for(var t,e,n,i=this.id,r=++gs,o=this.namespace,a=[],s=0,l=this.length;s<l;s++){a.push(t=[]);for(var c,u=0,d=(c=this[s]).length;u<d;u++)(e=c[u])&&ys(e,u,o,r,{time:(n=e[o][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return ds(a,o,r)},I.svg.axis=function(){var M,T=I.scale.linear(),_=xs,A=6,E=6,D=3,O=[10],P=null;function n(t){t.each(function(){var t,e=I.select(this),n=this.__chart__||T,i=this.__chart__=T.copy(),r=null==P?i.ticks?i.ticks.apply(i,O):i.domain():P,o=null==M?i.tickFormat?i.tickFormat.apply(i,O):N:M,a=e.selectAll(".tick").data(r,i),s=a.enter().insert("g",".domain").attr("class","tick").style("opacity",kt),l=I.transition(a.exit()).style("opacity",kt).remove(),c=I.transition(a.order()).style("opacity",1),u=Math.max(A,0)+D,d=ca(i),p=e.selectAll(".domain").data([0]),h=(p.enter().append("path").attr("class","domain"),I.transition(p));s.append("line"),s.append("text");var f,g,v,m,b=s.select("line"),y=c.select("line"),x=a.select("text").text(o),w=s.select("text"),k=c.select("text"),$="top"===_||"left"===_?-1:1;if("bottom"===_||"top"===_?(t=ks,f="x",v="y",g="x2",m="y2",x.attr("dy",$<0?"0em":".71em").style("text-anchor","middle"),h.attr("d","M"+d[0]+","+$*E+"V0H"+d[1]+"V"+$*E)):(t=$s,f="y",v="x",g="y2",m="x2",x.attr("dy",".32em").style("text-anchor",$<0?"end":"start"),h.attr("d","M"+$*E+","+d[0]+"H0V"+d[1]+"H"+$*E)),b.attr(m,$*A),w.attr(v,$*u),y.attr(g,0).attr(m,$*A),k.attr(f,0).attr(v,$*u),i.rangeBand){var S=i,C=S.rangeBand()/2;n=i=function(t){return S(t)+C}}else n.rangeBand?n=i:l.call(t,i,n);s.call(t,n,i),c.call(t,i,i)})}return n.scale=function(t){return arguments.length?(T=t,n):T},n.orient=function(t){return arguments.length?(_=t in ws?t+"":xs,n):_},n.ticks=function(){return arguments.length?(O=p(arguments),n):O},n.tickValues=function(t){return arguments.length?(P=t,n):P},n.tickFormat=function(t){return arguments.length?(M=t,n):M},n.tickSize=function(t){var e=arguments.length;return e?(A=+t,E=+arguments[e-1],n):A},n.innerTickSize=function(t){return arguments.length?(A=+t,n):A},n.outerTickSize=function(t){return arguments.length?(E=+t,n):E},n.tickPadding=function(t){return arguments.length?(D=+t,n):D},n.tickSubdivide=function(){return arguments.length&&n},n};var xs="bottom",ws={top:1,right:1,bottom:1,left:1};function ks(t,n,i){t.attr("transform",function(t){var e=n(t);return"translate("+(isFinite(e)?e:i(t))+",0)"})}function $s(t,n,i){t.attr("transform",function(t){var e=n(t);return"translate(0,"+(isFinite(e)?e:i(t))+")"})}I.svg.brush=function(){var b,y,x=W(T,"brushstart","brush","brushend"),w=null,k=null,$=[0,0],S=[0,0],C=!0,M=!0,a=Cs[0];function T(t){t.each(function(){var t=I.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",s).on("touchstart.brush",s),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(a,N);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ss[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",T.empty()?"none":null);var i,r=I.transition(t),o=I.transition(e);w&&(i=ca(w),o.attr("x",i[0]).attr("width",i[1]-i[0]),A(r)),k&&(i=ca(k),o.attr("y",i[0]).attr("height",i[1]-i[0]),E(r)),_(r)})}function _(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+$[+/e$/.test(t)]+","+S[+/^s/.test(t)]+")"})}function A(t){t.select(".extent").attr("x",$[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",$[1]-$[0])}function E(t){t.select(".extent").attr("y",S[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",S[1]-S[0])}function s(){var d,n,i=this,t=I.select(I.event.target),r=x.of(i,arguments),o=I.select(i),e=t.datum(),a=!/^(n|s)$/.test(e)&&w,s=!/^(e|w)$/.test(e)&&k,p=t.classed("extent"),l=bt(i),h=I.mouse(i),c=I.select(z(i)).on("keydown.brush",function(){32==I.event.keyCode&&(p||(d=null,h[0]-=$[1],h[1]-=S[1],p=2),L())}).on("keyup.brush",function(){32==I.event.keyCode&&2==p&&(h[0]+=$[1],h[1]+=S[1],p=0,L())});if(I.event.changedTouches?c.on("touchmove.brush",g).on("touchend.brush",m):c.on("mousemove.brush",g).on("mouseup.brush",m),o.interrupt().selectAll("*").interrupt(),p)h[0]=$[0]-h[0],h[1]=S[0]-h[1];else if(e){var u=+/w$/.test(e),f=+/^n/.test(e);n=[$[1-u]-h[0],S[1-f]-h[1]],h[0]=$[u],h[1]=S[f]}else I.event.altKey&&(d=h.slice());function g(){var t=I.mouse(i),e=!1;n&&(t[0]+=n[0],t[1]+=n[1]),p||(I.event.altKey?(d||(d=[($[0]+$[1])/2,(S[0]+S[1])/2]),h[0]=$[+(t[0]<d[0])],h[1]=S[+(t[1]<d[1])]):d=null),a&&v(t,w,0)&&(A(o),e=!0),s&&v(t,k,1)&&(E(o),e=!0),e&&(_(o),r({type:"brush",mode:p?"move":"resize"}))}function v(t,e,n){var i,r,o=ca(e),a=o[0],s=o[1],l=h[n],c=n?S:$,u=c[1]-c[0];if(p&&(a-=l,s-=u+l),i=(n?M:C)?Math.max(a,Math.min(s,t[n])):t[n],p?r=(i+=l)+u:(d&&(l=Math.max(a,Math.min(s,2*d[n]-i))),l<i?(r=i,i=l):r=l),c[0]!=i||c[1]!=r)return n?y=null:b=null,c[0]=i,c[1]=r,!0}function m(){g(),o.style("pointer-events","all").selectAll(".resize").style("display",T.empty()?"none":null),I.select("body").style("cursor",null),c.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),l(),r({type:"brushend"})}o.style("pointer-events","none").selectAll(".resize").style("display",null),I.select("body").style("cursor",t.style("cursor")),r({type:"brushstart"}),g()}return T.event=function(t){t.each(function(){var i=x.of(this,arguments),r={x:$,y:S,i:b,j:y},t=this.__chart__||r;this.__chart__=r,ps?I.select(this).transition().each("start.brush",function(){b=t.i,y=t.j,$=t.x,S=t.y,i({type:"brushstart"})}).tween("brush:brush",function(){var e=Gr($,r.x),n=Gr(S,r.y);return b=y=null,function(t){$=r.x=e(t),S=r.y=n(t),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){b=r.i,y=r.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},T.x=function(t){return arguments.length?(a=Cs[!(w=t)<<1|!k],T):w},T.y=function(t){return arguments.length?(a=Cs[!w<<1|!(k=t)],T):k},T.clamp=function(t){return arguments.length?(w&&k?(C=!!t[0],M=!!t[1]):w?C=!!t:k&&(M=!!t),T):w&&k?[C,M]:w?C:k?M:null},T.extent=function(t){var e,n,i,r,o;return arguments.length?(w&&(e=t[0],n=t[1],k&&(e=e[0],n=n[0]),b=[e,n],w.invert&&(e=w(e),n=w(n)),n<e&&(o=e,e=n,n=o),e==$[0]&&n==$[1]||($=[e,n])),k&&(i=t[0],r=t[1],w&&(i=i[1],r=r[1]),y=[i,r],k.invert&&(i=k(i),r=k(r)),r<i&&(o=i,i=r,r=o),i==S[0]&&r==S[1]||(S=[i,r])),T):(w&&(b?(e=b[0],n=b[1]):(e=$[0],n=$[1],w.invert&&(e=w.invert(e),n=w.invert(n)),n<e&&(o=e,e=n,n=o))),k&&(y?(i=y[0],r=y[1]):(i=S[0],r=S[1],k.invert&&(i=k.invert(i),r=k.invert(r)),r<i&&(o=i,i=r,r=o))),w&&k?[[e,i],[n,r]]:w?[e,n]:k&&[i,r])},T.clear=function(){return T.empty()||($=[0,0],S=[0,0],b=y=null),T},T.empty=function(){return!!w&&$[0]==$[1]||!!k&&S[0]==S[1]},I.rebind(T,x,"on")};var Ss={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Cs=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ms=Oe.format=sn.timeFormat,Ts=Ms.utc,_s=Ts("%Y-%m-%dT%H:%M:%S.%LZ");function As(t){return t.toISOString()}function Es(e,r,t){function a(t){return e(t)}function s(t,e){var n=(t[1]-t[0])/e,i=I.bisect(Os,n);return i==Os.length?[r.year,ma(t.map(function(t){return t/31536e6}),e)[2]]:i?r[n/Os[i-1]<Os[i]/n?i-1:i]:[zs,ma(t,e)[2]]}return a.invert=function(t){return Ds(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain(t),a):e.domain().map(Ds)},a.nice=function(e,n){var t=a.domain(),i=la(t),r=null==e?s(i,10):"number"==typeof e&&s(i,e);function o(t){return!isNaN(t)&&!e.range(t,Ds(+t+1),n).length}return r&&(e=r[0],n=r[1]),a.domain(da(t,1<n?{floor:function(t){for(;o(t=e.floor(t));)t=Ds(t-1);return t},ceil:function(t){for(;o(t=e.ceil(t));)t=Ds(+t+1);return t}}:e))},a.ticks=function(t,e){var n=la(a.domain()),i=null==t?s(n,10):"number"==typeof t?s(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],Ds(+n[1]+1),e<1?1:e)},a.tickFormat=function(){return t},a.copy=function(){return Es(e.copy(),r,t)},ga(a,e)}function Ds(t){return new Date(t)}Ms.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?As:_s,As.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},As.toString=_s.toString,Oe.second=Ne(function(t){return new Pe(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Oe.seconds=Oe.second.range,Oe.seconds.utc=Oe.second.utc.range,Oe.minute=Ne(function(t){return new Pe(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Oe.minutes=Oe.minute.range,Oe.minutes.utc=Oe.minute.utc.range,Oe.hour=Ne(function(t){var e=t.getTimezoneOffset()/60;return new Pe(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Oe.hours=Oe.hour.range,Oe.hours.utc=Oe.hour.utc.range,Oe.month=Ne(function(t){return(t=Oe.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Oe.months=Oe.month.range,Oe.months.utc=Oe.month.utc.range;var Os=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ps=[[Oe.second,1],[Oe.second,5],[Oe.second,15],[Oe.second,30],[Oe.minute,1],[Oe.minute,5],[Oe.minute,15],[Oe.minute,30],[Oe.hour,1],[Oe.hour,3],[Oe.hour,6],[Oe.hour,12],[Oe.day,1],[Oe.day,2],[Oe.week,1],[Oe.month,1],[Oe.month,3],[Oe.year,1]],Is=Ms.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Vn]]),zs={range:function(t,e,n){return I.range(Math.ceil(t/n)*n,+e,n).map(Ds)},floor:N,ceil:N};Ps.year=Oe.year,Oe.scale=function(){return Es(I.scale.linear(),Ps,Is)};var Ns=Ps.map(function(t){return[t[0].utc,t[1]]}),Ls=Ts.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Vn]]);function Hs(t){return JSON.parse(t.responseText)}function Ws(t){var e=y.createRange();return e.selectNode(y.body),e.createContextualFragment(t.responseText)}Ns.year=Oe.year.utc,Oe.scale.utc=function(){return Es(I.scale.linear(),Ns,Ls)},I.text=ve(function(t){return t.responseText}),I.json=function(t,e){return me(t,"application/json",Hs,e)},I.html=function(t,e){return me(t,"text/html",Ws,e)},I.xml=ve(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=I,define(I)):"object"==typeof module&&module.exports?module.exports=I:this.d3=I}(),function(){var ht={dev:!1};ht.tooltip=ht.tooltip||{},ht.utils=ht.utils||{},ht.models=ht.models||{},ht.charts={},ht.logs={},ht.dom={},"undefined"!=typeof module&&"undefined"!=typeof exports&&"undefined"==typeof d3&&(d3=require("d3")),ht.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),ht.dev&&(ht.dispatch.on("render_start",function(t){ht.logs.startTime=+new Date}),ht.dispatch.on("render_end",function(t){ht.logs.endTime=+new Date,ht.logs.totalTime=ht.logs.endTime-ht.logs.startTime,ht.log("total",ht.logs.totalTime)})),ht.log=function(){if(ht.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(ht.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){Function.prototype.bind.call(console.log,console).apply(console,arguments)}return arguments[arguments.length-1]},ht.deprecated=function(t,e){console&&console.warn&&console.warn("nvd3 warning: `"+t+"` has been deprecated. ",e||"")},ht.render=function(i){i=i||1,ht.render.active=!0,ht.dispatch.render_start();var r=function(){for(var t,e,n=0;n<i&&(e=ht.render.queue[n]);n++)t=e.generate(),typeof e.callback==typeof Function&&e.callback(t);ht.render.queue.splice(0,n),ht.render.queue.length?setTimeout(r):(ht.dispatch.render_end(),ht.render.active=!1)};setTimeout(r)},ht.render.active=!1,ht.render.queue=[],ht.addGraph=function(t){typeof t==typeof Function&&(t={generate:t,callback:arguments[1]}),ht.render.queue.push(t),ht.render.active||ht.render()},"undefined"!=typeof module&&"undefined"!=typeof exports&&(module.exports=ht),"undefined"!=typeof window&&(window.nv=ht),ht.dom.write=function(t){return void 0!==window.fastdom?fastdom.mutate(t):t()},ht.dom.read=function(t){return void 0!==window.fastdom?fastdom.measure(t):t()},ht.interactiveGuideline=function(){"use strict";function c(t){t.each(function(t){function e(){var t=d3.mouse(this),e=t[0],n=t[1],i=!0,r=!1;if(g&&(e=d3.event.offsetX,n=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(i=!1),d3.event.target.className.baseVal.match("nv-legend")&&(r=!0)),i&&(e-=u.left,n-=u.top),"mouseout"===d3.event.type||e<0||n<0||s<e||l<n||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||r){if(g&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(f.nvPointerEventsClass)))return;return p.elementMouseout({mouseX:e,mouseY:n}),c.renderGuideLine(null),void f.hidden(!0)}f.hidden(!1);var o=void 0;if("function"==typeof d.rangeBands){var a=d3.bisect(d.range(),e)-1;if(!(d.range()[a]+d.rangeBand()>=e))return p.elementMouseout({mouseX:e,mouseY:n}),c.renderGuideLine(null),void f.hidden(!0);o=d.domain()[d3.bisect(d.range(),e)-1]}else o=d.invert(e);p.elementMousemove({mouseX:e,mouseY:n,pointXValue:o}),"dblclick"===d3.event.type&&p.elementDblclick({mouseX:e,mouseY:n,pointXValue:o}),"click"===d3.event.type&&p.elementClick({mouseX:e,mouseY:n,pointXValue:o}),"mousedown"===d3.event.type&&p.elementMouseDown({mouseX:e,mouseY:n,pointXValue:o}),"mouseup"===d3.event.type&&p.elementMouseUp({mouseX:e,mouseY:n,pointXValue:o})}var n=d3.select(this),s=r||960,l=o||400,i=n.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([t]);i.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),h&&(h.on("touchmove",e).on("mousemove",e,!0).on("mouseout",e,!0).on("mousedown",e,!0).on("mouseup",e,!0).on("dblclick",e).on("click",e),c.guideLine=null,c.renderGuideLine=function(e){a&&(c.guideLine&&c.guideLine.attr("x1")===e||ht.dom.write(function(){var t=i.select(".nv-interactiveGuideLine").selectAll("line").data(null!=e?[ht.utils.NaNtoZero(e)]:[],String);t.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",l).attr("y2",0),t.exit().remove()}))})})}var u={left:0,top:0},r=null,o=null,d=d3.scale.linear(),p=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),a=!0,h=null,f=ht.models.tooltip(),g=window.ActiveXObject;return f.duration(0).hideDelay(0).hidden(!1),c.dispatch=p,c.tooltip=f,c.margin=function(t){return arguments.length?(u.top=void 0!==t.top?t.top:u.top,u.left=void 0!==t.left?t.left:u.left,c):u},c.width=function(t){return arguments.length?(r=t,c):r},c.height=function(t){return arguments.length?(o=t,c):o},c.xScale=function(t){return arguments.length?(d=t,c):d},c.showGuideLine=function(t){return arguments.length?(a=t,c):a},c.svgContainer=function(t){return arguments.length?(h=t,c):h},c},ht.interactiveBisect=function(t,e,n){"use strict";if(!(t instanceof Array))return null;var i;i="function"!=typeof n?function(t){return t.x}:n;var r=d3.bisector(function(t,e){return i(t)-e}).left,o=d3.max([0,r(t,e)-1]),a=i(t[o]);if(void 0===a&&(a=o),a===e)return o;var s=d3.min([o+1,t.length-1]),l=i(t[s]);return void 0===l&&(l=s),Math.abs(l-e)>=Math.abs(a-e)?o:s},ht.nearestValueIndex=function(t,i,r){"use strict";var o=1/0,a=null;return t.forEach(function(t,e){var n=Math.abs(i-t);null!=t&&n<=o&&n<r&&(o=n,a=e)}),a},ht.models.tooltip=function(){"use strict";function e(){return a&&t(i)?(ht.dom.write(function(){p&&p.node()||((p=d3.select(document.body).select("#"+n).data([1])).enter().append("div").attr("class","nvtooltip "+(o||"xy-tooltip")).attr("id",n).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed(g,!0).classed(g,!0),p.exit().remove());var t=y(i);t&&(p.node().innerHTML=t),w()}),e):void 0}var n="nvtooltip-"+Math.floor(1e5*Math.random()),i=null,l="w",c=25,r=0,o=null,u=!0,d=200,p=null,h={left:null,top:null},a=!0,f=100,s=!0,g="nv-pointer-events-none",v=function(t,e){return t},m=function(t){return t},b=function(t,e){return t},y=function(t){if(null===t)return"";var e=d3.select(document.createElement("table"));s&&e.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(m(t.value));var n=e.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});n.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),n.append("td").classed("key",!0).classed("total",function(t){return!!t.total}).html(function(t,e){return b(t.key,e)}),n.append("td").classed("value",!0).html(function(t,e){return v(t.value,e)}),n.filter(function(t,e){return void 0!==t.percent}).append("td").classed("percent",!0).html(function(t,e){return"("+d3.format("%")(t.percent)+")"}),n.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]);d3.select(this).style("border-bottom-color",e(.6)).style("border-top-color",e(.6))}});var i=e.node().outerHTML;return void 0!==t.footer&&(i+="<div class='footer'>"+t.footer+"</div>"),i},x=function(){var t={left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var e=document.body.getBoundingClientRect();t.left-=e.left,t.top-=e.top}return t},t=function(t){if(t&&t.series){if(ht.utils.isArray(t.series))return!0;if(ht.utils.isObject(t.series))return t.series=[t.series],!0}return!1},w=function(){ht.dom.read(function(){var t=x(),e=function(t){var e,n,i,r=p.node().offsetHeight,o=p.node().offsetWidth,a=document.documentElement.clientWidth,s=document.documentElement.clientHeight;switch(l){case"e":e=-o-c,n=-r/2,t.left+e<0&&(e=c),(i=t.top+n)<0&&(n-=i),(i=t.top+n+r)>s&&(n-=i-s);break;case"w":e=c,n=-r/2,t.left+e+o>a&&(e=-o-c),(i=t.top+n)<0&&(n-=i),(i=t.top+n+r)>s&&(n-=i-s);break;case"n":e=-o/2-5,n=c,t.top+n+r>s&&(n=-r-c),(i=t.left+e)<0&&(e-=i),(i=t.left+e+o)>a&&(e-=i-a);break;case"s":e=-o/2,n=-r-c,t.top+n<0&&(n=c),(i=t.left+e)<0&&(e-=i),(i=t.left+e+o)>a&&(e-=i-a);break;case"center":e=-o/2,n=-r/2;break;default:n=e=0}return{left:e,top:n}}(t),n=t.left+e.left,i=t.top+e.top;if(u)p.interrupt().transition().delay(d).duration(0).style("opacity",0);else{var r="translate("+h.left+"px, "+h.top+"px)",o="translate("+Math.round(n)+"px, "+Math.round(i)+"px)",a=d3.interpolateString(r,o),s=p.style("opacity")<.1;p.interrupt().transition().duration(s?0:f).styleTween("transform",function(t){return a},"important").styleTween("-webkit-transform",function(t){return a}).style("-ms-transform",o).style("opacity",1)}h.left=n,h.top=i})};return e.nvPointerEventsClass=g,e.options=ht.utils.optionsFunc.bind(e),e._options=Object.create({},{duration:{get:function(){return f},set:function(t){f=t}},gravity:{get:function(){return l},set:function(t){l=t}},distance:{get:function(){return c},set:function(t){c=t}},snapDistance:{get:function(){return r},set:function(t){r=t}},classes:{get:function(){return o},set:function(t){o=t}},enabled:{get:function(){return a},set:function(t){a=t}},hideDelay:{get:function(){return d},set:function(t){d=t}},contentGenerator:{get:function(){return y},set:function(t){y=t}},valueFormatter:{get:function(){return v},set:function(t){v=t}},headerFormatter:{get:function(){return m},set:function(t){m=t}},keyFormatter:{get:function(){return b},set:function(t){b=t}},headerEnabled:{get:function(){return s},set:function(t){s=t}},position:{get:function(){return x},set:function(t){x=t}},chartContainer:{get:function(){return document.body},set:function(t){ht.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(t){ht.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(t){ht.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return u},set:function(t){u!=t&&(u=!!t,e())}},data:{get:function(){return i},set:function(t){t.point&&(t.value=t.point.x,t.series=t.series||{},t.series.value=t.point.y,t.series.color=t.point.color||t.series.color),i=t}},node:{get:function(){return p.node()},set:function(t){}},id:{get:function(){return n},set:function(t){}}}),ht.utils.initOptions(e),e},ht.utils.windowSize=function(){var t={width:640,height:480};return window.innerWidth&&window.innerHeight?(t.width=window.innerWidth,t.height=window.innerHeight):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight):document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),t},ht.utils.isArray=Array.isArray,ht.utils.isObject=function(t){return null!==t&&"object"==typeof t},ht.utils.isFunction=function(t){return"function"==typeof t},ht.utils.isDate=function(t){return"[object Date]"===toString.call(t)},ht.utils.isNumber=function(t){return!isNaN(t)&&"number"==typeof t},ht.utils.windowResize=function(t){return window.addEventListener?window.addEventListener("resize",t):ht.log("ERROR: Failed to bind to window.resize with: ",t),{callback:t,clear:function(){window.removeEventListener("resize",t)}}},ht.utils.getColor=function(t){if(void 0===t)return ht.utils.defaultColor();if(ht.utils.isArray(t)){var i=d3.scale.ordinal().range(t);return function(t,e){var n=void 0===e?t:e;return t.color||i(n)}}return t},ht.utils.defaultColor=function(){return ht.utils.getColor(d3.scale.category20().range())},ht.utils.customTheme=function(i,r,o){r=r||function(t){return t.key};var a=(o=o||d3.scale.category20().range()).length;return function(t,e){var n=r(t);return ht.utils.isFunction(i[n])?i[n]():void 0!==i[n]?i[n]:(a||(a=o.length),o[a-=1])}},ht.utils.pjax=function(n,i){var t=function(t){d3.html(t,function(t){var e=d3.select(i).node();e.parentNode.replaceChild(d3.select(t).select(i).node(),e),ht.utils.pjax(n,i)})};d3.selectAll(n).on("click",function(){history.pushState(this.href,this.textContent,this.href),t(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&t(d3.event.state)})},ht.utils.calcApproxTextWidth=function(t){if(ht.utils.isFunction(t.style)&&ht.utils.isFunction(t.text)){var e=parseInt(t.style("font-size").replace("px",""),10),n=t.text().length;return ht.utils.NaNtoZero(n*e*.5)}return 0},ht.utils.NaNtoZero=function(t){return!ht.utils.isNumber(t)||isNaN(t)||null===t||t===1/0||t===-1/0?0:t},d3.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},ht.utils.renderWatch=function(t,e){if(!(this instanceof ht.utils.renderWatch))return new ht.utils.renderWatch(t,e);var o=void 0!==e?e:250,a=[],s=this;this.models=function(t){return(t=[].slice.call(arguments,0)).forEach(function(t){var e;t.__rendered=!1,(e=t).dispatch.on("renderEnd",function(t){e.__rendered=!0,s.renderEnd("model")}),a.indexOf(t)<0&&a.push(t)}),this},this.reset=function(t){void 0!==t&&(o=t),a=[]},this.transition=function(n,i,t){if(t=1<(i=1<arguments.length?[].slice.call(arguments,1):[]).length?i.pop():void 0!==o?o:250,n.__rendered=!1,a.indexOf(n)<0&&a.push(n),0===t)return n.__rendered=!0,n.delay=function(){return this},n.duration=function(){return this},n;0===n.length?n.__rendered=!0:n.every(function(t){return!t.length})?n.__rendered=!0:n.__rendered=!1;var r=0;return n.transition().duration(t).each(function(){++r}).each("end",function(t,e){0==--r&&(n.__rendered=!0,s.renderEnd.apply(this,i))})},this.renderEnd=function(){a.every(function(t){return t.__rendered})&&(a.forEach(function(t){t.__rendered=!1}),t.renderEnd.apply(this,arguments))}},ht.utils.deepExtend=function(o){(1<arguments.length?[].slice.call(arguments,1):[]).forEach(function(t){for(var e in t){var n=ht.utils.isArray(o[e]),i=ht.utils.isObject(o[e]),r=ht.utils.isObject(t[e]);i&&!n&&r?ht.utils.deepExtend(o[e],t[e]):o[e]=t[e]}})},ht.utils.state=function(){if(!(this instanceof ht.utils.state))return new ht.utils.state;var n={},e=function(){},i=function(){return{}},r=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(t){e(t,!0)}),this.getter=function(t){return i=t,this},this.setter=function(n,i){return i||(i=function(){}),e=function(t,e){n(t),e&&i()},this},this.init=function(t){r=r||{},ht.utils.deepExtend(r,t)};this.update=function(){r&&(e(r,!1),r=null),function(){var t=i();if(JSON.stringify(t)===JSON.stringify(n))return!1;for(var e in t)void 0===n[e]&&(n[e]={}),n[e]=t[e],!0;return!0}.call(this)&&this.dispatch.change(n)}},ht.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,e){ht.utils.isFunction(this[t])&&this[t](e)}.bind(this)),this},ht.utils.calcTicksX=function(t,e){for(var n=1,i=0;i<e.length;i+=1){var r=e[i]&&e[i].values?e[i].values.length:0;n=n<r?r:n}return ht.log("Requested number of ticks: ",t),ht.log("Calculated max values to be: ",n),t=(t=n<t?t=n-1:t)<1?1:t,t=Math.floor(t),ht.log("Calculating tick count as: ",t),t},ht.utils.calcTicksY=function(t,e){return ht.utils.calcTicksX(t,e)},ht.utils.initOption=function(e,n){e._calls&&e._calls[n]?e[n]=e._calls[n]:(e[n]=function(t){return arguments.length?(e._overrides[n]=!0,e._options[n]=t,e):e._options[n]},e["_"+n]=function(t){return arguments.length?(e._overrides[n]||(e._options[n]=t),e):e._options[n]})},ht.utils.initOptions=function(t){t._overrides=t._overrides||{};var e=Object.getOwnPropertyNames(t._options||{}),n=Object.getOwnPropertyNames(t._calls||{});for(var i in e=e.concat(n))ht.utils.initOption(t,e[i])},ht.utils.inheritOptionsD3=function(t,e,n){t._d3options=n.concat(t._d3options||[]),n.unshift(e),n.unshift(t),d3.rebind.apply(this,n)},ht.utils.arrayUnique=function(n){return n.sort().filter(function(t,e){return!e||t!=n[e-1]})},ht.utils.symbolMap=d3.map(),ht.utils.symbol=function(){function e(t,e){var n=r.call(this,t,e),i=o.call(this,t,e);return-1!==d3.svg.symbolTypes.indexOf(n)?d3.svg.symbol().type(n).size(i)():ht.utils.symbolMap.get(n)(i)}var r,o=64;return e.type=function(t){return arguments.length?(r=d3.functor(t),e):r},e.size=function(t){return arguments.length?(o=d3.functor(t),e):o},e},ht.utils.inheritOptions=function(t,e){var n=Object.getOwnPropertyNames(e._options||{}),i=Object.getOwnPropertyNames(e._calls||{}),r=e._inherited||[],o=e._d3options||[],a=n.concat(i).concat(r).concat(o);a.unshift(e),a.unshift(t),d3.rebind.apply(this,a),t._inherited=ht.utils.arrayUnique(n.concat(i).concat(r).concat(n).concat(t._inherited||[])),t._d3options=ht.utils.arrayUnique(o.concat(t._d3options||[]))},ht.utils.initSVG=function(t){t.classed({"nvd3-svg":!0})},ht.utils.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},ht.utils.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},ht.utils.availableHeight=function(t,e,n){return Math.max(0,ht.utils.sanitizeHeight(t,e)-n.top-n.bottom)},ht.utils.availableWidth=function(t,e,n){return Math.max(0,ht.utils.sanitizeWidth(t,e)-n.left-n.right)},ht.utils.noData=function(t,e){var n=t.options(),i=n.margin(),r=n.noData(),o=null==r?["No Data Available."]:[r],a=ht.utils.availableHeight(null,e,i),s=ht.utils.availableWidth(null,e,i),l=i.left+s/2,c=i.top+a/2;e.selectAll("g").remove();var u=e.selectAll(".nv-noData").data(o);u.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),u.attr("x",l).attr("y",c).text(function(t){return t})},ht.utils.wrapTicks=function(t,l){t.each(function(){for(var t,e=d3.select(this),n=e.text().split(/\s+/).reverse(),i=[],r=0,o=e.attr("y"),a=parseFloat(e.attr("dy")),s=e.text(null).append("tspan").attr("x",0).attr("y",o).attr("dy",a+"em");t=n.pop();)i.push(t),s.text(i.join(" ")),s.node().getComputedTextLength()>l&&(i.pop(),s.text(i.join(" ")),i=[t],s=e.append("tspan").attr("x",0).attr("y",o).attr("dy",1.1*++r+a+"em").text(t))})},ht.utils.arrayEquals=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!ht.arrayEquals(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0},ht.models.axis=function(){"use strict";function e(t){return A.reset(),t.each(function(t){var e=d3.select(this);ht.utils.initSVG(e);var n=e.selectAll("g.nv-wrap.nv-axis").data([t]),i=(n.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),n.select("g"));null!==C?g.ticks(C):("top"==g.orient()||"bottom"==g.orient())&&g.ticks(Math.abs(v.range()[1]-v.range()[0])/100),i.watchTransition(A,"axis").call(g),_=_||g.scale();var r=g.tickFormat();null==r&&(r=_.tickFormat());var o,a,s,l=i.selectAll("text.nv-axislabel").data([y||null]);switch(l.exit().remove(),void 0!==T&&i.selectAll("g").select("text").style("font-size",T),g.orient()){case"top":l.enter().append("text").attr("class","nv-axislabel"),s=0,1===v.range().length?s=S?2*v.range()[0]+v.rangeBand():0:2===v.range().length?s=S?v.range()[0]+v.range()[1]+v.rangeBand():v.range()[1]:2<v.range().length&&(s=v.range()[v.range().length-1]+(v.range()[1]-v.range()[0])),l.attr("text-anchor","middle").attr("y",0).attr("x",s/2),x&&((a=n.selectAll("g.nv-axisMaxMin").data(v.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),a.exit().remove(),a.attr("transform",function(t,e){return"translate("+ht.utils.NaNtoZero(v(t))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-g.tickPadding()).attr("text-anchor","middle").text(function(t,e){var n=r(t);return(""+n).match("NaN")?"":n}),a.watchTransition(A,"min-max top").attr("transform",function(t,e){return"translate("+ht.utils.NaNtoZero(v.range()[e])+",0)"}));break;case"bottom":o=M+36;var c=30,u=0,d=i.selectAll("g").select("text"),p="";if(w%360){d.attr("transform",""),d.each(function(t,e){var n=this.getBoundingClientRect(),i=n.width;u=n.height,c<i&&(c=i)}),p="rotate("+w+" 0,"+(u/2+g.tickPadding())+")";var h=Math.abs(Math.sin(w*Math.PI/180));o=(h?h*c:c)+30,d.attr("transform",p).style("text-anchor",0<w%360?"start":"end")}else $?d.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"}):d.attr("transform","translate(0,0)");l.enter().append("text").attr("class","nv-axislabel"),s=0,1===v.range().length?s=S?2*v.range()[0]+v.rangeBand():0:2===v.range().length?s=S?v.range()[0]+v.range()[1]+v.rangeBand():v.range()[1]:2<v.range().length&&(s=v.range()[v.range().length-1]+(v.range()[1]-v.range()[0])),l.attr("text-anchor","middle").attr("y",o).attr("x",s/2),x&&((a=n.selectAll("g.nv-axisMaxMin").data([v.domain()[0],v.domain()[v.domain().length-1]])).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),a.exit().remove(),a.attr("transform",function(t,e){return"translate("+ht.utils.NaNtoZero(v(t)+(S?v.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",g.tickPadding()).attr("transform",p).style("text-anchor",w?0<w%360?"start":"end":"middle").text(function(t,e){var n=r(t);return(""+n).match("NaN")?"":n}),a.watchTransition(A,"min-max bottom").attr("transform",function(t,e){return"translate("+ht.utils.NaNtoZero(v(t)+(S?v.rangeBand()/2:0))+",0)"}));break;case"right":l.enter().append("text").attr("class","nv-axislabel"),l.style("text-anchor",k?"middle":"begin").attr("transform",k?"rotate(90)":"").attr("y",k?12-Math.max(m.right,b)-(M||0):-10).attr("x",k?d3.max(v.range())/2:g.tickPadding()),x&&((a=n.selectAll("g.nv-axisMaxMin").data(v.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),a.exit().remove(),a.attr("transform",function(t,e){return"translate(0,"+ht.utils.NaNtoZero(v(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",g.tickPadding()).style("text-anchor","start").text(function(t,e){var n=r(t);return(""+n).match("NaN")?"":n}),a.watchTransition(A,"min-max right").attr("transform",function(t,e){return"translate(0,"+ht.utils.NaNtoZero(v.range()[e])+")"}).select("text").style("opacity",1));break;case"left":l.enter().append("text").attr("class","nv-axislabel"),l.style("text-anchor",k?"middle":"end").attr("transform",k?"rotate(-90)":"").attr("y",k?25-Math.max(m.left,b)-(M||0):-10).attr("x",k?-d3.max(v.range())/2:-g.tickPadding()),x&&((a=n.selectAll("g.nv-axisMaxMin").data(v.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),a.exit().remove(),a.attr("transform",function(t,e){return"translate(0,"+ht.utils.NaNtoZero(_(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-g.tickPadding()).attr("text-anchor","end").text(function(t,e){var n=r(t);return(""+n).match("NaN")?"":n}),a.watchTransition(A,"min-max right").attr("transform",function(t,e){return"translate(0,"+ht.utils.NaNtoZero(v.range()[e])+")"}).select("text").style("opacity",1))}if(l.text(function(t){return t}),!x||"left"!==g.orient()&&"right"!==g.orient()||(i.selectAll("g").each(function(t,e){d3.select(this).select("text").attr("opacity",1),(v(t)<v.range()[1]+10||v(t)>v.range()[0]-10)&&((1e-10<t||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),v.domain()[0]==v.domain()[1]&&0==v.domain()[0]&&n.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),x&&("top"===g.orient()||"bottom"===g.orient())){var f=[];n.selectAll("g.nv-axisMaxMin").each(function(e,n){try{n?f.push(v(e)-this.getBoundingClientRect().width-4):f.push(v(e)+this.getBoundingClientRect().width+4)}catch(t){n?f.push(v(e)-4):f.push(v(e)+4)}}),i.selectAll("g").each(function(t,e){(v(t)<f[0]||v(t)>f[1])&&(1e-10<t||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}i.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t)/1e6)&&void 0!==t}).classed("zero",!0),_=v.copy()}),A.renderEnd("axis immediate"),e}var g=d3.svg.axis(),v=d3.scale.linear(),m={top:0,right:0,bottom:0,left:0},b=75,n=60,y=null,x=!0,w=0,k=!0,$=!1,S=!1,C=null,M=0,T=void 0,i=250,t=d3.dispatch("renderEnd");g.scale(v).orient("bottom").tickFormat(function(t){return t});var _,A=ht.utils.renderWatch(t,i);return e.axis=g,e.dispatch=t,e.options=ht.utils.optionsFunc.bind(e),e._options=Object.create({},{axisLabelDistance:{get:function(){return M},set:function(t){M=t}},staggerLabels:{get:function(){return $},set:function(t){$=t}},rotateLabels:{get:function(){return w},set:function(t){w=t}},rotateYLabel:{get:function(){return k},set:function(t){k=t}},showMaxMin:{get:function(){return x},set:function(t){x=t}},axisLabel:{get:function(){return y},set:function(t){y=t}},height:{get:function(){return n},set:function(t){n=t}},ticks:{get:function(){return C},set:function(t){C=t}},width:{get:function(){return b},set:function(t){b=t}},fontSize:{get:function(){return T},set:function(t){T=t}},margin:{get:function(){return m},set:function(t){m.top=void 0!==t.top?t.top:m.top,m.right=void 0!==t.right?t.right:m.right,m.bottom=void 0!==t.bottom?t.bottom:m.bottom,m.left=void 0!==t.left?t.left:m.left}},duration:{get:function(){return i},set:function(t){i=t,A.reset(i)}},scale:{get:function(){return v},set:function(t){v=t,g.scale(v),S="function"==typeof v.rangeBands,ht.utils.inheritOptionsD3(e,v,["domain","range","rangeBand","rangeBands"])}}}),ht.utils.initOptions(e),ht.utils.inheritOptionsD3(e,g,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),ht.utils.inheritOptionsD3(e,v,["domain","range","rangeBand","rangeBands"]),e},ht.models.boxPlot=function(){"use strict";function e(t){return W.reset(),t.each(function(n){var t=y-b.left-b.right,e=x-b.top-b.bottom;z=d3.select(this),ht.utils.initSVG(z),w.domain(p||n.map(function(t,e){return $(t,e)})).rangeBands(h||[0,t],.1);var i=[];if(!f){var s=[];n.forEach(function(t,e){var n=S(t),i=M(t),r=T(t),o=_(t),a=E(t);a&&a.forEach(function(t,e){s.push(D(t,e,void 0))}),r&&s.push(r),n&&s.push(n),i&&s.push(i),o&&s.push(o)}),i=[d3.min(s),d3.max(s)]}k.domain(f||i),k.range(g||[e,0]),v=v||w,m=m||k.copy().range([k(0),k(0)]);var r=z.selectAll("g.nv-wrap").data([n]);r.enter().append("g").attr("class","nvd3 nv-wrap"),r.attr("transform","translate("+b.left+","+b.top+")");var o=r.selectAll(".nv-boxplot").data(function(t){return t}),a=o.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);o.attr("class","nv-boxplot").attr("transform",function(t,e,n){return"translate("+(w($(t,e))+.05*w.rangeBand())+", 0)"}).classed("hover",function(t){return t.hover}),o.watchTransition(W,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(t,e){return e*L/n.length}).attr("transform",function(t,e){return"translate("+(w($(t,e))+.05*w.rangeBand())+", 0)"}),o.exit().remove(),a.each(function(n,i){var r=d3.select(this);[T,_].forEach(function(t){if(void 0!==t(n)&&null!==t(n)){var e=t===T?"low":"high";r.append("line").style("stroke",A(n)||I(n,i)).attr("class","nv-boxplot-whisker nv-boxplot-"+e),r.append("line").style("stroke",A(n)||I(n,i)).attr("class","nv-boxplot-tick nv-boxplot-"+e)}})});var l=function(){return null===H?.9*w.rangeBand():Math.min(75,.9*w.rangeBand())},c=function(){return.45*w.rangeBand()-l()/2},u=function(){return.45*w.rangeBand()+l()/2};[T,_].forEach(function(n){var t=n===T?"low":"high",i=n===T?S:M;o.select("line.nv-boxplot-whisker.nv-boxplot-"+t).watchTransition(W,"nv-boxplot: boxplots").attr("x1",.45*w.rangeBand()).attr("y1",function(t,e){return k(n(t))}).attr("x2",.45*w.rangeBand()).attr("y2",function(t,e){return k(i(t))}),o.select("line.nv-boxplot-tick.nv-boxplot-"+t).watchTransition(W,"nv-boxplot: boxplots").attr("x1",c).attr("y1",function(t,e){return k(n(t))}).attr("x2",u).attr("y2",function(t,e){return k(n(t))})}),[T,_].forEach(function(i){var t=i===T?"low":"high";a.selectAll(".nv-boxplot-"+t).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),N.elementMouseover({series:{key:i(t),color:A(t)||I(t,n)},e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),N.elementMouseout({series:{key:i(t),color:A(t)||I(t,n)},e:d3.event})}).on("mousemove",function(t,e){N.elementMousemove({e:d3.event})})}),a.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(t,e){d3.select(this).classed("hover",!0),N.elementMouseover({key:$(t),value:$(t),series:[{key:"Q3",value:M(t),color:A(t)||I(t,e)},{key:"Q2",value:C(t),color:A(t)||I(t,e)},{key:"Q1",value:S(t),color:A(t)||I(t,e)}],data:t,index:e,e:d3.event})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),N.elementMouseout({key:$(t),value:$(t),series:[{key:"Q3",value:M(t),color:A(t)||I(t,e)},{key:"Q2",value:C(t),color:A(t)||I(t,e)},{key:"Q1",value:S(t),color:A(t)||I(t,e)}],data:t,index:e,e:d3.event})}).on("mousemove",function(t,e){N.elementMousemove({e:d3.event})}),o.select("rect.nv-boxplot-box").watchTransition(W,"nv-boxplot: boxes").attr("y",function(t,e){return k(M(t))}).attr("width",l).attr("x",c).attr("height",function(t,e){return Math.abs(k(M(t))-k(S(t)))||1}).style("fill",function(t,e){return A(t)||I(t,e)}).style("stroke",function(t,e){return A(t)||I(t,e)}),a.append("line").attr("class","nv-boxplot-median"),o.select("line.nv-boxplot-median").watchTransition(W,"nv-boxplot: boxplots line").attr("x1",c).attr("y1",function(t,e){return k(C(t))}).attr("x2",u).attr("y2",function(t,e){return k(C(t))});var d=o.selectAll(".nv-boxplot-outlier").data(function(t){return E(t)||[]});d.enter().append("circle").style("fill",function(t,e,n){return P(t,e,n)||I(t,n)}).style("stroke",function(t,e,n){return P(t,e,n)||I(t,n)}).style("z-index",9e3).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),N.elementMouseover({series:{key:O(t,e,n),color:P(t,e,n)||I(t,n)},e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),N.elementMouseout({series:{key:O(t,e,n),color:P(t,e,n)||I(t,n)},e:d3.event})}).on("mousemove",function(t,e){N.elementMousemove({e:d3.event})}),d.attr("class","nv-boxplot-outlier"),d.watchTransition(W,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*w.rangeBand()).attr("cy",function(t,e,n){return k(D(t,e,n))}).attr("r","3"),d.exit().remove(),v=w.copy(),m=k.copy()}),W.renderEnd("nv-boxplot immediate"),e}var p,h,f,g,v,m,b={top:0,right:0,bottom:0,left:0},y=960,x=500,n=Math.floor(1e4*Math.random()),w=d3.scale.ordinal(),k=d3.scale.linear(),$=function(t){return t.label},S=function(t){return t.values.Q1},C=function(t){return t.values.Q2},M=function(t){return t.values.Q3},T=function(t){return t.values.whisker_low},_=function(t){return t.values.whisker_high},A=function(t){return t.color},E=function(t){return t.values.outliers},D=function(t,e,n){return t},O=function(t,e,n){return t},P=function(t,e,n){},I=ht.utils.defaultColor(),z=null,N=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),L=250,H=null,W=ht.utils.renderWatch(N,L);return e.dispatch=N,e.options=ht.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return y},set:function(t){y=t}},height:{get:function(){return x},set:function(t){x=t}},maxBoxWidth:{get:function(){return H},set:function(t){H=t}},x:{get:function(){return $},set:function(t){$=t}},q1:{get:function(){return S},set:function(t){S=t}},q2:{get:function(){return C},set:function(t){C=t}},q3:{get:function(){return M},set:function(t){M=t}},wl:{get:function(){return T},set:function(t){T=t}},wh:{get:function(){return _},set:function(t){_=t}},itemColor:{get:function(){return A},set:function(t){A=t}},outliers:{get:function(){return E},set:function(t){E=t}},outlierValue:{get:function(){return D},set:function(t){D=t}},outlierLabel:{get:function(){return O},set:function(t){O=t}},outlierColor:{get:function(){return P},set:function(t){P=t}},xScale:{get:function(){return w},set:function(t){w=t}},yScale:{get:function(){return k},set:function(t){k=t}},xDomain:{get:function(){return p},set:function(t){p=t}},yDomain:{get:function(){return f},set:function(t){f=t}},xRange:{get:function(){return h},set:function(t){h=t}},yRange:{get:function(){return g},set:function(t){g=t}},id:{get:function(){return n},set:function(t){n=t}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(t){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return b},set:function(t){b.top=void 0!==t.top?t.top:b.top,b.right=void 0!==t.right?t.right:b.right,b.bottom=void 0!==t.bottom?t.bottom:b.bottom,b.left=void 0!==t.left?t.left:b.left}},color:{get:function(){return I},set:function(t){I=ht.utils.getColor(t)}},duration:{get:function(){return L},set:function(t){L=t,W.reset(L)}}}),ht.utils.initOptions(e),e},ht.models.boxPlotChart=function(){"use strict";function u(t){return i.reset(),i.models(h),y&&i.models(f),x&&i.models(g),t.each(function(t){var e=d3.select(this);ht.utils.initSVG(e);var n=(m||parseInt(e.style("width"))||960)-v.left-v.right,i=(b||parseInt(e.style("height"))||400)-v.top-v.bottom;if(u.update=function(){S.beforeUpdate(),e.transition().duration(C).call(u)},u.container=this,!t||!t.length){var r=e.selectAll(".nv-noData").data([$]);return r.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),r.attr("x",v.left+n/2).attr("y",v.top+i/2).text(function(t){return t}),u}e.selectAll(".nv-noData").remove(),d=h.xScale(),p=h.yScale().clamp(!0);var o=e.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([t]),a=o.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),s=a.append("defs"),l=o.select("g");if(a.append("g").attr("class","nv-x nv-axis"),a.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),a.append("g").attr("class","nv-barsWrap"),l.attr("transform","translate("+v.left+","+v.top+")"),w&&l.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),h.width(n).height(i),l.select(".nv-barsWrap").datum(t.filter(function(t){return!t.disabled})).transition().call(h),s.append("clipPath").attr("id","nv-x-label-clip-"+h.id()).append("rect"),l.select("#nv-x-label-clip-"+h.id()+" rect").attr("width",d.rangeBand()*(k?2:1)).attr("height",16).attr("x",-d.rangeBand()/(k?1:2)),y){f.scale(d).ticks(ht.utils.calcTicksX(n/100,t)).tickSize(-i,0),l.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")"),l.select(".nv-x.nv-axis").call(f);var c=l.select(".nv-x.nv-axis").selectAll("g");k&&c.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}x&&(g.scale(p).ticks(Math.floor(i/36)).tickSize(-n,0),l.select(".nv-y.nv-axis").call(g)),l.select(".nv-zeroLine line").attr("x1",0).attr("x2",n).attr("y1",p(0)).attr("y2",p(0))}),i.renderEnd("nv-boxplot chart immediate"),u}var d,p,h=ht.models.boxPlot(),f=ht.models.axis(),g=ht.models.axis(),v={top:15,right:10,bottom:50,left:60},m=null,b=null,e=ht.utils.getColor(),y=!0,x=!0,w=!1,k=!1,n=ht.models.tooltip(),$="No Data Available.",S=d3.dispatch("beforeUpdate","renderEnd"),C=250;f.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),g.orient(w?"right":"left").tickFormat(d3.format(",.1f")),n.duration(0);var i=ht.utils.renderWatch(S,C);return h.dispatch.on("elementMouseover.tooltip",function(t){n.data(t).hidden(!1)}),h.dispatch.on("elementMouseout.tooltip",function(t){n.data(t).hidden(!0)}),h.dispatch.on("elementMousemove.tooltip",function(t){n()}),u.dispatch=S,u.boxplot=h,u.xAxis=f,u.yAxis=g,u.tooltip=n,u.options=ht.utils.optionsFunc.bind(u),u._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return b},set:function(t){b=t}},staggerLabels:{get:function(){return k},set:function(t){k=t}},showXAxis:{get:function(){return y},set:function(t){y=t}},showYAxis:{get:function(){return x},set:function(t){x=t}},tooltipContent:{get:function(){return n},set:function(t){n=t}},noData:{get:function(){return $},set:function(t){$=t}},margin:{get:function(){return v},set:function(t){v.top=void 0!==t.top?t.top:v.top,v.right=void 0!==t.right?t.right:v.right,v.bottom=void 0!==t.bottom?t.bottom:v.bottom,v.left=void 0!==t.left?t.left:v.left}},duration:{get:function(){return C},set:function(t){C=t,i.reset(C),h.duration(C),f.duration(C),g.duration(C)}},color:{get:function(){return e},set:function(t){e=ht.utils.getColor(t),h.color(e)}},rightAlignYAxis:{get:function(){return w},set:function(t){w=t,g.orient(t?"right":"left")}}}),ht.utils.inheritOptions(u,h),ht.utils.initOptions(u),u},ht.models.bullet=function(){"use strict";function S(t,r){var o=t.slice();t.sort(function(t,e){var n=o.indexOf(t),i=o.indexOf(e);return d3.descending(r[n],r[i])})}function e(t){return t.each(function(t,e){var n=N-C.left-C.right,i=L-C.top-C.bottom;H=d3.select(this),ht.utils.initSVG(H);var r=T.call(this,t,e).slice(),o=_.call(this,t,e).slice(),a=A.call(this,t,e).slice(),s=E.call(this,t,e).slice(),l=D.call(this,t,e).slice(),c=O.call(this,t,e).slice(),u=P.call(this,t,e).slice(),d=I.call(this,t,e).slice();S(l,r),S(c,o),S(u,a),S(d,s),r.sort(d3.descending),o.sort(d3.descending),a.sort(d3.descending),s.sort(d3.descending);var p,h=d3.scale.linear().domain(d3.extent(d3.merge([z,r]))).range(M?[n,0]:[0,n]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(h.range()),this.__chart__=h;for(var f=(d3.min(r),d3.max(r),r[1],H.selectAll("g.nv-wrap.nv-bullet").data([t])),g=f.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),v=f.select("g"),m=(e=0,r.length);e<m;e++){var b="nv-range nv-range"+e;e<=2&&(b=b+" nv-range"+U[e]),g.append("rect").attr("class",b)}g.append("rect").attr("class","nv-measure"),f.attr("transform","translate("+C.left+","+C.top+")");var y=function(t){return h(t<0?t:0)};for(e=0,m=r.length;e<m;e++){var x=r[e];v.select("rect.nv-range"+e).datum(x).attr("height",i).transition().duration(j).attr("width",(p=x,Math.abs(h(p)-h(0)))).attr("x",y(x))}v.select("rect.nv-measure").style("fill",W).attr("height",i/3).attr("y",i/3).on("mouseover",function(){F.elementMouseover({value:s[0],label:d[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){F.elementMousemove({value:s[0],label:d[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){F.elementMouseout({value:s[0],label:d[0]||"Current",color:d3.select(this).style("fill")})}).transition().duration(j).attr("width",s<0?h(0)-h(s[0]):h(s[0])-h(0)).attr("x",y(s));var w=i/6,k=o.map(function(t,e){return{value:t,label:c[e]}});g.selectAll("path.nv-markerTriangle").data(k).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+w+"L"+w+","+-w+" "+-w+","+-w+"Z").on("mouseover",function(t){F.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[h(t.value),i/2]})}).on("mousemove",function(t){F.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){F.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),v.selectAll("path.nv-markerTriangle").data(k).transition().duration(j).attr("transform",function(t){return"translate("+h(t.value)+","+i/2+")"});var $=a.map(function(t,e){return{value:t,label:u[e]}});g.selectAll("line.nv-markerLine").data($).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(t){return h(t.value)}).attr("y1","2").attr("x2",function(t){return h(t.value)}).attr("y2",i-2).on("mouseover",function(t){F.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[h(t.value),i/2]})}).on("mousemove",function(t){F.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){F.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),v.selectAll("line.nv-markerLine").data($).transition().duration(j).attr("x1",function(t){return h(t.value)}).attr("x2",function(t){return h(t.value)}),f.selectAll(".nv-range").on("mouseover",function(t,e){var n=l[e]||R[e];F.elementMouseover({value:t,label:n,color:d3.select(this).style("fill")})}).on("mousemove",function(){F.elementMousemove({value:s[0],label:d[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){var n=l[e]||R[e];F.elementMouseout({value:t,label:n,color:d3.select(this).style("fill")})})}),e}var C={top:0,right:0,bottom:0,left:0},n="left",M=!1,T=function(t){return t.ranges},_=function(t){return t.markers?t.markers:[]},A=function(t){return t.markerLines?t.markerLines:[0]},E=function(t){return t.measures},D=function(t){return t.rangeLabels?t.rangeLabels:[]},O=function(t){return t.markerLabels?t.markerLabels:[]},P=function(t){return t.markerLineLabels?t.markerLineLabels:[]},I=function(t){return t.measureLabels?t.measureLabels:[]},z=[0],N=380,L=30,H=null,i=null,W=ht.utils.getColor(["#1f77b4"]),F=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),R=["Maximum","Mean","Minimum"],U=["Max","Avg","Min"],j=1e3;return e.dispatch=F,e.options=ht.utils.optionsFunc.bind(e),e._options=Object.create({},{ranges:{get:function(){return T},set:function(t){T=t}},markers:{get:function(){return _},set:function(t){_=t}},measures:{get:function(){return E},set:function(t){E=t}},forceX:{get:function(){return z},set:function(t){z=t}},width:{get:function(){return N},set:function(t){N=t}},height:{get:function(){return L},set:function(t){L=t}},tickFormat:{get:function(){return i},set:function(t){i=t}},duration:{get:function(){return j},set:function(t){j=t}},margin:{get:function(){return C},set:function(t){C.top=void 0!==t.top?t.top:C.top,C.right=void 0!==t.right?t.right:C.right,C.bottom=void 0!==t.bottom?t.bottom:C.bottom,C.left=void 0!==t.left?t.left:C.left}},orient:{get:function(){return n},set:function(t){M="right"==(n=t)||"bottom"==n}},color:{get:function(){return W},set:function(t){W=ht.utils.getColor(t)}}}),ht.utils.initOptions(e),e},ht.models.bulletChart=function(){"use strict";function x(y){return y.each(function(t,e){var n=d3.select(this);ht.utils.initSVG(n);var i=ht.utils.availableWidth(T,n,$),r=_-$.top-$.bottom;if(x.update=function(){x(y)},x.container=this,!t||!S.call(this,t,e))return ht.utils.noData(x,n),x;n.selectAll(".nv-noData").remove();var o=S.call(this,t,e).slice().sort(d3.descending),a=C.call(this,t,e).slice().sort(d3.descending),s=M.call(this,t,e).slice().sort(d3.descending),l=n.selectAll("g.nv-wrap.nv-bulletChart").data([t]),c=l.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),u=l.select("g");c.append("g").attr("class","nv-bulletWrap"),c.append("g").attr("class","nv-titles"),l.attr("transform","translate("+$.left+","+$.top+")");var d=d3.scale.linear().domain([0,Math.max(o[0],a[0]||0,s[0])]).range(k?[i,0]:[0,i]),p=this.__chart__||d3.scale.linear().domain([0,1/0]).range(d.range());this.__chart__=d;var h=c.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(_-$.top-$.bottom)/2+")");h.append("text").attr("class","nv-title").text(function(t){return t.title}),h.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),w.width(i).height(r);var f=u.select(".nv-bulletWrap");d3.transition(f).call(w);var g=A||d.tickFormat(i/100),v=u.selectAll("g.nv-tick").data(d.ticks(E||i/50),function(t){return this.textContent||g(t)}),m=v.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+p(t)+",0)"}).style("opacity",1e-6);m.append("line").attr("y1",r).attr("y2",7*r/6),m.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*r/6).text(g);var b=d3.transition(v).transition().duration(w.duration()).attr("transform",function(t){return"translate("+d(t)+",0)"}).style("opacity",1);b.select("line").attr("y1",r).attr("y2",7*r/6),b.select("text").attr("y",7*r/6),d3.transition(v.exit()).transition().duration(w.duration()).attr("transform",function(t){return"translate("+d(t)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),x}var w=ht.models.bullet(),e=ht.models.tooltip(),n="left",k=!1,$={top:5,right:40,bottom:20,left:120},S=function(t){return t.ranges},C=function(t){return t.markers?t.markers:[]},M=function(t){return t.measures},T=null,_=55,A=null,E=null,i=null,t=d3.dispatch();return e.duration(0).headerEnabled(!1),w.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.label,value:t.value,color:t.color},e.data(t).hidden(!1)}),w.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),w.dispatch.on("elementMousemove.tooltip",function(t){e()}),x.bullet=w,x.dispatch=t,x.tooltip=e,x.options=ht.utils.optionsFunc.bind(x),x._options=Object.create({},{ranges:{get:function(){return S},set:function(t){S=t}},markers:{get:function(){return C},set:function(t){C=t}},measures:{get:function(){return M},set:function(t){M=t}},width:{get:function(){return T},set:function(t){T=t}},height:{get:function(){return _},set:function(t){_=t}},tickFormat:{get:function(){return A},set:function(t){A=t}},ticks:{get:function(){return E},set:function(t){E=t}},noData:{get:function(){return i},set:function(t){i=t}},margin:{get:function(){return $},set:function(t){$.top=void 0!==t.top?t.top:$.top,$.right=void 0!==t.right?t.right:$.right,$.bottom=void 0!==t.bottom?t.bottom:$.bottom,$.left=void 0!==t.left?t.left:$.left}},orient:{get:function(){return n},set:function(t){k="right"==(n=t)||"bottom"==n}}}),ht.utils.inheritOptions(x,w),ht.utils.initOptions(x),x},ht.models.candlestickBar=function(){"use strict";function n(t){return t.each(function(t){d=d3.select(this);var e=ht.utils.availableWidth(m,d,v),n=ht.utils.availableHeight(b,d,v);ht.utils.initSVG(d);var i=e/t[0].values.length*.45;x.domain(p||d3.extent(t[0].values.map(k).concat(_))),E?x.range(f||[.5*e/t[0].values.length,e*(t[0].values.length-.5)/t[0].values.length]):x.range(f||[5+i/2,e-i/2-5]),w.domain(h||[d3.min(t[0].values.map(T).concat(A)),d3.max(t[0].values.map(M).concat(A))]).range(g||[n,0]),x.domain()[0]===x.domain()[1]&&(x.domain()[0]?x.domain([x.domain()[0]-.01*x.domain()[0],x.domain()[1]+.01*x.domain()[1]]):x.domain([-1,1])),w.domain()[0]===w.domain()[1]&&(w.domain()[0]?w.domain([w.domain()[0]+.01*w.domain()[0],w.domain()[1]-.01*w.domain()[1]]):w.domain([-1,1]));var r=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([t[0].values]),o=r.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),a=o.append("defs"),s=o.append("g"),l=r.select("g");s.append("g").attr("class","nv-ticks"),r.attr("transform","translate("+v.left+","+v.top+")"),d.on("click",function(t,e){O.chartClick({data:t,index:e,pos:d3.event,id:y})}),a.append("clipPath").attr("id","nv-chart-clip-path-"+y).append("rect"),r.select("#nv-chart-clip-path-"+y+" rect").attr("width",e).attr("height",n),l.attr("clip-path",D?"url(#nv-chart-clip-path-"+y+")":"");var c=r.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});c.exit().remove();var u=c.enter().append("g");c.attr("class",function(t,e,n){return(S(t,e)>C(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),u.append("line").attr("class","nv-candlestick-lines").attr("transform",function(t,e){return"translate("+x(k(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return w(M(t,e))}).attr("x2",0).attr("y2",function(t,e){return w(T(t,e))}),u.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(t,e){return"translate("+(x(k(t,e))-i/2)+","+(w($(t,e))-(S(t,e)>C(t,e)?w(C(t,e))-w(S(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",i).attr("height",function(t,e){var n=S(t,e),i=C(t,e);return i<n?w(i)-w(n):w(n)-w(i)}),c.select(".nv-candlestick-lines").transition().attr("transform",function(t,e){return"translate("+x(k(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return w(M(t,e))}).attr("x2",0).attr("y2",function(t,e){return w(T(t,e))}),c.select(".nv-candlestick-rects").transition().attr("transform",function(t,e){return"translate("+(x(k(t,e))-i/2)+","+(w($(t,e))-(S(t,e)>C(t,e)?w(C(t,e))-w(S(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",i).attr("height",function(t,e){var n=S(t,e),i=C(t,e);return i<n?w(i)-w(n):w(n)-w(i)})}),n}var d,p,h,f,g,v={top:0,right:0,bottom:0,left:0},m=null,b=null,y=Math.floor(1e4*Math.random()),x=d3.scale.linear(),w=d3.scale.linear(),k=function(t){return t.x},$=function(t){return t.y},S=function(t){return t.open},C=function(t){return t.close},M=function(t){return t.high},T=function(t){return t.low},_=[],A=[],E=!1,D=!0,e=ht.utils.defaultColor(),i=!1,O=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return n.highlightPoint=function(t,e){n.clearHighlights(),d.select(".nv-candlestickBar .nv-tick-0-"+t).classed("hover",e)},n.clearHighlights=function(){d.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},n.dispatch=O,n.options=ht.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return b},set:function(t){b=t}},xScale:{get:function(){return x},set:function(t){x=t}},yScale:{get:function(){return w},set:function(t){w=t}},xDomain:{get:function(){return p},set:function(t){p=t}},yDomain:{get:function(){return h},set:function(t){h=t}},xRange:{get:function(){return f},set:function(t){f=t}},yRange:{get:function(){return g},set:function(t){g=t}},forceX:{get:function(){return _},set:function(t){_=t}},forceY:{get:function(){return A},set:function(t){A=t}},padData:{get:function(){return E},set:function(t){E=t}},clipEdge:{get:function(){return D},set:function(t){D=t}},id:{get:function(){return y},set:function(t){y=t}},interactive:{get:function(){return i},set:function(t){i=t}},x:{get:function(){return k},set:function(t){k=t}},y:{get:function(){return $},set:function(t){$=t}},open:{get:function(){return S()},set:function(t){S=t}},close:{get:function(){return C()},set:function(t){C=t}},high:{get:function(){return M},set:function(t){M=t}},low:{get:function(){return T},set:function(t){T=t}},margin:{get:function(){return v},set:function(t){v.top=null!=t.top?t.top:v.top,v.right=null!=t.right?t.right:v.right,v.bottom=null!=t.bottom?t.bottom:v.bottom,v.left=null!=t.left?t.left:v.left}},color:{get:function(){return e},set:function(t){e=ht.utils.getColor(t)}}}),ht.utils.initOptions(n),n},ht.models.cumulativeLineChart=function(){"use strict";function k(t){return i.reset(),i.models(C),L&&i.models(M),H&&i.models(T),t.each(function(c){function n(){w.data([K]);var t=k.duration();k.duration(0),k.update(),k.duration(t)}var t=d3.select(this);ht.utils.initSVG(t),t.classed("nv-chart-"+j,!0);var e,i=ht.utils.availableWidth(I,t,D),r=ht.utils.availableHeight(z,t,D);if(k.update=function(){0===X?t.call(k):t.transition().duration(X).call(k)},k.container=this,q.setter(J(c),k.update).getter(Q(c)).update(),q.disabled=c.map(function(t){return!!t.disabled}),!B)for(e in B={},q)q[e]instanceof Array?B[e]=q[e].slice(0):B[e]=q[e];var o=d3.behavior.drag().on("dragstart",function(t,e){d3.select(k.container).style("cursor","ew-resize")}).on("drag",function(t,e){K.x=d3.event.x,K.i=Math.round(Z.invert(K.x)),n()}).on("dragend",function(t,e){d3.select(k.container).style("cursor","auto"),q.index=K.i,Y.stateChange(q)});if(!(c&&c.length&&c.filter(function(t){return t.values.length}).length))return ht.utils.noData(k,t),k;if(t.selectAll(".nv-noData").remove(),$=C.xScale(),S=C.yScale(),U)C.yDomain(null);else{var a=c.filter(function(t){return!t.disabled}).map(function(t,e){var n=d3.extent(t.values,C.y());return n[0]<-.95&&(n[0]=-.95),[(n[0]-n[1])/(1+n[1]),(n[1]-n[0])/(1+n[0])]}),s=[d3.min(a,function(t){return t[0]}),d3.max(a,function(t){return t[1]})];C.yDomain(s)}Z.domain([0,c[0].values.length-1]).range([0,i]).clamp(!0);l=K.i,u=c,tt||(tt=C.y()),c=u.map(function(t,e){if(!t.values)return t;var n=t.values[l];if(null==n)return t;var i=tt(n,l);return i<-.95&&!G?t.tempDisabled=!0:(t.tempDisabled=!1,t.values=t.values.map(function(t,e){return t.display={y:(tt(t,e)-i)/(1+i)},t})),t});var l,u,d=R?"none":"all",p=t.selectAll("g.nv-wrap.nv-cumulativeLine").data([c]),h=p.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),f=p.select("g");if(h.append("g").attr("class","nv-interactive"),h.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),h.append("g").attr("class","nv-y nv-axis"),h.append("g").attr("class","nv-background"),h.append("g").attr("class","nv-linesWrap").style("pointer-events",d),h.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),h.append("g").attr("class","nv-legendWrap"),h.append("g").attr("class","nv-controlsWrap"),N?(_.width(i),f.select(".nv-legendWrap").datum(c).call(_),O||_.height()===D.top||(D.top=_.height(),r=ht.utils.availableHeight(z,t,D)),f.select(".nv-legendWrap").attr("transform","translate(0,"+-D.top+")")):f.select(".nv-legendWrap").selectAll("*").remove(),F){var g=[{key:"Re-scale y-axis",disabled:!U}];A.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),f.select(".nv-controlsWrap").datum(g).attr("transform","translate(0,"+-D.top+")").call(A)}else f.select(".nv-controlsWrap").selectAll("*").remove();p.attr("transform","translate("+D.left+","+D.top+")"),W&&f.select(".nv-y.nv-axis").attr("transform","translate("+i+",0)");var v=c.filter(function(t){return t.tempDisabled});p.select(".tempDisabled").remove(),v.length&&p.append("text").attr("class","tempDisabled").attr("x",i/2).attr("y","-.71em").style("text-anchor","end").text(v.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),R&&(E.width(i).height(r).margin({left:D.left,top:D.top}).svgContainer(t).xScale($),p.select(".nv-interactive").call(E)),h.select(".nv-background").append("rect"),f.select(".nv-background rect").attr("width",i).attr("height",r),C.y(function(t){return t.display.y}).width(i).height(r).color(c.map(function(t,e){return t.color||P(t,e)}).filter(function(t,e){return!c[e].disabled&&!c[e].tempDisabled}));var m=f.select(".nv-linesWrap").datum(c.filter(function(t){return!t.disabled&&!t.tempDisabled}));m.call(C),c.forEach(function(t,e){t.seriesIndex=e});var b=c.filter(function(t){return!t.disabled&&!!V(t)}),y=f.select(".nv-avgLinesWrap").selectAll("line").data(b,function(t){return t.key}),x=function(t){var e=S(V(t));return e<0?0:r<e?r:e};y.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t,e){return C.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",i).attr("y1",x).attr("y2",x),y.style("stroke-opacity",function(t){var e=S(V(t));return e<0||r<e?0:1}).attr("x1",0).attr("x2",i).attr("y1",x).attr("y2",x),y.exit().remove();var w=m.selectAll(".nv-indexLine").data([K]);w.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(o),w.attr("transform",function(t){return"translate("+Z(t.i)+",0)"}).attr("height",r),L&&(M.scale($)._ticks(ht.utils.calcTicksX(i/70,c)).tickSize(-r,0),f.select(".nv-x.nv-axis").attr("transform","translate(0,"+S.range()[0]+")"),f.select(".nv-x.nv-axis").call(M)),H&&(T.scale(S)._ticks(ht.utils.calcTicksY(r/36,c)).tickSize(-i,0),f.select(".nv-y.nv-axis").call(T)),f.select(".nv-background rect").on("click",function(){K.x=d3.mouse(this)[0],K.i=Math.round(Z.invert(K.x)),q.index=K.i,Y.stateChange(q),n()}),C.dispatch.on("elementClick",function(t){K.i=t.pointIndex,K.x=Z(K.i),q.index=K.i,Y.stateChange(q),n()}),A.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,U=!t.disabled,q.rescaleY=U,Y.stateChange(q),k.update()}),_.dispatch.on("stateChange",function(t){for(var e in t)q[e]=t[e];Y.stateChange(q),k.update()}),E.dispatch.on("elementMousemove",function(i){C.clearHighlights();var r,o,a,s=[];if(c.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){o=ht.interactiveBisect(t.values,i.pointXValue,k.x()),C.highlightPoint(e,o,!0);var n=t.values[o];void 0!==n&&(void 0===r&&(r=n),void 0===a&&(a=k.xScale()(k.x()(n,o))),s.push({key:t.key,value:k.y()(n,o),color:P(t,t.seriesIndex)}))}),2<s.length){var t=k.yScale().invert(i.mouseY),e=.03*Math.abs(k.yScale().domain()[0]-k.yScale().domain()[1]),n=ht.nearestValueIndex(s.map(function(t){return t.value}),t,e);null!==n&&(s[n].highlight=!0)}var l=M.tickFormat()(k.x()(r,o),o);E.tooltip.valueFormatter(function(t,e){return T.tickFormat()(t)}).data({value:l,series:s})(),E.renderGuideLine(a)}),E.dispatch.on("elementMouseout",function(t){C.clearHighlights()}),Y.on("changeState",function(n){void 0!==n.disabled&&(c.forEach(function(t,e){t.disabled=n.disabled[e]}),q.disabled=n.disabled),void 0!==n.index&&(K.i=n.index,K.x=Z(K.i),q.index=n.index,w.data([K])),void 0!==n.rescaleY&&(U=n.rescaleY),k.update()})}),i.renderEnd("cumulativeLineChart immediate"),k}var $,S,C=ht.models.line(),M=ht.models.axis(),T=ht.models.axis(),_=ht.models.legend(),A=ht.models.legend(),E=ht.interactiveGuideline(),n=ht.models.tooltip(),D={top:30,right:30,bottom:50,left:60},O=null,P=ht.utils.defaultColor(),I=null,z=null,N=!0,L=!0,H=!0,W=!1,F=!0,R=!1,U=!0,j=C.id(),q=ht.utils.state(),B=null,e=null,V=function(t){return t.average},Y=d3.dispatch("stateChange","changeState","renderEnd"),X=250,G=!1;q.index=0,q.rescaleY=U,M.orient("bottom").tickPadding(7),T.orient(W?"right":"left"),n.valueFormatter(function(t,e){return T.tickFormat()(t,e)}).headerFormatter(function(t,e){return M.tickFormat()(t,e)}),A.updateState(!1);var Z=d3.scale.linear(),K={i:0,x:0},i=ht.utils.renderWatch(Y,X),Q=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),index:K.i,rescaleY:U}}},J=function(t){return function(n){void 0!==n.index&&(K.i=n.index),void 0!==n.rescaleY&&(U=n.rescaleY),void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};C.dispatch.on("elementMouseover.tooltip",function(t){var e={x:k.x()(t.point),y:k.y()(t.point),color:t.point.color};t.point=e,n.data(t).hidden(!1)}),C.dispatch.on("elementMouseout.tooltip",function(t){n.hidden(!0)});var tt=null;return k.dispatch=Y,k.lines=C,k.legend=_,k.controls=A,k.xAxis=M,k.yAxis=T,k.interactiveLayer=E,k.state=q,k.tooltip=n,k.options=ht.utils.optionsFunc.bind(k),k._options=Object.create({},{width:{get:function(){return I},set:function(t){I=t}},height:{get:function(){return z},set:function(t){z=t}},rescaleY:{get:function(){return U},set:function(t){U=t}},showControls:{get:function(){return F},set:function(t){F=t}},showLegend:{get:function(){return N},set:function(t){N=t}},average:{get:function(){return V},set:function(t){V=t}},defaultState:{get:function(){return B},set:function(t){B=t}},noData:{get:function(){return e},set:function(t){e=t}},showXAxis:{get:function(){return L},set:function(t){L=t}},showYAxis:{get:function(){return H},set:function(t){H=t}},noErrorCheck:{get:function(){return G},set:function(t){G=t}},margin:{get:function(){return D},set:function(t){void 0!==t.top&&(D.top=t.top,O=t.top),D.right=void 0!==t.right?t.right:D.right,D.bottom=void 0!==t.bottom?t.bottom:D.bottom,D.left=void 0!==t.left?t.left:D.left}},color:{get:function(){return P},set:function(t){P=ht.utils.getColor(t),_.color(P)}},useInteractiveGuideline:{get:function(){return R},set:function(t){!0===(R=t)&&(k.interactive(!1),k.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return W},set:function(t){W=t,T.orient(t?"right":"left")}},duration:{get:function(){return X},set:function(t){X=t,C.duration(X),M.duration(X),T.duration(X),i.reset(X)}}}),ht.utils.inheritOptions(k,C),ht.utils.initOptions(k),k},ht.models.discreteBar=function(){"use strict";function e(t){return A.reset(),t.each(function(t){var e=m-v.left-v.right,n=b-v.top-v.bottom;c=d3.select(this),ht.utils.initSVG(c),t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var i=u&&d?[]:t.map(function(t){return t.values.map(function(t,e){return{x:w(t,e),y:k(t,e),y0:t.y0}})});y.domain(u||d3.merge(i).map(function(t){return t.x})).rangeBands(p||[0,e],.1),x.domain(d||d3.extent(d3.merge(i).map(function(t){return t.y}).concat($))),C?x.range(h||[n-(x.domain()[0]<0?12:0),0<x.domain()[1]?12:0]):x.range(h||[n,0]),f=f||y,g=g||x.copy().range([x(0),x(0)]);var r=c.selectAll("g.nv-wrap.nv-discretebar").data([t]),o=r.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");r.select("g"),o.append("g").attr("class","nv-groups"),r.attr("transform","translate("+v.left+","+v.top+")");var a=r.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});a.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),a.exit().watchTransition(A,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),a.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),a.watchTransition(A,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var s=a.selectAll("g.nv-bar").data(function(t){return t.values});s.exit().remove();var l=s.enter().append("g").attr("transform",function(t,e,n){return"translate("+(y(w(t,e))+.05*y.rangeBand())+", "+x(0)+")"}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),T.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),T.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){T.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){T.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e){T.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});l.append("rect").attr("height",0).attr("width",.9*y.rangeBand()/t.length),C?(l.append("text").attr("text-anchor","middle"),s.select("text").text(function(t,e){return M(k(t,e))}).watchTransition(A,"discreteBar: bars text").attr("x",.9*y.rangeBand()/2).attr("y",function(t,e){return k(t,e)<0?x(k(t,e))-x(0)+12:-4})):s.selectAll("text").remove(),s.attr("class",function(t,e){return k(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||S(t,e)}).style("stroke",function(t,e){return t.color||S(t,e)}).select("rect").attr("class",_).watchTransition(A,"discreteBar: bars rect").attr("width",.9*y.rangeBand()/t.length),s.watchTransition(A,"discreteBar: bars").attr("transform",function(t,e){return"translate("+(y(w(t,e))+.05*y.rangeBand())+", "+(k(t,e)<0?x(0):x(0)-x(k(t,e))<1?x(0)-1:x(k(t,e)))+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(x(k(t,e))-x(0)),1)}),f=y.copy(),g=x.copy()}),A.renderEnd("discreteBar immediate"),e}var c,u,d,p,h,f,g,v={top:0,right:0,bottom:0,left:0},m=960,b=500,n=Math.floor(1e4*Math.random()),y=d3.scale.ordinal(),x=d3.scale.linear(),w=function(t){return t.x},k=function(t){return t.y},$=[0],S=ht.utils.defaultColor(),C=!1,M=d3.format(",.2f"),T=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),_="discreteBar",i=250,A=ht.utils.renderWatch(T,i);return e.dispatch=T,e.options=ht.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return b},set:function(t){b=t}},forceY:{get:function(){return $},set:function(t){$=t}},showValues:{get:function(){return C},set:function(t){C=t}},x:{get:function(){return w},set:function(t){w=t}},y:{get:function(){return k},set:function(t){k=t}},xScale:{get:function(){return y},set:function(t){y=t}},yScale:{get:function(){return x},set:function(t){x=t}},xDomain:{get:function(){return u},set:function(t){u=t}},yDomain:{get:function(){return d},set:function(t){d=t}},xRange:{get:function(){return p},set:function(t){p=t}},yRange:{get:function(){return h},set:function(t){h=t}},valueFormat:{get:function(){return M},set:function(t){M=t}},id:{get:function(){return n},set:function(t){n=t}},rectClass:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return v},set:function(t){v.top=void 0!==t.top?t.top:v.top,v.right=void 0!==t.right?t.right:v.right,v.bottom=void 0!==t.bottom?t.bottom:v.bottom,v.left=void 0!==t.left?t.left:v.left}},color:{get:function(){return S},set:function(t){S=ht.utils.getColor(t)}},duration:{get:function(){return i},set:function(t){i=t,A.reset(i)}}}),ht.utils.initOptions(e),e},ht.models.discreteBarChart=function(){"use strict";function c(t){return r.reset(),r.models(p),w&&r.models(h),k&&r.models(f),t.each(function(t){var e=d3.select(this);ht.utils.initSVG(e);var n=ht.utils.availableWidth(b,e,v),i=ht.utils.availableHeight(y,e,v);if(c.update=function(){T.beforeUpdate(),e.transition().duration(_).call(c)},c.container=this,!(t&&t.length&&t.filter(function(t){return t.values.length}).length))return ht.utils.noData(c,e),c;e.selectAll(".nv-noData").remove(),u=p.xScale(),d=p.yScale().clamp(!0);var r=e.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([t]),o=r.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),a=o.append("defs"),s=r.select("g");if(o.append("g").attr("class","nv-x nv-axis"),o.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),o.append("g").attr("class","nv-barsWrap"),o.append("g").attr("class","nv-legendWrap"),s.attr("transform","translate("+v.left+","+v.top+")"),x?(g.width(n),s.select(".nv-legendWrap").datum(t).call(g),m||g.height()===v.top||(v.top=g.height(),i=ht.utils.availableHeight(y,e,v)),r.select(".nv-legendWrap").attr("transform","translate(0,"+-v.top+")")):s.select(".nv-legendWrap").selectAll("*").remove(),$&&s.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),p.width(n).height(i),s.select(".nv-barsWrap").datum(t.filter(function(t){return!t.disabled})).transition().call(p),a.append("clipPath").attr("id","nv-x-label-clip-"+p.id()).append("rect"),s.select("#nv-x-label-clip-"+p.id()+" rect").attr("width",u.rangeBand()*(S?2:1)).attr("height",16).attr("x",-u.rangeBand()/(S?1:2)),w){h.scale(u)._ticks(ht.utils.calcTicksX(n/100,t)).tickSize(-i,0),s.select(".nv-x.nv-axis").attr("transform","translate(0,"+(d.range()[0]+(p.showValues()&&d.domain()[0]<0?16:0))+")"),s.select(".nv-x.nv-axis").call(h);var l=s.select(".nv-x.nv-axis").selectAll("g");S&&l.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"}),M&&l.selectAll(".tick text").attr("transform","rotate("+M+" 0,0)").style("text-anchor",0<M?"start":"end"),C&&s.selectAll(".tick text").call(ht.utils.wrapTicks,c.xAxis.rangeBand())}k&&(f.scale(d)._ticks(ht.utils.calcTicksY(i/36,t)).tickSize(-n,0),s.select(".nv-y.nv-axis").call(f)),s.select(".nv-zeroLine line").attr("x1",0).attr("x2",$?-n:n).attr("y1",d(0)).attr("y2",d(0))}),r.renderEnd("discreteBar chart immediate"),c}var u,d,p=ht.models.discreteBar(),h=ht.models.axis(),f=ht.models.axis(),g=ht.models.legend(),e=ht.models.tooltip(),v={top:15,right:10,bottom:50,left:60},m=null,b=null,y=null,n=ht.utils.getColor(),x=!1,w=!0,k=!0,$=!1,S=!1,C=!1,M=0,i=null,T=d3.dispatch("beforeUpdate","renderEnd"),_=250;h.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),f.orient($?"right":"left").tickFormat(d3.format(",.1f")),e.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return f.tickFormat()(t,e)}).keyFormatter(function(t,e){return h.tickFormat()(t,e)});var r=ht.utils.renderWatch(T,_);return p.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:c.x()(t.data),value:c.y()(t.data),color:t.color},e.data(t).hidden(!1)}),p.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),p.dispatch.on("elementMousemove.tooltip",function(t){e()}),c.dispatch=T,c.discretebar=p,c.legend=g,c.xAxis=h,c.yAxis=f,c.tooltip=e,c.options=ht.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return b},set:function(t){b=t}},height:{get:function(){return y},set:function(t){y=t}},showLegend:{get:function(){return x},set:function(t){x=t}},staggerLabels:{get:function(){return S},set:function(t){S=t}},rotateLabels:{get:function(){return M},set:function(t){M=t}},wrapLabels:{get:function(){return C},set:function(t){C=!!t}},showXAxis:{get:function(){return w},set:function(t){w=t}},showYAxis:{get:function(){return k},set:function(t){k=t}},noData:{get:function(){return i},set:function(t){i=t}},margin:{get:function(){return v},set:function(t){void 0!==t.top&&(v.top=t.top,m=t.top),v.right=void 0!==t.right?t.right:v.right,v.bottom=void 0!==t.bottom?t.bottom:v.bottom,v.left=void 0!==t.left?t.left:v.left}},duration:{get:function(){return _},set:function(t){_=t,r.reset(_),p.duration(_),h.duration(_),f.duration(_)}},color:{get:function(){return n},set:function(t){n=ht.utils.getColor(t),p.color(n),g.color(n)}},rightAlignYAxis:{get:function(){return $},set:function(t){$=t,f.orient(t?"right":"left")}}}),ht.utils.inheritOptions(c,p),ht.utils.initOptions(c),c},ht.models.distribution=function(){"use strict";function e(t){return f.reset(),t.each(function(t){var e=("x"===u?(l.left,l.right):(l.top,l.bottom),"x"==u?"y":"x"),n=d3.select(this);ht.utils.initSVG(n),s=s||h;var i=n.selectAll("g.nv-distribution").data([t]),r=(i.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),i.select("g"));i.attr("transform","translate("+l.left+","+l.top+")");var o=r.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});o.enter().append("g"),o.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return p(t,e)});var a=o.selectAll("line.nv-dist"+u).data(function(t){return t.values});a.enter().append("line").attr(u+"1",function(t,e){return s(d(t,e))}).attr(u+"2",function(t,e){return s(d(t,e))}),f.transition(o.exit().selectAll("line.nv-dist"+u),"dist exit").attr(u+"1",function(t,e){return h(d(t,e))}).attr(u+"2",function(t,e){return h(d(t,e))}).style("stroke-opacity",0).remove(),a.attr("class",function(t,e){return"nv-dist"+u+" nv-dist"+u+"-"+e}).attr(e+"1",0).attr(e+"2",c),f.transition(a,"dist").attr(u+"1",function(t,e){return h(d(t,e))}).attr(u+"2",function(t,e){return h(d(t,e))}),s=h.copy()}),f.renderEnd("distribution immediate"),e}var s,l={top:0,right:0,bottom:0,left:0},n=400,c=8,u="x",d=function(t){return t[u]},p=ht.utils.defaultColor(),h=d3.scale.linear(),i=250,t=d3.dispatch("renderEnd"),f=ht.utils.renderWatch(t,i);return e.options=ht.utils.optionsFunc.bind(e),e.dispatch=t,e.margin=function(t){return arguments.length?(l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left,e):l},e.width=function(t){return arguments.length?(n=t,e):n},e.axis=function(t){return arguments.length?(u=t,e):u},e.size=function(t){return arguments.length?(c=t,e):c},e.getData=function(t){return arguments.length?(d=d3.functor(t),e):d},e.scale=function(t){return arguments.length?(h=t,e):h},e.color=function(t){return arguments.length?(p=ht.utils.getColor(t),e):p},e.duration=function(t){return arguments.length?(i=t,f.reset(i),e):i},e},ht.models.focus=function(p){"use strict";function h(t){return e.reset(),e.models(p),$&&e.models(v),S&&e.models(m),t.each(function(n){function t(t){M=b.empty()?null:b.extent();var e=b.empty()?f.domain():b.extent();_.brush({extent:e,brush:b}),b.empty()||b.extent(M),c.data([b.empty()?f.domain():M]).each(function(t,e){var n=f(t[0])-f.range()[0],i=r-f(t[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",f(t[1])).attr("width",i<0?0:i)}),t&&_.onBrush(e)}var e=d3.select(this);ht.utils.initSVG(e);var r=ht.utils.availableWidth(w,e,y),o=k-y.top-y.bottom;h.update=function(){0===T?e.call(h):e.transition().duration(T).call(h)},h.container=this,f=p.xScale(),g=p.yScale();var i=e.selectAll("g.nv-focus").data([n]),a=i.enter().append("g").attr("class","nvd3 nv-focus").append("g"),s=i.select("g");i.attr("transform","translate("+y.left+","+y.top+")"),a.append("g").attr("class","nv-background").append("rect"),a.append("g").attr("class","nv-x nv-axis"),a.append("g").attr("class","nv-y nv-axis"),a.append("g").attr("class","nv-contentWrap"),a.append("g").attr("class","nv-brushBackground"),a.append("g").attr("class","nv-x nv-brush"),C&&s.select(".nv-y.nv-axis").attr("transform","translate("+r+",0)"),s.select(".nv-background rect").attr("width",r).attr("height",o),p.width(r).height(o).color(n.map(function(t,e){return t.color||x(t,e)}).filter(function(t,e){return!n[e].disabled}));var l=s.select(".nv-contentWrap").datum(n.filter(function(t){return!t.disabled}));d3.transition(l).call(p),b.x(f).on("brush",function(){t(A)}),b.on("brushend",function(){A||_.onBrush(b.empty()?f.domain():b.extent())}),M&&b.extent(M);var c=s.select(".nv-brushBackground").selectAll("g").data([M||b.extent()]),u=c.enter().append("g");u.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",o),u.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",o);var d=s.select(".nv-x.nv-brush").call(b);d.selectAll("rect").attr("height",o),d.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,i=o/3;return"M"+.5*n+","+i+"A6,6 0 0 "+e+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)}),t(!0),s.select(".nv-background rect").attr("width",r).attr("height",o),$&&(v.scale(f)._ticks(ht.utils.calcTicksX(r/100,n)).tickSize(-o,0),s.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")"),d3.transition(s.select(".nv-x.nv-axis")).call(v)),S&&(m.scale(g)._ticks(ht.utils.calcTicksY(o/36,n)).tickSize(-r,0),d3.transition(s.select(".nv-y.nv-axis")).call(m)),s.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")")}),e.renderEnd("focus immediate"),h}p=p||ht.models.line();var f,g,v=ht.models.axis(),m=ht.models.axis(),b=d3.svg.brush(),y={top:10,right:0,bottom:30,left:0},x=ht.utils.defaultColor(),w=null,k=70,$=!0,S=!1,C=!1,M=null,T=250,_=d3.dispatch("brush","onBrush","renderEnd"),A=!0;p.interactive(!1),p.pointActive(function(t){return!1});var e=ht.utils.renderWatch(_,T);return h.dispatch=_,h.content=p,h.brush=b,h.xAxis=v,h.yAxis=m,h.options=ht.utils.optionsFunc.bind(h),h._options=Object.create({},{width:{get:function(){return w},set:function(t){w=t}},height:{get:function(){return k},set:function(t){k=t}},showXAxis:{get:function(){return $},set:function(t){$=t}},showYAxis:{get:function(){return S},set:function(t){S=t}},brushExtent:{get:function(){return M},set:function(t){M=t}},syncBrushing:{get:function(){return A},set:function(t){A=t}},margin:{get:function(){return y},set:function(t){y.top=void 0!==t.top?t.top:y.top,y.right=void 0!==t.right?t.right:y.right,y.bottom=void 0!==t.bottom?t.bottom:y.bottom,y.left=void 0!==t.left?t.left:y.left}},duration:{get:function(){return T},set:function(t){T=t,e.reset(T),p.duration(T),v.duration(T),m.duration(T)}},color:{get:function(){return x},set:function(t){x=ht.utils.getColor(t),p.color(x)}},interpolate:{get:function(){return p.interpolate()},set:function(t){p.interpolate(t)}},xTickFormat:{get:function(){return v.tickFormat()},set:function(t){v.tickFormat(t)}},yTickFormat:{get:function(){return m.tickFormat()},set:function(t){m.tickFormat(t)}},x:{get:function(){return p.x()},set:function(t){p.x(t)}},y:{get:function(){return p.y()},set:function(t){p.y(t)}},rightAlignYAxis:{get:function(){return C},set:function(t){C=t,m.orient(C?"right":"left")}}}),ht.utils.inheritOptions(h,p),ht.utils.initOptions(h),h},ht.models.forceDirectedGraph=function(){"use strict";function s(t){return n.reset(),t.each(function(t){d=d3.select(this),ht.utils.initSVG(d);var e=ht.utils.availableWidth(c,d,l),n=ht.utils.availableHeight(u,d,l);if(d.attr("width",e).attr("height",n),!(t&&t.links&&t.nodes))return ht.utils.noData(s,d),s;d.selectAll(".nv-noData").remove(),d.selectAll("*").remove();var i=new Set;t.nodes.forEach(function(t){Object.keys(t).forEach(function(t){i.add(t)})});var r=d3.layout.force().nodes(t.nodes).links(t.links).size([e,n]).linkStrength(f).friction(g).linkDistance(v).charge(m).gravity(b).theta(y).alpha(x).start(),o=d.selectAll(".link").data(t.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(t){return Math.sqrt(t.value)}),a=d.selectAll(".node").data(t.nodes).enter().append("g").attr("class","nv-force-node").call(r.drag);a.append("circle").attr("r",w).style("fill",function(t){return p(t)}).on("mouseover",function(e){d.select(".nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",e.py),d.select(".nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",e.px);var n=p(e);e.series=[],i.forEach(function(t){e.series.push({color:n,key:t,value:e[t]})}),h.data(e).hidden(!1)}).on("mouseout",function(t){h.hidden(!0)}),h.headerFormatter(function(t){return"Node"}),$(o),k(a),r.on("tick",function(){o.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),a.attr("transform",function(t){return"translate("+t.x+", "+t.y+")"})})}),s}var l={top:2,right:0,bottom:2,left:0},c=400,u=32,d=null,t=d3.dispatch("renderEnd"),p=ht.utils.getColor(["#000"]),h=ht.models.tooltip(),e=null,f=.1,g=.9,v=30,m=-120,b=.1,y=.8,x=.1,w=5,k=function(t){},$=function(t){},n=ht.utils.renderWatch(t);return s.options=ht.utils.optionsFunc.bind(s),s._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return u},set:function(t){u=t}},linkStrength:{get:function(){return f},set:function(t){f=t}},friction:{get:function(){return g},set:function(t){g=t}},linkDist:{get:function(){return v},set:function(t){v=t}},charge:{get:function(){return m},set:function(t){m=t}},gravity:{get:function(){return b},set:function(t){b=t}},theta:{get:function(){return y},set:function(t){y=t}},alpha:{get:function(){return x},set:function(t){x=t}},radius:{get:function(){return w},set:function(t){w=t}},x:{get:function(){return getX},set:function(t){getX=d3.functor(t)}},y:{get:function(){return getY},set:function(t){getY=d3.functor(t)}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},color:{get:function(){return p},set:function(t){p=ht.utils.getColor(t)}},noData:{get:function(){return e},set:function(t){e=t}},nodeExtras:{get:function(){return k},set:function(t){k=t}},linkExtras:{get:function(){return $},set:function(t){$=t}}}),s.dispatch=t,s.tooltip=h,ht.utils.initOptions(s),s},ht.models.furiousLegend=function(){"use strict";function e(t){function k(t,e){return"furious"!=H?"#000":N?t.disengaged?A(t,e):"#fff":N?void 0:t.disabled?A(t,e):"#fff"}function $(t,e){return N&&"furious"==H?t.disengaged?"#fff":A(t,e):t.disabled?"#fff":A(t,e)}return t.each(function(t){var e=C-S.left-S.right,n=d3.select(this);ht.utils.initSVG(n);var i=n.selectAll("g.nv-legend").data([t]),r=(i.enter().append("g").attr("class","nvd3 nv-legend").append("g"),i.select("g"));i.attr("transform","translate("+S.left+","+S.top+")");var o,a=r.selectAll(".nv-series").data(function(t){return"furious"!=H?t:t.filter(function(t){return!!N||!t.disengaged})}),s=a.enter().append("g").attr("class","nv-series");if("classic"==H)s.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),o=a.select("circle");else if("furious"==H){s.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),o=a.select("rect"),s.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),a.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",k(t,e))})}s.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var l,c=a.select("text.nv-legend-text");switch(a.on("mouseover",function(t,e){L.legendMouseover(t,e)}).on("mouseout",function(t,e){L.legendMouseout(t,e)}).on("click",function(t,e){L.legendClick(t,e);var n=a.data();if(I){if("classic"==H)z?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1}));else if("furious"==H)if(N)t.disengaged=!t.disengaged,t.userDisabled=null==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled;else if(!N){t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1})}L.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})})}}).on("dblclick",function(t,e){if(("furious"!=H||!N)&&(L.legendDblclick(t,e),I)){var n=a.data();n.forEach(function(t){t.disabled=!0,"furious"==H&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==H&&(t.userDisabled=t.disabled),L.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}),a.classed("nv-disabled",function(t){return t.userDisabled}),a.exit().remove(),c.attr("fill",k).text(function(t){return _(T(t))}),H){case"furious":l=23;break;case"classic":l=20}if(D){var u=[];a.each(function(t,e){var n,i;if(_(T(t))&&_(T(t)).length>E){var r=_(T(t)).substring(0,E);n=d3.select(this).select("text").text(r+"..."),d3.select(this).append("svg:title").text(_(T(t)))}else n=d3.select(this).select("text");try{if((i=n.node().getComputedTextLength())<=0)throw Error()}catch(t){i=ht.utils.calcApproxTextWidth(n)}u.push(i+O)});for(var d=0,p=0,h=[];p<e&&d<u.length;)h[d]=u[d],p+=u[d++];for(0===d&&(d=1);e<p&&1<d;){h=[],d--;for(var f=0;f<u.length;f++)u[f]>(h[f%d]||0)&&(h[f%d]=u[f]);p=h.reduce(function(t,e,n,i){return t+e})}for(var g=[],v=0,m=0;v<d;v++)g[v]=m,m+=h[v];a.attr("transform",function(t,e){return"translate("+g[e%d]+","+(5+Math.floor(e/d)*l)+")"}),P?r.attr("transform","translate("+(C-S.right-p)+","+S.top+")"):r.attr("transform","translate(0,"+S.top+")"),M=S.top+S.bottom+Math.ceil(u.length/d)*l}else{var b,y=5,x=5,w=0;a.attr("transform",function(t,e){var n=d3.select(this).select("text").node().getComputedTextLength()+O;return b=x,C<S.left+S.right+b+n&&(x=b=5,y+=l),w<(x+=n)&&(w=x),"translate("+b+","+y+")"}),r.attr("transform","translate("+(C-S.right-w)+","+S.top+")"),M=S.top+S.bottom+y+15}"furious"==H&&o.attr("width",function(t,e){return c[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),o.style("fill",$).style("stroke",function(t,e){return t.color||A(t,e)})}),e}var S={top:5,right:0,bottom:5,left:0},C=400,M=20,T=function(t){return t.key},_=function(t){return t},A=ht.utils.getColor(),E=20,D=!0,O=28,P=!0,I=!0,z=!1,N=!1,L=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),H="classic";return e.dispatch=L,e.options=ht.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return C},set:function(t){C=t}},height:{get:function(){return M},set:function(t){M=t}},key:{get:function(){return T},set:function(t){T=t}},keyFormatter:{get:function(){return _},set:function(t){_=t}},align:{get:function(){return D},set:function(t){D=t}},rightAlign:{get:function(){return P},set:function(t){P=t}},maxKeyLength:{get:function(){return E},set:function(t){E=t}},padding:{get:function(){return O},set:function(t){O=t}},updateState:{get:function(){return I},set:function(t){I=t}},radioButtonMode:{get:function(){return z},set:function(t){z=t}},expanded:{get:function(){return N},set:function(t){N=t}},vers:{get:function(){return H},set:function(t){H=t}},margin:{get:function(){return S},set:function(t){S.top=void 0!==t.top?t.top:S.top,S.right=void 0!==t.right?t.right:S.right,S.bottom=void 0!==t.bottom?t.bottom:S.bottom,S.left=void 0!==t.left?t.left:S.left}},color:{get:function(){return A},set:function(t){A=ht.utils.getColor(t)}}}),ht.utils.initOptions(e),e},ht.models.historicalBar=function(){"use strict";function e(t){return t.each(function(n){A.reset(),m=d3.select(this);var i=ht.utils.availableWidth(f,m,h),t=ht.utils.availableHeight(g,m,h);ht.utils.initSVG(m),b.domain(c||d3.extent(n[0].values.map(x).concat(k))),S?b.range(d||[.5*i/n[0].values.length,i*(n[0].values.length-.5)/n[0].values.length]):b.range(d||[0,i]),y.domain(u||d3.extent(n[0].values.map(w).concat($))).range(p||[t,0]),b.domain()[0]===b.domain()[1]&&(b.domain()[0]?b.domain([b.domain()[0]-.01*b.domain()[0],b.domain()[1]+.01*b.domain()[1]]):b.domain([-1,1])),y.domain()[0]===y.domain()[1]&&(y.domain()[0]?y.domain([y.domain()[0]+.01*y.domain()[0],y.domain()[1]-.01*y.domain()[1]]):y.domain([-1,1]));var e=m.selectAll("g.nv-wrap.nv-historicalBar-"+v).data([n[0].values]),r=e.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+v),o=r.append("defs"),a=r.append("g"),s=e.select("g");a.append("g").attr("class","nv-bars"),e.attr("transform","translate("+h.left+","+h.top+")"),m.on("click",function(t,e){T.chartClick({data:t,index:e,pos:d3.event,id:v})}),o.append("clipPath").attr("id","nv-chart-clip-path-"+v).append("rect"),e.select("#nv-chart-clip-path-"+v+" rect").attr("width",i).attr("height",t),s.attr("clip-path",C?"url(#nv-chart-clip-path-"+v+")":"");var l=e.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return x(t,e)});l.exit().remove(),l.enter().append("rect").attr("x",0).attr("y",function(t,e){return ht.utils.NaNtoZero(y(Math.max(0,w(t,e))))}).attr("height",function(t,e){return ht.utils.NaNtoZero(Math.abs(y(w(t,e))-y(0)))}).attr("transform",function(t,e){return"translate("+(b(x(t,e))-i/n[0].values.length*.45)+",0)"}).on("mouseover",function(t,e){_&&(d3.select(this).classed("hover",!0),T.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mouseout",function(t,e){_&&(d3.select(this).classed("hover",!1),T.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mousemove",function(t,e){_&&T.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){if(_){T.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}}).on("dblclick",function(t,e){_&&(T.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}),l.attr("fill",function(t,e){return M(t,e)}).attr("class",function(t,e,n){return(w(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).watchTransition(A,"bars").attr("transform",function(t,e){return"translate("+(b(x(t,e))-i/n[0].values.length*.45)+",0)"}).attr("width",i/n[0].values.length*.9),l.watchTransition(A,"bars").attr("y",function(t,e){var n=w(t,e)<0?y(0):y(0)-y(w(t,e))<1?y(0)-1:y(w(t,e));return ht.utils.NaNtoZero(n)}).attr("height",function(t,e){return ht.utils.NaNtoZero(Math.max(Math.abs(y(w(t,e))-y(0)),1))})}),A.renderEnd("historicalBar immediate"),e}var c,u,d,p,h={top:0,right:0,bottom:0,left:0},f=null,g=null,v=Math.floor(1e4*Math.random()),m=null,b=d3.scale.linear(),y=d3.scale.linear(),x=function(t){return t.x},w=function(t){return t.y},k=[],$=[0],S=!1,C=!0,M=ht.utils.defaultColor(),T=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),_=!0,A=ht.utils.renderWatch(T,0);return e.highlightPoint=function(t,e){m.select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},e.clearHighlights=function(){m.select(".nv-bars .nv-bar.hover").classed("hover",!1)},e.dispatch=T,e.options=ht.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return g},set:function(t){g=t}},forceX:{get:function(){return k},set:function(t){k=t}},forceY:{get:function(){return $},set:function(t){$=t}},padData:{get:function(){return S},set:function(t){S=t}},x:{get:function(){return x},set:function(t){x=t}},y:{get:function(){return w},set:function(t){w=t}},xScale:{get:function(){return b},set:function(t){b=t}},yScale:{get:function(){return y},set:function(t){y=t}},xDomain:{get:function(){return c},set:function(t){c=t}},yDomain:{get:function(){return u},set:function(t){u=t}},xRange:{get:function(){return d},set:function(t){d=t}},yRange:{get:function(){return p},set:function(t){p=t}},clipEdge:{get:function(){return C},set:function(t){C=t}},id:{get:function(){return v},set:function(t){v=t}},interactive:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return h},set:function(t){h.top=void 0!==t.top?t.top:h.top,h.right=void 0!==t.right?t.right:h.right,h.bottom=void 0!==t.bottom?t.bottom:h.bottom,h.left=void 0!==t.left?t.left:h.left}},color:{get:function(){return M},set:function(t){M=ht.utils.getColor(t)}}}),ht.utils.initOptions(e),e},ht.models.historicalBarChart=function(t){"use strict";function c(s){return s.each(function(l){D.reset(),D.models(p),$&&D.models(h),S&&D.models(f);var t=d3.select(this);ht.utils.initSVG(t);var e,n=ht.utils.availableWidth(x,t,m),i=ht.utils.availableHeight(w,t,m);if(c.update=function(){t.transition().duration(E).call(c)},c.container=this,T.disabled=l.map(function(t){return!!t.disabled}),!_)for(e in _={},T)T[e]instanceof Array?_[e]=T[e].slice(0):_[e]=T[e];if(!(l&&l.length&&l.filter(function(t){return t.values.length}).length))return ht.utils.noData(c,t),c;t.selectAll(".nv-noData").remove(),u=p.xScale(),d=p.yScale();var r=t.selectAll("g.nv-wrap.nv-historicalBarChart").data([l]),o=r.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),a=r.select("g");o.append("g").attr("class","nv-x nv-axis"),o.append("g").attr("class","nv-y nv-axis"),o.append("g").attr("class","nv-barsWrap"),o.append("g").attr("class","nv-legendWrap"),o.append("g").attr("class","nv-interactive"),k?(g.width(n),a.select(".nv-legendWrap").datum(l).call(g),b||g.height()===m.top||(m.top=g.height(),i=ht.utils.availableHeight(w,t,m)),r.select(".nv-legendWrap").attr("transform","translate(0,"+-m.top+")")):a.select(".nv-legendWrap").selectAll("*").remove(),r.attr("transform","translate("+m.left+","+m.top+")"),C&&a.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),M&&(v.width(n).height(i).margin({left:m.left,top:m.top}).svgContainer(t).xScale(u),r.select(".nv-interactive").call(v)),p.width(n).height(i).color(l.map(function(t,e){return t.color||y(t,e)}).filter(function(t,e){return!l[e].disabled})),a.select(".nv-barsWrap").datum(l.filter(function(t){return!t.disabled})).transition().call(p),$&&(h.scale(u)._ticks(ht.utils.calcTicksX(n/100,l)).tickSize(-i,0),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")"),a.select(".nv-x.nv-axis").transition().call(h)),S&&(f.scale(d)._ticks(ht.utils.calcTicksY(i/36,l)).tickSize(-n,0),a.select(".nv-y.nv-axis").transition().call(f)),v.dispatch.on("elementMousemove",function(i){p.clearHighlights();var r,o,a,s=[];l.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){o=ht.interactiveBisect(t.values,i.pointXValue,c.x()),p.highlightPoint(o,!0);var n=t.values[o];void 0!==n&&(void 0===r&&(r=n),void 0===a&&(a=c.xScale()(c.x()(n,o))),s.push({key:t.key,value:c.y()(n,o),color:y(t,t.seriesIndex),data:t.values[o]}))});var t=h.tickFormat()(c.x()(r,o));v.tooltip.valueFormatter(function(t,e){return f.tickFormat()(t)}).data({value:t,index:o,series:s})(),v.renderGuideLine(a)}),v.dispatch.on("elementMouseout",function(t){A.tooltipHide(),p.clearHighlights()}),g.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,l.filter(function(t){return!t.disabled}).length||l.map(function(t){return t.disabled=!1,r.selectAll(".nv-series").classed("disabled",!1),t}),T.disabled=l.map(function(t){return!!t.disabled}),A.stateChange(T),s.transition().call(c)}),g.dispatch.on("legendDblclick",function(t){l.forEach(function(t){t.disabled=!0}),t.disabled=!1,T.disabled=l.map(function(t){return!!t.disabled}),A.stateChange(T),c.update()}),A.on("changeState",function(n){void 0!==n.disabled&&(l.forEach(function(t,e){t.disabled=n.disabled[e]}),T.disabled=n.disabled),c.update()})}),D.renderEnd("historicalBarChart immediate"),c}var u,d,p=t||ht.models.historicalBar(),h=ht.models.axis(),f=ht.models.axis(),g=ht.models.legend(),v=ht.interactiveGuideline(),e=ht.models.tooltip(),m={top:30,right:90,bottom:50,left:90},b=null,y=ht.utils.defaultColor(),x=null,w=null,k=!1,$=!0,S=!0,C=!1,M=!1,T={},_=null,n=null,A=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),E=250;h.orient("bottom").tickPadding(7),f.orient(C?"right":"left"),e.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return f.tickFormat()(t,e)}).headerFormatter(function(t,e){return h.tickFormat()(t,e)});var D=ht.utils.renderWatch(A,0);return p.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:c.x()(t.data),value:c.y()(t.data),color:t.color},e.data(t).hidden(!1)}),p.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),p.dispatch.on("elementMousemove.tooltip",function(t){e()}),c.dispatch=A,c.bars=p,c.legend=g,c.xAxis=h,c.yAxis=f,c.interactiveLayer=v,c.tooltip=e,c.options=ht.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return x},set:function(t){x=t}},height:{get:function(){return w},set:function(t){w=t}},showLegend:{get:function(){return k},set:function(t){k=t}},showXAxis:{get:function(){return $},set:function(t){$=t}},showYAxis:{get:function(){return S},set:function(t){S=t}},defaultState:{get:function(){return _},set:function(t){_=t}},noData:{get:function(){return n},set:function(t){n=t}},margin:{get:function(){return m},set:function(t){void 0!==t.top&&(m.top=t.top,b=t.top),m.right=void 0!==t.right?t.right:m.right,m.bottom=void 0!==t.bottom?t.bottom:m.bottom,m.left=void 0!==t.left?t.left:m.left}},color:{get:function(){return y},set:function(t){y=ht.utils.getColor(t),g.color(y),p.color(y)}},duration:{get:function(){return E},set:function(t){E=t,D.reset(E),f.duration(E),h.duration(E)}},rightAlignYAxis:{get:function(){return C},set:function(t){C=t,f.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return M},set:function(t){!0===(M=t)&&c.interactive(!1)}}}),ht.utils.inheritOptions(c,p),ht.utils.initOptions(c),c},ht.models.ohlcBarChart=function(){var n=ht.models.historicalBarChart(ht.models.ohlcBar());return n.useInteractiveGuideline(!0),n.interactiveLayer.tooltip.contentGenerator(function(t){var e=t.series[0].data;return'<h3 style="color: #'+(e.open<e.close?"2ca02c":"d62728")+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+n.yAxis.tickFormat()(e.open)+"</td></tr><tr><td>close:</td><td>"+n.yAxis.tickFormat()(e.close)+"</td></tr><tr><td>high</td><td>"+n.yAxis.tickFormat()(e.high)+"</td></tr><tr><td>low:</td><td>"+n.yAxis.tickFormat()(e.low)+"</td></tr></table>"}),n},ht.models.candlestickBarChart=function(){var n=ht.models.historicalBarChart(ht.models.candlestickBar());return n.useInteractiveGuideline(!0),n.interactiveLayer.tooltip.contentGenerator(function(t){var e=t.series[0].data;return'<h3 style="color: #'+(e.open<e.close?"2ca02c":"d62728")+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+n.yAxis.tickFormat()(e.open)+"</td></tr><tr><td>close:</td><td>"+n.yAxis.tickFormat()(e.close)+"</td></tr><tr><td>high</td><td>"+n.yAxis.tickFormat()(e.high)+"</td></tr><tr><td>low:</td><td>"+n.yAxis.tickFormat()(e.low)+"</td></tr></table>"}),n},ht.models.legend=function(){"use strict";function e(t){function $(t,e){return"furious"!=W?"#000":L?t.disengaged?"#000":"#fff":L?void 0:(t.color||(t.color=n(t,e)),t.disabled?t.color:"#fff")}function S(t,e){return L&&"furious"==W&&t.disengaged?"#eee":t.color||n(t,e)}function C(t,e){return L&&"furious"==W?1:t.disabled?0:1}return t.each(function(t){var e=T-M.left-M.right,n=d3.select(this);ht.utils.initSVG(n);var i=n.selectAll("g.nv-legend").data([t]),r=i.enter().append("g").attr("class","nvd3 nv-legend").append("g"),o=i.select("g");I?i.attr("transform","translate("+-M.right+","+M.top+")"):i.attr("transform","translate("+M.left+","+M.top+")");var a,s,l=o.selectAll(".nv-series").data(function(t){return"furious"!=W?t:t.filter(function(t){return!!L||!t.disengaged})}),c=l.enter().append("g").attr("class","nv-series");switch(W){case"furious":s=23;break;case"classic":s=20}if("classic"==W)c.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),a=l.select(".nv-legend-symbol");else if("furious"==W){c.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),a=l.select(".nv-legend-symbol"),c.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),l.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",$(t,e))})}c.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var u=l.select("text.nv-legend-text");l.on("mouseover",function(t,e){H.legendMouseover(t,e)}).on("mouseout",function(t,e){H.legendMouseout(t,e)}).on("click",function(t,e){H.legendClick(t,e);var n=l.data();if(z){if("classic"==W)N?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1}));else if("furious"==W)if(L)t.disengaged=!t.disengaged,t.userDisabled=null==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled;else if(!L){t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1})}H.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})})}}).on("dblclick",function(t,e){if(("furious"!=W||!L)&&(H.legendDblclick(t,e),z)){var n=l.data();n.forEach(function(t){t.disabled=!0,"furious"==W&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==W&&(t.userDisabled=t.disabled),H.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}),l.classed("nv-disabled",function(t){return t.userDisabled}),l.exit().remove(),u.attr("fill",$).text(function(t){return E(A(t))});var d=0;if(O){var p=[];l.each(function(t,e){var n,i;if(E(A(t))&&E(A(t)).length>D){var r=E(A(t)).substring(0,D);n=d3.select(this).select("text").text(r+"..."),d3.select(this).append("svg:title").text(E(A(t)))}else n=d3.select(this).select("text");try{if((i=n.node().getComputedTextLength())<=0)throw Error()}catch(t){i=ht.utils.calcApproxTextWidth(n)}p.push(i+P)});var h=0,f=[];for(d=0;d<e&&h<p.length;)f[h]=p[h],d+=p[h++];for(0===h&&(h=1);e<d&&1<h;){f=[],h--;for(var g=0;g<p.length;g++)p[g]>(f[g%h]||0)&&(f[g%h]=p[g]);d=f.reduce(function(t,e,n,i){return t+e})}for(var v=[],m=0,b=0;m<h;m++)v[m]=b,b+=f[m];l.attr("transform",function(t,e){return"translate("+v[e%h]+","+(5+Math.floor(e/h)*s)+")"}),I?o.attr("transform","translate("+(T-M.right-d)+","+M.top+")"):o.attr("transform","translate(0,"+M.top+")"),_=M.top+M.bottom+Math.ceil(p.length/h)*s}else{var y,x=5,w=5,k=0;l.attr("transform",function(t,e){var n=d3.select(this).select("text").node().getComputedTextLength()+P;return y=w,T<M.left+M.right+y+n&&(w=y=5,x+=s),k<(w+=n)&&(k=w),d<y+k&&(d=y+k),"translate("+y+","+x+")"}),o.attr("transform","translate("+(T-M.right-k)+","+M.top+")"),_=M.top+M.bottom+x+15}"furious"==W&&(a.attr("width",function(t,e){return u[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),r.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),o.select(".nv-legend-bg").transition().duration(300).attr("x",-s).attr("width",d+s-12).attr("height",_+10).attr("y",-M.top-10).attr("opacity",L?1:0));a.style("fill",S).style("fill-opacity",C).style("stroke",S)}),e}var M={top:5,right:0,bottom:5,left:0},T=400,_=20,A=function(t){return t.key},E=function(t){return t},n=ht.utils.getColor(),D=20,O=!0,P=32,I=!0,z=!0,N=!1,L=!1,H=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),W="classic";return e.dispatch=H,e.options=ht.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return T},set:function(t){T=t}},height:{get:function(){return _},set:function(t){_=t}},key:{get:function(){return A},set:function(t){A=t}},keyFormatter:{get:function(){return E},set:function(t){E=t}},align:{get:function(){return O},set:function(t){O=t}},maxKeyLength:{get:function(){return D},set:function(t){D=t}},rightAlign:{get:function(){return I},set:function(t){I=t}},padding:{get:function(){return P},set:function(t){P=t}},updateState:{get:function(){return z},set:function(t){z=t}},radioButtonMode:{get:function(){return N},set:function(t){N=t}},expanded:{get:function(){return L},set:function(t){L=t}},vers:{get:function(){return W},set:function(t){W=t}},margin:{get:function(){return M},set:function(t){M.top=void 0!==t.top?t.top:M.top,M.right=void 0!==t.right?t.right:M.right,M.bottom=void 0!==t.bottom?t.bottom:M.bottom,M.left=void 0!==t.left?t.left:M.left}},color:{get:function(){return n},set:function(t){n=ht.utils.getColor(t)}}}),ht.utils.initOptions(e),e},ht.models.line=function(){"use strict";function e(t){return A.reset(),A.models(f),t.each(function(t){b=d3.select(this);var e=ht.utils.availableWidth(v,b,g),n=ht.utils.availableHeight(m,b,g);ht.utils.initSVG(b),p=f.xScale(),h=f.yScale(),T=T||p,_=_||h;var i=b.selectAll("g.nv-wrap.nv-line").data([t]),r=i.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),o=r.append("defs"),a=r.append("g"),s=i.select("g");a.append("g").attr("class","nv-groups"),a.append("g").attr("class","nv-scatterWrap"),i.attr("transform","translate("+g.left+","+g.top+")"),f.width(e).height(n);var l=i.select(".nv-scatterWrap");l.call(f),o.append("clipPath").attr("id","nv-edge-clip-"+f.id()).append("rect"),i.select("#nv-edge-clip-"+f.id()+" rect").attr("width",e).attr("height",0<n?n:0),s.attr("clip-path",C?"url(#nv-edge-clip-"+f.id()+")":""),l.attr("clip-path",C?"url(#nv-edge-clip-"+f.id()+")":"");var c=i.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});c.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(t){return t.strokeWidth||y}).style("fill-opacity",1e-6),c.exit().remove(),c.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return x(t,e)}).style("stroke",function(t,e){return x(t,e)}),c.watchTransition(A,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(t){return t.fillOpacity||.5});var u=c.selectAll("path.nv-area").data(function(t){return S(t)?[t]:[]});u.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(M).defined($).x(function(t,e){return ht.utils.NaNtoZero(T(w(t,e)))}).y0(function(t,e){return ht.utils.NaNtoZero(_(k(t,e)))}).y1(function(t,e){return _(h.domain()[0]<=0?0<=h.domain()[1]?0:h.domain()[1]:h.domain()[0])}).apply(this,[t.values])}),c.exit().selectAll("path.nv-area").remove(),u.watchTransition(A,"line: areaPaths").attr("d",function(t){return d3.svg.area().interpolate(M).defined($).x(function(t,e){return ht.utils.NaNtoZero(p(w(t,e)))}).y0(function(t,e){return ht.utils.NaNtoZero(h(k(t,e)))}).y1(function(t,e){return h(h.domain()[0]<=0?0<=h.domain()[1]?0:h.domain()[1]:h.domain()[0])}).apply(this,[t.values])});var d=c.selectAll("path.nv-line").data(function(t){return[t.values]});d.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(M).defined($).x(function(t,e){return ht.utils.NaNtoZero(T(w(t,e)))}).y(function(t,e){return ht.utils.NaNtoZero(_(k(t,e)))})),d.watchTransition(A,"line: linePaths").attr("d",d3.svg.line().interpolate(M).defined($).x(function(t,e){return ht.utils.NaNtoZero(p(w(t,e)))}).y(function(t,e){return ht.utils.NaNtoZero(h(k(t,e)))})),T=p.copy(),_=h.copy()}),A.renderEnd("line immediate"),e}var p,h,f=ht.models.scatter(),g={top:0,right:0,bottom:0,left:0},v=960,m=500,b=null,y=1.5,x=ht.utils.defaultColor(),w=function(t){return t.x},k=function(t){return t.y},$=function(t,e){return!isNaN(k(t,e))&&null!==k(t,e)},S=function(t){return t.area},C=!1,M="linear",n=250,t=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");f.pointSize(16).pointDomain([16,256]);var T,_,A=ht.utils.renderWatch(t,n);return e.dispatch=t,(e.scatter=f).dispatch.on("elementClick",function(){t.elementClick.apply(this,arguments)}),f.dispatch.on("elementMouseover",function(){t.elementMouseover.apply(this,arguments)}),f.dispatch.on("elementMouseout",function(){t.elementMouseout.apply(this,arguments)}),e.options=ht.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return m},set:function(t){m=t}},defined:{get:function(){return $},set:function(t){$=t}},interpolate:{get:function(){return M},set:function(t){M=t}},clipEdge:{get:function(){return C},set:function(t){C=t}},margin:{get:function(){return g},set:function(t){g.top=void 0!==t.top?t.top:g.top,g.right=void 0!==t.right?t.right:g.right,g.bottom=void 0!==t.bottom?t.bottom:g.bottom,g.left=void 0!==t.left?t.left:g.left}},duration:{get:function(){return n},set:function(t){n=t,A.reset(n),f.duration(n)}},isArea:{get:function(){return S},set:function(t){S=d3.functor(t)}},x:{get:function(){return w},set:function(t){w=t,f.x(t)}},y:{get:function(){return k},set:function(t){k=t,f.y(t)}},color:{get:function(){return x},set:function(t){x=ht.utils.getColor(t),f.color(x)}}}),ht.utils.inheritOptions(e,f),ht.utils.initOptions(e),e},ht.models.lineChart=function(){"use strict";function f(t){return i.reset(),i.models(m),E&&i.models(b),D&&i.models(y),t.each(function(i){function t(){E&&u.select(".nv-focus .nv-x.nv-axis").transition().duration(H).call(b)}function e(){D&&u.select(".nv-focus .nv-y.nv-axis").transition().duration(H).call(y)}function n(n){u.select(".nv-focus .nv-linesWrap").datum(i.filter(function(t){return!t.disabled}).map(function(t,e){return{key:t.key,area:t.area,classed:t.classed,values:t.values.filter(function(t,e){return m.x()(t,e)>=n[0]&&m.x()(t,e)<=n[1]}),disableTooltip:t.disableTooltip}})).transition().duration(H).call(m),t(),e()}var r=d3.select(this);ht.utils.initSVG(r);var o,a=ht.utils.availableWidth(M,r,$),s=ht.utils.availableHeight(T,r,$)-(I?k.height():0);if(f.update=function(){0===H?r.call(f):r.transition().duration(H).call(f)},f.container=this,z.setter(F(i),f.update).getter(W(i)).update(),z.disabled=i.map(function(t){return!!t.disabled}),!N)for(o in N={},z)z[o]instanceof Array?N[o]=z[o].slice(0):N[o]=z[o];if(!(i&&i.length&&i.filter(function(t){return t.values.length}).length))return ht.utils.noData(f,r),f;r.selectAll(".nv-noData").remove(),k.dispatch.on("onBrush",function(t){n(t)}),g=m.xScale(),v=m.yScale();var l=r.selectAll("g.nv-wrap.nv-lineChart").data([i]),c=l.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),u=l.select("g");c.append("g").attr("class","nv-legendWrap");var d=c.append("g").attr("class","nv-focus");d.append("g").attr("class","nv-background").append("rect"),d.append("g").attr("class","nv-x nv-axis"),d.append("g").attr("class","nv-y nv-axis"),d.append("g").attr("class","nv-linesWrap"),d.append("g").attr("class","nv-interactive"),c.append("g").attr("class","nv-focusWrap"),_?(x.width(a),u.select(".nv-legendWrap").datum(i).call(x),"bottom"===A?l.select(".nv-legendWrap").attr("transform","translate(0,"+s+")"):"top"===A&&(S||x.height()===$.top||($.top=x.height(),s=ht.utils.availableHeight(T,r,$)-(I?k.height():0)),l.select(".nv-legendWrap").attr("transform","translate(0,"+-$.top+")"))):u.select(".nv-legendWrap").selectAll("*").remove(),l.attr("transform","translate("+$.left+","+$.top+")"),O&&u.select(".nv-y.nv-axis").attr("transform","translate("+a+",0)"),P&&(w.width(a).height(s).margin({left:$.left,top:$.top}).svgContainer(r).xScale(g),l.select(".nv-interactive").call(w)),u.select(".nv-focus .nv-background rect").attr("width",a).attr("height",s),m.width(a).height(s).color(i.map(function(t,e){return t.color||C(t,e)}).filter(function(t,e){return!i[e].disabled}));var p=u.select(".nv-linesWrap").datum(i.filter(function(t){return!t.disabled}));if(E&&b.scale(g)._ticks(ht.utils.calcTicksX(a/100,i)).tickSize(-s,0),D&&y.scale(v)._ticks(ht.utils.calcTicksY(s/36,i)).tickSize(-a,0),u.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+s+")"),I){k.width(a),u.select(".nv-focusWrap").attr("transform","translate(0,"+(s+$.bottom+k.margin().top)+")").datum(i.filter(function(t){return!t.disabled})).call(k);var h=k.brush.empty()?k.xDomain():k.brush.extent();null!==h&&n(h)}else p.call(m),t(),e();x.dispatch.on("stateChange",function(t){for(var e in t)z[e]=t[e];L.stateChange(z),f.update()}),w.dispatch.on("elementMousemove",function(a){m.clearHighlights();var s,l,c,u=[];if(i.filter(function(t,e){return t.seriesIndex=e,!t.disabled&&!t.disableTooltip}).forEach(function(t,e){var n=I?k.brush.empty()?k.xScale().domain():k.brush.extent():g.domain(),i=t.values.filter(function(t,e){return n[0]<=n[1]?m.x()(t,e)>=n[0]&&m.x()(t,e)<=n[1]:m.x()(t,e)>=n[1]&&m.x()(t,e)<=n[0]}),r=i[l=ht.interactiveBisect(i,a.pointXValue,m.x())],o=f.y()(r,l);null!==o&&m.highlightPoint(e,l,!0),void 0!==r&&(void 0===s&&(s=r),void 0===c&&(c=f.xScale()(f.x()(r,l))),u.push({key:t.key,value:o,color:C(t,t.seriesIndex),data:r}))}),2<u.length){var t=f.yScale().invert(a.mouseY),e=.03*Math.abs(f.yScale().domain()[0]-f.yScale().domain()[1]),n=ht.nearestValueIndex(u.map(function(t){return t.value}),t,e);null!==n&&(u[n].highlight=!0)}w.tooltip.valueFormatter(w.tooltip.valueFormatter()||function(t,e){return null==t?"N/A":y.tickFormat()(t)}).data({value:f.x()(s,l),index:l,series:u})(),w.renderGuideLine(c)}),w.dispatch.on("elementClick",function(r){var o,a=[];i.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t){var e=ht.interactiveBisect(t.values,r.pointXValue,f.x()),n=t.values[e];if(void 0!==n){void 0===o&&(o=f.xScale()(f.x()(n,e)));var i=f.yScale()(f.y()(n,e));a.push({point:n,pointIndex:e,pos:[o,i],seriesIndex:t.seriesIndex,series:t})}}),m.dispatch.elementClick(a)}),w.dispatch.on("elementMouseout",function(t){m.clearHighlights()}),L.on("changeState",function(n){void 0!==n.disabled&&i.length===n.disabled.length&&(i.forEach(function(t,e){t.disabled=n.disabled[e]}),z.disabled=n.disabled),f.update()})}),i.renderEnd("lineChart immediate"),f}var g,v,m=ht.models.line(),b=ht.models.axis(),y=ht.models.axis(),x=ht.models.legend(),w=ht.interactiveGuideline(),e=ht.models.tooltip(),k=ht.models.focus(ht.models.line()),$={top:30,right:20,bottom:50,left:60},S=null,C=ht.utils.defaultColor(),M=null,T=null,_=!0,A="top",E=!0,D=!0,O=!1,P=!1,I=!1,z=ht.utils.state(),N=null,n=null,L=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),H=250;b.orient("bottom").tickPadding(7),y.orient(O?"right":"left"),m.clipEdge(!0).duration(0),e.valueFormatter(function(t,e){return y.tickFormat()(t,e)}).headerFormatter(function(t,e){return b.tickFormat()(t,e)}),w.tooltip.valueFormatter(function(t,e){return y.tickFormat()(t,e)}).headerFormatter(function(t,e){return b.tickFormat()(t,e)});var i=ht.utils.renderWatch(L,H),W=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},F=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};return m.dispatch.on("elementMouseover.tooltip",function(t){t.series.disableTooltip||e.data(t).hidden(!1)}),m.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),f.dispatch=L,f.lines=m,f.legend=x,f.focus=k,f.xAxis=b,f.x2Axis=k.xAxis,f.yAxis=y,f.y2Axis=k.yAxis,f.interactiveLayer=w,f.tooltip=e,f.state=z,f.dispatch=L,f.options=ht.utils.optionsFunc.bind(f),f._options=Object.create({},{width:{get:function(){return M},set:function(t){M=t}},height:{get:function(){return T},set:function(t){T=t}},showLegend:{get:function(){return _},set:function(t){_=t}},legendPosition:{get:function(){return A},set:function(t){A=t}},showXAxis:{get:function(){return E},set:function(t){E=t}},showYAxis:{get:function(){return D},set:function(t){D=t}},defaultState:{get:function(){return N},set:function(t){N=t}},noData:{get:function(){return n},set:function(t){n=t}},focusEnable:{get:function(){return I},set:function(t){I=t}},focusHeight:{get:function(){return k.height()},set:function(t){k.height(t)}},focusShowAxisX:{get:function(){return k.showXAxis()},set:function(t){k.showXAxis(t)}},focusShowAxisY:{get:function(){return k.showYAxis()},set:function(t){k.showYAxis(t)}},brushExtent:{get:function(){return k.brushExtent()},set:function(t){k.brushExtent(t)}},focusMargin:{get:function(){return k.margin},set:function(t){void 0!==t.top&&($.top=t.top,S=t.top),k.margin.right=void 0!==t.right?t.right:k.margin.right,k.margin.bottom=void 0!==t.bottom?t.bottom:k.margin.bottom,k.margin.left=void 0!==t.left?t.left:k.margin.left}},margin:{get:function(){return $},set:function(t){$.top=void 0!==t.top?t.top:$.top,$.right=void 0!==t.right?t.right:$.right,$.bottom=void 0!==t.bottom?t.bottom:$.bottom,$.left=void 0!==t.left?t.left:$.left}},duration:{get:function(){return H},set:function(t){H=t,i.reset(H),m.duration(H),k.duration(H),b.duration(H),y.duration(H)}},color:{get:function(){return C},set:function(t){C=ht.utils.getColor(t),x.color(C),m.color(C),k.color(C)}},interpolate:{get:function(){return m.interpolate()},set:function(t){m.interpolate(t),k.interpolate(t)}},xTickFormat:{get:function(){return b.tickFormat()},set:function(t){b.tickFormat(t),k.xTickFormat(t)}},yTickFormat:{get:function(){return y.tickFormat()},set:function(t){y.tickFormat(t),k.yTickFormat(t)}},x:{get:function(){return m.x()},set:function(t){m.x(t),k.x(t)}},y:{get:function(){return m.y()},set:function(t){m.y(t),k.y(t)}},rightAlignYAxis:{get:function(){return O},set:function(t){O=t,y.orient(O?"right":"left")}},useInteractiveGuideline:{get:function(){return P},set:function(t){(P=t)&&(m.interactive(!1),m.useVoronoi(!1))}}}),ht.utils.inheritOptions(f,m),ht.utils.initOptions(f),f},ht.models.lineWithFocusChart=function(){return ht.models.lineChart().margin({bottom:30}).focusEnable(!0)},ht.models.linePlusBarChart=function(){"use strict";function $(t){return t.each(function(a){function t(){nt=U.empty()?null:U.extent(),S=U.empty()?M.domain():U.extent(),it.brush({extent:S,brush:U}),U.empty()||U.extent(nt),x.data([U.empty()?M.domain():nt]).each(function(t,e){var n=M(t[0])-M.range()[0],i=M.range()[1]-M(t[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",M(t[1])).attr("width",i<0?0:i)}),P.width(s).height(l).color(a.map(function(t,e){return t.color||Z(t,e)}).filter(function(t,e){return!a[e].disabled&&a[e].bar})),D.width(s).height(l).color(a.map(function(t,e){return t.color||Z(t,e)}).filter(function(t,e){return!a[e].disabled&&!a[e].bar}));var t=h.select(".nv-focus .nv-barsWrap").datum(c.length?c.map(function(t,e){return{key:t.key,values:t.values.filter(function(t,e){return P.x()(t,e)>=S[0]&&P.x()(t,e)<=S[1]})}}):[{values:[]}]),e=h.select(".nv-focus .nv-linesWrap").datum(pt(u)?[{values:[]}]:u.filter(function(t){return!t.disabled}).map(function(t,e){return{area:t.area,fillOpacity:t.fillOpacity,strokeWidth:t.strokeWidth,key:t.key,values:t.values.filter(function(t,e){return D.x()(t,e)>=S[0]&&D.x()(t,e)<=S[1]})}}));C=c.length&&!ct?P.xScale():D.xScale(),z.scale(C)._ticks(ht.utils.calcTicksX(s/100,a)).tickSize(-l,0),z.domain([Math.ceil(S[0]),Math.floor(S[1])]),h.select(".nv-x.nv-axis").transition().duration(rt).call(z),t.transition().duration(rt).call(P),e.transition().duration(rt).call(D),h.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+T.range()[0]+")"),L.scale(T)._ticks(ht.utils.calcTicksY(l/36,a)).tickSize(-s,0),H.scale(_)._ticks(ht.utils.calcTicksY(l/36,a)),ct?H.tickSize(u.length?0:-s,0):H.tickSize(c.length?0:-s,0);var n=c.length?1:0,i=u.length&&!pt(u)?1:0,r=ct?i:n,o=ct?n:i;h.select(".nv-focus .nv-y1.nv-axis").style("opacity",r),h.select(".nv-focus .nv-y2.nv-axis").style("opacity",o).attr("transform","translate("+C.range()[1]+",0)"),h.select(".nv-focus .nv-y1.nv-axis").transition().duration(rt).call(L),h.select(".nv-focus .nv-y2.nv-axis").transition().duration(rt).call(H)}var e=d3.select(this);ht.utils.initSVG(e);var n,s=ht.utils.availableWidth(V,e,j),l=ht.utils.availableHeight(Y,e,j)-(Q?et:0),r=et-B.top-B.bottom;if($.update=function(){e.transition().duration(rt).call($)},$.container=this,ot.setter(dt(a),$.update).getter(ut(a)).update(),ot.disabled=a.map(function(t){return!!t.disabled}),!at)for(n in at={},ot)ot[n]instanceof Array?at[n]=ot[n].slice(0):at[n]=ot[n];if(!(a&&a.length&&a.filter(function(t){return t.values.length}).length))return ht.utils.noData($,e),$;e.selectAll(".nv-noData").remove();var c=a.filter(function(t){return!t.disabled&&t.bar}),u=a.filter(function(t){return!t.bar});C=c.length&&!ct?P.xScale():D.xScale(),M=N.scale(),T=ct?D.yScale():P.yScale(),_=ct?P.yScale():D.yScale(),A=ct?O.yScale():I.yScale(),E=ct?I.yScale():O.yScale();var i=a.filter(function(t){return!t.disabled&&(ct?!t.bar:t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:X(t,e),y:G(t,e)}})}),o=a.filter(function(t){return!t.disabled&&(ct?t.bar:!t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:X(t,e),y:G(t,e)}})});C.range([0,s]),M.domain(d3.extent(d3.merge(i.concat(o)),function(t){return t.x})).range([0,s]);var d=e.selectAll("g.nv-wrap.nv-linePlusBar").data([a]),p=d.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),h=d.select("g");p.append("g").attr("class","nv-legendWrap");var f=p.append("g").attr("class","nv-focus");f.append("g").attr("class","nv-x nv-axis"),f.append("g").attr("class","nv-y1 nv-axis"),f.append("g").attr("class","nv-y2 nv-axis"),f.append("g").attr("class","nv-barsWrap"),f.append("g").attr("class","nv-linesWrap");var g=p.append("g").attr("class","nv-context");if(g.append("g").attr("class","nv-x nv-axis"),g.append("g").attr("class","nv-y1 nv-axis"),g.append("g").attr("class","nv-y2 nv-axis"),g.append("g").attr("class","nv-barsWrap"),g.append("g").attr("class","nv-linesWrap"),g.append("g").attr("class","nv-brushBackground"),g.append("g").attr("class","nv-x nv-brush"),K){var v=R.align()?s/2:s,m=R.align()?v:0;R.width(v),h.select(".nv-legendWrap").datum(a.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=ct?t.originalKey+(t.bar?lt:st):t.originalKey+(t.bar?st:lt),t})).call(R),q||R.height()===j.top||(j.top=R.height(),l=ht.utils.availableHeight(Y,e,j)-et),h.select(".nv-legendWrap").attr("transform","translate("+m+","+-j.top+")")}else h.select(".nv-legendWrap").selectAll("*").remove();d.attr("transform","translate("+j.left+","+j.top+")"),h.select(".nv-context").style("display",Q?"initial":"none"),I.width(s).height(r).color(a.map(function(t,e){return t.color||Z(t,e)}).filter(function(t,e){return!a[e].disabled&&a[e].bar})),O.width(s).height(r).color(a.map(function(t,e){return t.color||Z(t,e)}).filter(function(t,e){return!a[e].disabled&&!a[e].bar}));var b=h.select(".nv-context .nv-barsWrap").datum(c.length?c:[{values:[]}]),y=h.select(".nv-context .nv-linesWrap").datum(pt(u)?[{values:[]}]:u.filter(function(t){return!t.disabled}));h.select(".nv-context").attr("transform","translate(0,"+(l+j.bottom+B.top)+")"),b.transition().call(I),y.transition().call(O),tt&&(N._ticks(ht.utils.calcTicksX(s/100,a)).tickSize(-r,0),h.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+A.range()[0]+")"),h.select(".nv-context .nv-x.nv-axis").transition().call(N)),J&&(W.scale(A)._ticks(r/36).tickSize(-s,0),F.scale(E)._ticks(r/36).tickSize(c.length?0:-s,0),h.select(".nv-context .nv-y3.nv-axis").style("opacity",c.length?1:0).attr("transform","translate(0,"+M.range()[0]+")"),h.select(".nv-context .nv-y2.nv-axis").style("opacity",u.length?1:0).attr("transform","translate("+M.range()[1]+",0)"),h.select(".nv-context .nv-y1.nv-axis").transition().call(W),h.select(".nv-context .nv-y2.nv-axis").transition().call(F)),U.x(M).on("brush",t),nt&&U.extent(nt);var x=h.select(".nv-brushBackground").selectAll("g").data([nt||U.extent()]),w=x.enter().append("g");w.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",r),w.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",r);var k=h.select(".nv-x.nv-brush").call(U);k.selectAll("rect").attr("height",r),k.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,i=r/3;return"M"+.5*n+","+i+"A6,6 0 0 "+e+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)}),R.dispatch.on("stateChange",function(t){for(var e in t)ot[e]=t[e];it.stateChange(ot),$.update()}),it.on("changeState",function(n){void 0!==n.disabled&&(a.forEach(function(t,e){t.disabled=n.disabled[e]}),ot.disabled=n.disabled),$.update()}),t()}),$}var S,C,M,T,_,A,E,D=ht.models.line(),O=ht.models.line(),P=ht.models.historicalBar(),I=ht.models.historicalBar(),z=ht.models.axis(),N=ht.models.axis(),L=ht.models.axis(),H=ht.models.axis(),W=ht.models.axis(),F=ht.models.axis(),R=ht.models.legend(),U=d3.svg.brush(),e=ht.models.tooltip(),j={top:30,right:30,bottom:30,left:60},q=null,B={top:0,right:30,bottom:20,left:60},V=null,Y=null,X=function(t){return t.x},G=function(t){return t.y},Z=ht.utils.defaultColor(),K=!0,Q=!0,J=!1,tt=!0,et=50,nt=null,n=null,it=d3.dispatch("brush","stateChange","changeState"),rt=0,ot=ht.utils.state(),at=null,st=" (left axis)",lt=" (right axis)",ct=!1;D.clipEdge(!0),O.interactive(!1),O.pointActive(function(t){return!1}),z.orient("bottom").tickPadding(5),L.orient("left"),H.orient("right"),N.orient("bottom").tickPadding(5),W.orient("left"),F.orient("right"),e.headerEnabled(!0).headerFormatter(function(t,e){return z.tickFormat()(t,e)});var ut=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},dt=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}},pt=function(t){return t.every(function(t){return t.disabled})};return D.dispatch.on("elementMouseover.tooltip",function(t){e.duration(100).valueFormatter(function(t,e){return(ct?{main:L,focus:W}:{main:H,focus:F}).main.tickFormat()(t,e)}).data(t).hidden(!1)}),D.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),P.dispatch.on("elementMouseover.tooltip",function(t){t.value=$.x()(t.data),t.series={value:$.y()(t.data),color:t.color},e.duration(0).valueFormatter(function(t,e){return(ct?{main:H,focus:F}:{main:L,focus:W}).main.tickFormat()(t,e)}).data(t).hidden(!1)}),P.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),P.dispatch.on("elementMousemove.tooltip",function(t){e()}),$.dispatch=it,$.legend=R,$.lines=D,$.lines2=O,$.bars=P,$.bars2=I,$.xAxis=z,$.x2Axis=N,$.y1Axis=L,$.y2Axis=H,$.y3Axis=W,$.y4Axis=F,$.tooltip=e,$.options=ht.utils.optionsFunc.bind($),$._options=Object.create({},{width:{get:function(){return V},set:function(t){V=t}},height:{get:function(){return Y},set:function(t){Y=t}},showLegend:{get:function(){return K},set:function(t){K=t}},brushExtent:{get:function(){return nt},set:function(t){nt=t}},noData:{get:function(){return n},set:function(t){n=t}},focusEnable:{get:function(){return Q},set:function(t){Q=t}},focusHeight:{get:function(){return et},set:function(t){et=t}},focusShowAxisX:{get:function(){return tt},set:function(t){tt=t}},focusShowAxisY:{get:function(){return J},set:function(t){J=t}},legendLeftAxisHint:{get:function(){return st},set:function(t){st=t}},legendRightAxisHint:{get:function(){return lt},set:function(t){lt=t}},margin:{get:function(){return j},set:function(t){void 0!==t.top&&(j.top=t.top,q=t.top),j.right=void 0!==t.right?t.right:j.right,j.bottom=void 0!==t.bottom?t.bottom:j.bottom,j.left=void 0!==t.left?t.left:j.left}},focusMargin:{get:function(){return B},set:function(t){B.top=void 0!==t.top?t.top:B.top,B.right=void 0!==t.right?t.right:B.right,B.bottom=void 0!==t.bottom?t.bottom:B.bottom,B.left=void 0!==t.left?t.left:B.left}},duration:{get:function(){return rt},set:function(t){rt=t}},color:{get:function(){return Z},set:function(t){Z=ht.utils.getColor(t),R.color(Z)}},x:{get:function(){return X},set:function(t){X=t,D.x(t),O.x(t),P.x(t),I.x(t)}},y:{get:function(){return G},set:function(t){G=t,D.y(t),O.y(t),P.y(t),I.y(t)}},switchYAxisOrder:{get:function(){return ct},set:function(t){if(ct!==t){var e=L;L=H,H=e;var n=W;W=F,F=n}ct=t,L.orient("left"),H.orient("right"),W.orient("left"),F.orient("right")}}}),ht.utils.inheritOptions($,D),ht.utils.initOptions($),$},ht.models.multiBar=function(){"use strict";function e(t){return U.reset(),t.each(function(a){var t=$-k.left-k.right,e=S-k.top-k.bottom;_=d3.select(this),ht.utils.initSVG(_);var r=0;if(N&&a.length&&(N=[{values:a[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),P){var i=d3.layout.stack().offset(I).values(function(t){return t.values}).y(E)(!a.length&&N?N:a);i.forEach(function(t,n){t.nonStackable?(a[n].nonStackableSeries=r++,i[n]=a[n]):0<n&&i[n-1].nonStackable&&i[n].values.map(function(t,e){t.y0-=i[n-1].values[e].y,t.y1=t.y0+t.y})}),a=i}a.forEach(function(e,n){e.values.forEach(function(t){t.series=n,t.key=e.key})}),P&&0<a.length&&a[0].values.map(function(t,i){var r=0,o=0;a.map(function(t,e){if(!a[e].nonStackable){var n=t.values[i];n.size=Math.abs(n.y),n.y<0?(n.y1=o,o-=n.size):(n.y1=n.size+r,r+=n.size)}})});var n=v&&m?[]:a.map(function(t,n){return t.values.map(function(t,e){return{x:A(t,e),y:E(t,e),y0:t.y0,y1:t.y1,idx:n}})});C.domain(v||d3.merge(n).map(function(t){return t.x})).rangeBands(b||[0,t],W),M.domain(m||d3.extent(d3.merge(n).map(function(t){var e=t.y;return P&&!a[t.idx].nonStackable&&(e=0<t.y?t.y1:t.y1+t.y),e}).concat(D))).range(y||[e,0]),C.domain()[0]===C.domain()[1]&&(C.domain()[0]?C.domain([C.domain()[0]-.01*C.domain()[0],C.domain()[1]+.01*C.domain()[1]]):C.domain([-1,1])),M.domain()[0]===M.domain()[1]&&(M.domain()[0]?M.domain([M.domain()[0]+.01*M.domain()[0],M.domain()[1]-.01*M.domain()[1]]):M.domain([-1,1])),x=x||C,w=w||M;var o=_.selectAll("g.nv-wrap.nv-multibar").data([a]),s=o.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),l=s.append("defs"),c=s.append("g"),u=o.select("g");c.append("g").attr("class","nv-groups"),o.attr("transform","translate("+k.left+","+k.top+")"),l.append("clipPath").attr("id","nv-edge-clip-"+T).append("rect"),o.select("#nv-edge-clip-"+T+" rect").attr("width",t).attr("height",e),u.attr("clip-path",O?"url(#nv-edge-clip-"+T+")":"");var d=o.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});d.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var p=U.transition(d.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,H)).attr("y",function(t,e,n){var i=w(0)||0;return P&&a[t.series]&&!a[t.series].nonStackable&&(i=w(t.y0)),i}).attr("height",0).remove();p.delay&&p.delay(function(t,e){return e*(H/(j+1))-e}),d.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return z(t,e)}).style("stroke",function(t,e){return z(t,e)}),d.style("stroke-opacity",1).style("fill-opacity",F);var h=d.selectAll("rect.nv-bar").data(function(t){return N&&!a.length?N.values:t.values});h.exit().remove(),h.enter().append("rect").attr("class",function(t,e){return E(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,e,n){return P&&!a[n].nonStackable?0:n*C.rangeBand()/a.length}).attr("y",function(t,e,n){return w(P&&!a[n].nonStackable?t.y0:0)||0}).attr("height",0).attr("width",function(t,e,n){return C.rangeBand()/(P&&!a[n].nonStackable?1:a.length)}).attr("transform",function(t,e){return"translate("+C(A(t,e))+",0)"}),h.style("fill",function(t,e,n){return z(t,n,e)}).style("stroke",function(t,e,n){return z(t,n,e)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),R.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),R.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){R.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){R.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e){R.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),h.attr("class",function(t,e){return E(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(t,e){return"translate("+C(A(t,e))+",0)"}),L&&(g||(g=a.map(function(){return!0})),h.style("fill",function(t,e,n){return d3.rgb(L(t,e)).darker(g.map(function(t,e){return e}).filter(function(t,e){return!g[e]})[n]).toString()}).style("stroke",function(t,e,n){return d3.rgb(L(t,e)).darker(g.map(function(t,e){return e}).filter(function(t,e){return!g[e]})[n]).toString()}));var f=h.watchTransition(U,"multibar",Math.min(250,H)).delay(function(t,e){return e*H/a[0].values.length});P?f.attr("y",function(t,e,n){return a[n].nonStackable?E(t,e)<0?M(0):M(0)-M(E(t,e))<-1?M(0)-1:M(E(t,e))||0:M(t.y1)}).attr("height",function(t,e,n){return a[n].nonStackable?Math.max(Math.abs(M(E(t,e))-M(0)),0)||0:Math.max(Math.abs(M(t.y+t.y0)-M(t.y0)),0)}).attr("x",function(t,e,n){var i=0;return a[n].nonStackable&&(i=t.series*C.rangeBand()/a.length,a.length!==r&&(i=a[n].nonStackableSeries*C.rangeBand()/(2*r))),i}).attr("width",function(t,e,n){if(a[n].nonStackable){var i=C.rangeBand()/r;return a.length!==r&&(i=C.rangeBand()/(2*r)),i}return C.rangeBand()}):f.attr("x",function(t,e){return t.series*C.rangeBand()/a.length}).attr("width",C.rangeBand()/a.length).attr("y",function(t,e){return E(t,e)<0?M(0):M(0)-M(E(t,e))<1?M(0)-1:M(E(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(M(E(t,e))-M(0)),1)||0}),x=C.copy(),w=M.copy(),a[0]&&a[0].values&&(j=a[0].values.length)}),U.renderEnd("multibar immediate"),e}var g,v,m,b,y,x,w,k={top:0,right:0,bottom:0,left:0},$=960,S=500,C=d3.scale.ordinal(),M=d3.scale.linear(),T=Math.floor(1e4*Math.random()),_=null,A=function(t){return t.x},E=function(t){return t.y},D=[0],O=!0,P=!1,I="zero",z=ht.utils.defaultColor(),N=!1,L=null,H=500,W=.1,F=.75,R=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),U=ht.utils.renderWatch(R,H),j=0;return e.dispatch=R,e.options=ht.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return $},set:function(t){$=t}},height:{get:function(){return S},set:function(t){S=t}},x:{get:function(){return A},set:function(t){A=t}},y:{get:function(){return E},set:function(t){E=t}},xScale:{get:function(){return C},set:function(t){C=t}},yScale:{get:function(){return M},set:function(t){M=t}},xDomain:{get:function(){return v},set:function(t){v=t}},yDomain:{get:function(){return m},set:function(t){m=t}},xRange:{get:function(){return b},set:function(t){b=t}},yRange:{get:function(){return y},set:function(t){y=t}},forceY:{get:function(){return D},set:function(t){D=t}},stacked:{get:function(){return P},set:function(t){P=t}},stackOffset:{get:function(){return I},set:function(t){I=t}},clipEdge:{get:function(){return O},set:function(t){O=t}},disabled:{get:function(){return g},set:function(t){g=t}},id:{get:function(){return T},set:function(t){T=t}},hideable:{get:function(){return N},set:function(t){N=t}},groupSpacing:{get:function(){return W},set:function(t){W=t}},fillOpacity:{get:function(){return F},set:function(t){F=t}},margin:{get:function(){return k},set:function(t){k.top=void 0!==t.top?t.top:k.top,k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left}},duration:{get:function(){return H},set:function(t){H=t,U.reset(H)}},color:{get:function(){return z},set:function(t){z=ht.utils.getColor(t)}},barColor:{get:function(){return L},set:function(t){L=t?ht.utils.getColor(t):null}}}),ht.utils.initOptions(e),e},ht.models.multiBarChart=function(){"use strict";function p(t){return n.reset(),n.models(g),E&&n.models(v),D&&n.models(m),t.each(function(c){var t=d3.select(this);ht.utils.initSVG(t);var e,n=ht.utils.availableWidth(S,t,k),i=ht.utils.availableHeight(C,t,k);if(p.update=function(){0===R?t.call(p):t.transition().duration(R).call(p)},p.container=this,L.setter(B(c),p.update).getter(q(c)).update(),L.disabled=c.map(function(t){return!!t.disabled}),!H)for(e in H={},L)L[e]instanceof Array?H[e]=L[e].slice(0):H[e]=L[e];if(!(c&&c.length&&c.filter(function(t){return t.values.length}).length))return ht.utils.noData(p,t),p;t.selectAll(".nv-noData").remove(),h=g.xScale(),f=g.yScale();var r=t.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([c]),o=r.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),a=r.select("g");if(o.append("g").attr("class","nv-x nv-axis"),o.append("g").attr("class","nv-y nv-axis"),o.append("g").attr("class","nv-barsWrap"),o.append("g").attr("class","nv-legendWrap"),o.append("g").attr("class","nv-controlsWrap"),o.append("g").attr("class","nv-interactive"),A?(y.width(n-F()),a.select(".nv-legendWrap").datum(c).call(y),$||y.height()===k.top||(k.top=y.height(),i=ht.utils.availableHeight(C,t,k)),a.select(".nv-legendWrap").attr("transform","translate("+F()+","+-k.top+")")):a.select(".nv-legendWrap").selectAll("*").remove(),T){var s=[{key:_.grouped||"Grouped",disabled:g.stacked()},{key:_.stacked||"Stacked",disabled:!g.stacked()}];x.width(F()).color(["#444","#444","#444"]),a.select(".nv-controlsWrap").datum(s).attr("transform","translate(0,"+-k.top+")").call(x)}else a.select(".nv-controlsWrap").selectAll("*").remove();if(r.attr("transform","translate("+k.left+","+k.top+")"),O&&a.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),g.disabled(c.map(function(t){return t.disabled})).width(n).height(i).color(c.map(function(t,e){return t.color||M(t,e)}).filter(function(t,e){return!c[e].disabled})),a.select(".nv-barsWrap").datum(c.filter(function(t){return!t.disabled})).call(g),E){v.scale(h)._ticks(ht.utils.calcTicksX(n/100,c)).tickSize(-i,0),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")"),a.select(".nv-x.nv-axis").call(v);var l=a.select(".nv-x.nv-axis > g").selectAll("g");if(l.selectAll("line, text").style("opacity",1),I){var u=function(t,e){return"translate("+t+","+e+")"};l.selectAll("text").attr("transform",function(t,e,n){return u(0,n%2==0?5:17)});var d=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;a.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return u(0,0===e||d%2!=0?17:5)})}z&&a.selectAll(".tick text").call(ht.utils.wrapTicks,p.xAxis.rangeBand()),P&&l.filter(function(t,e){return e%Math.ceil(c[0].values.length/(n/100))!=0}).selectAll("text, line").style("opacity",0),N&&l.selectAll(".tick text").attr("transform","rotate("+N+" 0,0)").style("text-anchor",0<N?"start":"end"),a.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}D&&(m.scale(f)._ticks(ht.utils.calcTicksY(i/36,c)).tickSize(-n,0),a.select(".nv-y.nv-axis").call(m)),U&&(b.width(n).height(i).margin({left:k.left,top:k.top}).svgContainer(t).xScale(h),r.select(".nv-interactive").call(b)),y.dispatch.on("stateChange",function(t){for(var e in t)L[e]=t[e];W.stateChange(L),p.update()}),x.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(s=s.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case _.grouped:g.stacked(!1);break;case"Stacked":case _.stacked:g.stacked(!0)}L.stacked=g.stacked(),W.stateChange(L),p.update()}}),W.on("changeState",function(n){void 0!==n.disabled&&(c.forEach(function(t,e){t.disabled=n.disabled[e]}),L.disabled=n.disabled),void 0!==n.stacked&&(g.stacked(n.stacked),L.stacked=n.stacked,j=n.stacked),p.update()}),U?(b.dispatch.on("elementMousemove",function(i){if(null!=i.pointXValue){var r,o,a,s,l=[];c.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){o=h.domain().indexOf(i.pointXValue);var n=t.values[o];void 0!==n&&(s=n.x,void 0===r&&(r=n),void 0===a&&(a=i.mouseX),l.push({key:t.key,value:p.y()(n,o),color:M(t,t.seriesIndex),data:t.values[o]}))}),b.tooltip.data({value:s,index:o,series:l})(),b.renderGuideLine(a)}}),b.dispatch.on("elementMouseout",function(t){b.tooltip.hidden(!0)})):(g.dispatch.on("elementMouseover.tooltip",function(t){t.value=p.x()(t.data),t.series={key:t.data.key,value:p.y()(t.data),color:t.color},w.data(t).hidden(!1)}),g.dispatch.on("elementMouseout.tooltip",function(t){w.hidden(!0)}),g.dispatch.on("elementMousemove.tooltip",function(t){w()}))}),n.renderEnd("multibarchart immediate"),p}var h,f,g=ht.models.multiBar(),v=ht.models.axis(),m=ht.models.axis(),b=ht.interactiveGuideline(),y=ht.models.legend(),x=ht.models.legend(),w=ht.models.tooltip(),k={top:30,right:20,bottom:50,left:60},$=null,S=null,C=null,M=ht.utils.defaultColor(),T=!0,_={},A=!0,E=!0,D=!0,O=!1,P=!0,I=!1,z=!1,N=0,L=ht.utils.state(),H=null,e=null,W=d3.dispatch("stateChange","changeState","renderEnd"),F=function(){return T?180:0},R=250,U=!1;L.stacked=!1,g.stacked(!1),v.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(t){return t}),m.orient(O?"right":"left").tickFormat(d3.format(",.1f")),w.duration(0).valueFormatter(function(t,e){return m.tickFormat()(t,e)}).headerFormatter(function(t,e){return v.tickFormat()(t,e)}),b.tooltip.valueFormatter(function(t,e){return null==t?"N/A":m.tickFormat()(t,e)}).headerFormatter(function(t,e){return v.tickFormat()(t,e)}),b.tooltip.valueFormatter(function(t,e){return null==t?"N/A":m.tickFormat()(t,e)}).headerFormatter(function(t,e){return v.tickFormat()(t,e)}),b.tooltip.duration(0).valueFormatter(function(t,e){return m.tickFormat()(t,e)}).headerFormatter(function(t,e){return v.tickFormat()(t,e)}),x.updateState(!1);var n=ht.utils.renderWatch(W),j=!1,q=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:j}}},B=function(t){return function(n){void 0!==n.stacked&&(j=n.stacked),void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};return p.dispatch=W,p.multibar=g,p.legend=y,p.controls=x,p.xAxis=v,p.yAxis=m,p.state=L,p.tooltip=w,p.interactiveLayer=b,p.options=ht.utils.optionsFunc.bind(p),p._options=Object.create({},{width:{get:function(){return S},set:function(t){S=t}},height:{get:function(){return C},set:function(t){C=t}},showLegend:{get:function(){return A},set:function(t){A=t}},showControls:{get:function(){return T},set:function(t){T=t}},controlLabels:{get:function(){return _},set:function(t){_=t}},showXAxis:{get:function(){return E},set:function(t){E=t}},showYAxis:{get:function(){return D},set:function(t){D=t}},defaultState:{get:function(){return H},set:function(t){H=t}},noData:{get:function(){return e},set:function(t){e=t}},reduceXTicks:{get:function(){return P},set:function(t){P=t}},rotateLabels:{get:function(){return N},set:function(t){N=t}},staggerLabels:{get:function(){return I},set:function(t){I=t}},wrapLabels:{get:function(){return z},set:function(t){z=!!t}},margin:{get:function(){return k},set:function(t){void 0!==t.top&&(k.top=t.top,$=t.top),k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left}},duration:{get:function(){return R},set:function(t){R=t,g.duration(R),v.duration(R),m.duration(R),n.reset(R)}},color:{get:function(){return M},set:function(t){M=ht.utils.getColor(t),y.color(M)}},rightAlignYAxis:{get:function(){return O},set:function(t){O=t,m.orient(O?"right":"left")}},useInteractiveGuideline:{get:function(){return U},set:function(t){U=t}},barColor:{get:function(){return g.barColor},set:function(t){g.barColor(t),y.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),ht.utils.inheritOptions(p,g),ht.utils.initOptions(p),p},ht.models.multiBarHorizontal=function(){"use strict";function e(t){return L.reset(),t.each(function(o){var t=b-m.left-m.right,e=y-m.top-m.bottom;x=d3.select(this),ht.utils.initSVG(x),A&&(o=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(S)(o)),o.forEach(function(e,n){e.values.forEach(function(t){t.series=n,t.key=e.key})}),A&&o[0].values.map(function(t,n){var i=0,r=0;o.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=r-e.size,r-=e.size):(e.y1=i,i+=e.size)})});var n=d&&p?[]:o.map(function(t){return t.values.map(function(t,e){return{x:$(t,e),y:S(t,e),y0:t.y0,y1:t.y1}})});w.domain(d||d3.merge(n).map(function(t){return t.x})).rangeBands(h||[0,e],P),k.domain(p||d3.extent(d3.merge(n).map(function(t){return A?0<t.y?t.y1+t.y:t.y1:t.y}).concat(M))),E&&!A?k.range(f||[k.domain()[0]<0?O:0,t-(0<k.domain()[1]?O:0)]):k.range(f||[0,t]),g=g||w,v=v||d3.scale.linear().domain(k.domain()).range([k(0),k(0)]);var i=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([o]),r=i.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),a=(r.append("defs"),r.append("g"));i.select("g"),a.append("g").attr("class","nv-groups"),i.attr("transform","translate("+m.left+","+m.top+")");var s=i.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});s.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),s.exit().watchTransition(L,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),s.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return T(t,e)}).style("stroke",function(t,e){return T(t,e)}),s.watchTransition(L,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",I);var l=s.selectAll("g.nv-bar").data(function(t){return t.values});l.exit().remove();var c=l.enter().append("g").attr("transform",function(t,e,n){return"translate("+v(A?t.y0:0)+","+(A?0:n*w.rangeBand()/o.length+w($(t,e)))+")"});c.append("rect").attr("width",0).attr("height",w.rangeBand()/(A?1:o.length)),l.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),N.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),N.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){N.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){N.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){N.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e){N.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),C(o[0],0)&&(c.append("polyline"),l.select("polyline").attr("fill","none").attr("points",function(t,e){var n=C(t,e),i=.8*w.rangeBand()/(2*(A?1:o.length));return[[(n=(n=n.length?n:[-Math.abs(n),Math.abs(n)]).map(function(t){return k(t)-k(0)}))[0],-i],[n[0],i],[n[0],0],[n[1],0],[n[1],-i],[n[1],i]].map(function(t){return t.join(",")}).join(" ")}).attr("transform",function(t,e){var n=w.rangeBand()/(2*(A?1:o.length));return"translate("+(S(t,e)<0?0:k(S(t,e))-k(0))+", "+n+")"})),c.append("text"),E&&!A?(l.select("text").attr("text-anchor",function(t,e){return S(t,e)<0?"end":"start"}).attr("y",w.rangeBand()/(2*o.length)).attr("dy",".32em").text(function(t,e){var n=z(S(t,e)),i=C(t,e);return void 0===i?n:i.length?n+"+"+z(Math.abs(i[1]))+"-"+z(Math.abs(i[0])):n+"±"+z(Math.abs(i))}),l.watchTransition(L,"multibarhorizontal: bars").select("text").attr("x",function(t,e){return S(t,e)<0?-4:k(S(t,e))-k(0)+4})):l.selectAll("text").text(""),D&&!A?(c.append("text").classed("nv-bar-label",!0),l.select("text.nv-bar-label").attr("text-anchor",function(t,e){return S(t,e)<0?"start":"end"}).attr("y",w.rangeBand()/(2*o.length)).attr("dy",".32em").text(function(t,e){return $(t,e)}),l.watchTransition(L,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(t,e){return S(t,e)<0?k(0)-k(S(t,e))+4:-4})):l.selectAll("text.nv-bar-label").text(""),l.attr("class",function(t,e){return S(t,e)<0?"nv-bar negative":"nv-bar positive"}),_&&(u||(u=o.map(function(){return!0})),l.style("fill",function(t,e,n){return d3.rgb(_(t,e)).darker(u.map(function(t,e){return e}).filter(function(t,e){return!u[e]})[n]).toString()}).style("stroke",function(t,e,n){return d3.rgb(_(t,e)).darker(u.map(function(t,e){return e}).filter(function(t,e){return!u[e]})[n]).toString()})),A?l.watchTransition(L,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+k(t.y1)+","+w($(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(k(S(t,e)+t.y0)-k(t.y0))||0}).attr("height",w.rangeBand()):l.watchTransition(L,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+k(S(t,e)<0?S(t,e):0)+","+(t.series*w.rangeBand()/o.length+w($(t,e)))+")"}).select("rect").attr("height",w.rangeBand()/o.length).attr("width",function(t,e){return Math.max(Math.abs(k(S(t,e))-k(0)),1)||0}),g=w.copy(),v=k.copy()}),L.renderEnd("multibarHorizontal immediate"),e}var u,d,p,h,f,g,v,m={top:0,right:0,bottom:0,left:0},b=960,y=500,n=Math.floor(1e4*Math.random()),x=null,w=d3.scale.ordinal(),k=d3.scale.linear(),$=function(t){return t.x},S=function(t){return t.y},C=function(t){return t.yErr},M=[0],T=ht.utils.defaultColor(),_=null,A=!1,E=!1,D=!1,O=60,P=.1,I=.75,z=d3.format(",.2f"),i=250,N=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),L=ht.utils.renderWatch(N,i);return e.dispatch=N,e.options=ht.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return b},set:function(t){b=t}},height:{get:function(){return y},set:function(t){y=t}},x:{get:function(){return $},set:function(t){$=t}},y:{get:function(){return S},set:function(t){S=t}},yErr:{get:function(){return C},set:function(t){C=t}},xScale:{get:function(){return w},set:function(t){w=t}},yScale:{get:function(){return k},set:function(t){k=t}},xDomain:{get:function(){return d},set:function(t){d=t}},yDomain:{get:function(){return p},set:function(t){p=t}},xRange:{get:function(){return h},set:function(t){h=t}},yRange:{get:function(){return f},set:function(t){f=t}},forceY:{get:function(){return M},set:function(t){M=t}},stacked:{get:function(){return A},set:function(t){A=t}},showValues:{get:function(){return E},set:function(t){E=t}},disabled:{get:function(){return u},set:function(t){u=t}},id:{get:function(){return n},set:function(t){n=t}},valueFormat:{get:function(){return z},set:function(t){z=t}},valuePadding:{get:function(){return O},set:function(t){O=t}},groupSpacing:{get:function(){return P},set:function(t){P=t}},fillOpacity:{get:function(){return I},set:function(t){I=t}},margin:{get:function(){return m},set:function(t){m.top=void 0!==t.top?t.top:m.top,m.right=void 0!==t.right?t.right:m.right,m.bottom=void 0!==t.bottom?t.bottom:m.bottom,m.left=void 0!==t.left?t.left:m.left}},duration:{get:function(){return i},set:function(t){i=t,L.reset(i)}},color:{get:function(){return T},set:function(t){T=ht.utils.getColor(t)}},barColor:{get:function(){return _},set:function(t){_=t?ht.utils.getColor(t):null}}}),ht.utils.initOptions(e),e},ht.models.multiBarHorizontalChart=function(){"use strict";function c(t){return i.reset(),i.models(p),C&&i.models(h),M&&i.models(f),t.each(function(i){var t=d3.select(this);ht.utils.initSVG(t);var e,n=ht.utils.availableWidth(y,t,m),r=ht.utils.availableHeight(x,t,m);if(c.update=function(){t.transition().duration(O).call(c)},c.container=this,T=p.stacked(),_.setter(I(i),c.update).getter(P(i)).update(),_.disabled=i.map(function(t){return!!t.disabled}),!A)for(e in A={},_)_[e]instanceof Array?A[e]=_[e].slice(0):A[e]=_[e];if(!(i&&i.length&&i.filter(function(t){return t.values.length}).length))return ht.utils.noData(c,t),c;t.selectAll(".nv-noData").remove(),u=p.xScale(),d=p.yScale().clamp(!0);var o=t.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([i]),a=o.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),s=o.select("g");if(a.append("g").attr("class","nv-x nv-axis"),a.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),a.append("g").attr("class","nv-barsWrap"),a.append("g").attr("class","nv-legendWrap"),a.append("g").attr("class","nv-controlsWrap"),S?(g.width(n-D()),s.select(".nv-legendWrap").datum(i).call(g),b||g.height()===m.top||(m.top=g.height(),r=ht.utils.availableHeight(x,t,m)),s.select(".nv-legendWrap").attr("transform","translate("+D()+","+-m.top+")")):s.select(".nv-legendWrap").selectAll("*").remove(),k){var l=[{key:$.grouped||"Grouped",disabled:p.stacked()},{key:$.stacked||"Stacked",disabled:!p.stacked()}];v.width(D()).color(["#444","#444","#444"]),s.select(".nv-controlsWrap").datum(l).attr("transform","translate(0,"+-m.top+")").call(v)}else s.select(".nv-controlsWrap").selectAll("*").remove();(o.attr("transform","translate("+m.left+","+m.top+")"),p.disabled(i.map(function(t){return t.disabled})).width(n).height(r).color(i.map(function(t,e){return t.color||w(t,e)}).filter(function(t,e){return!i[e].disabled})),s.select(".nv-barsWrap").datum(i.filter(function(t){return!t.disabled})).transition().call(p),C)&&(h.scale(u)._ticks(ht.utils.calcTicksY(r/24,i)).tickSize(-n,0),s.select(".nv-x.nv-axis").call(h),s.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));M&&(f.scale(d)._ticks(ht.utils.calcTicksX(n/100,i)).tickSize(-r,0),s.select(".nv-y.nv-axis").attr("transform","translate(0,"+r+")"),s.select(".nv-y.nv-axis").call(f)),s.select(".nv-zeroLine line").attr("x1",d(0)).attr("x2",d(0)).attr("y1",0).attr("y2",-r),g.dispatch.on("stateChange",function(t){for(var e in t)_[e]=t[e];E.stateChange(_),c.update()}),v.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(l=l.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case $.grouped:p.stacked(!1);break;case"Stacked":case $.stacked:p.stacked(!0)}_.stacked=p.stacked(),E.stateChange(_),T=p.stacked(),c.update()}}),E.on("changeState",function(n){void 0!==n.disabled&&(i.forEach(function(t,e){t.disabled=n.disabled[e]}),_.disabled=n.disabled),void 0!==n.stacked&&(p.stacked(n.stacked),_.stacked=n.stacked,T=n.stacked),c.update()})}),i.renderEnd("multibar horizontal chart immediate"),c}var u,d,p=ht.models.multiBarHorizontal(),h=ht.models.axis(),f=ht.models.axis(),g=ht.models.legend().height(30),v=ht.models.legend().height(30),e=ht.models.tooltip(),m={top:30,right:20,bottom:50,left:60},b=null,y=null,x=null,w=ht.utils.defaultColor(),k=!0,$={},S=!0,C=!0,M=!0,T=!1,_=ht.utils.state(),A=null,n=null,E=d3.dispatch("stateChange","changeState","renderEnd"),D=function(){return k?180:0},O=250;_.stacked=!1,p.stacked(T),h.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(t){return t}),f.orient("bottom").tickFormat(d3.format(",.1f")),e.duration(0).valueFormatter(function(t,e){return f.tickFormat()(t,e)}).headerFormatter(function(t,e){return h.tickFormat()(t,e)}),v.updateState(!1);var P=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:T}}},I=function(t){return function(n){void 0!==n.stacked&&(T=n.stacked),void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}},i=ht.utils.renderWatch(E,O);return p.dispatch.on("elementMouseover.tooltip",function(t){t.value=c.x()(t.data),t.series={key:t.data.key,value:c.y()(t.data),color:t.color},e.data(t).hidden(!1)}),p.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),p.dispatch.on("elementMousemove.tooltip",function(t){e()}),c.dispatch=E,c.multibar=p,c.legend=g,c.controls=v,c.xAxis=h,c.yAxis=f,c.state=_,c.tooltip=e,c.options=ht.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return y},set:function(t){y=t}},height:{get:function(){return x},set:function(t){x=t}},showLegend:{get:function(){return S},set:function(t){S=t}},showControls:{get:function(){return k},set:function(t){k=t}},controlLabels:{get:function(){return $},set:function(t){$=t}},showXAxis:{get:function(){return C},set:function(t){C=t}},showYAxis:{get:function(){return M},set:function(t){M=t}},defaultState:{get:function(){return A},set:function(t){A=t}},noData:{get:function(){return n},set:function(t){n=t}},margin:{get:function(){return m},set:function(t){void 0!==t.top&&(m.top=t.top,b=t.top),m.right=void 0!==t.right?t.right:m.right,m.bottom=void 0!==t.bottom?t.bottom:m.bottom,m.left=void 0!==t.left?t.left:m.left}},duration:{get:function(){return O},set:function(t){O=t,i.reset(O),p.duration(O),h.duration(O),f.duration(O)}},color:{get:function(){return w},set:function(t){w=ht.utils.getColor(t),g.color(w)}},barColor:{get:function(){return p.barColor},set:function(t){p.barColor(t),g.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),ht.utils.inheritOptions(c,p),ht.utils.initOptions(c),c},ht.models.multiChart=function(){"use strict";function z(t){return t.each(function(i){function t(t){var n=2===i[t.seriesIndex].yAxis?ct:lt;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},dt.duration(0).headerFormatter(function(t,e){return st.tickFormat()(t,e)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function e(t){var n=2===i[t.seriesIndex].yAxis?ct:lt;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},dt.duration(100).headerFormatter(function(t,e){return st.tickFormat()(t,e)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function n(t){var n=2===i[t.seriesIndex].yAxis?ct:lt;t.point.x=ot.x()(t.point),t.point.y=ot.y()(t.point),dt.duration(0).headerFormatter(function(t,e){return st.tickFormat()(t,e)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function r(t){var n=2===i[t.data.series].yAxis?ct:lt;t.value=it.x()(t.data),t.series={value:it.y()(t.data),color:t.color,key:t.data.key},dt.duration(0).headerFormatter(function(t,e){return st.tickFormat()(t,e)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function o(){for(var t=0,e=pt.length;t<e;t++){var n=pt[t];try{n.clearHighlights()}catch(t){}}}var a=d3.select(this);ht.utils.initSVG(a),z.update=function(){a.transition().call(z)},z.container=this;var s=ht.utils.availableWidth(R,a,H),l=ht.utils.availableHeight(U,a,H),c=i.filter(function(t){return"line"==t.type&&1==t.yAxis}),u=i.filter(function(t){return"line"==t.type&&2==t.yAxis}),d=i.filter(function(t){return"scatter"==t.type&&1==t.yAxis}),p=i.filter(function(t){return"scatter"==t.type&&2==t.yAxis}),h=i.filter(function(t){return"bar"==t.type&&1==t.yAxis}),f=i.filter(function(t){return"bar"==t.type&&2==t.yAxis}),g=i.filter(function(t){return"area"==t.type&&1==t.yAxis}),v=i.filter(function(t){return"area"==t.type&&2==t.yAxis});if(!(i&&i.length&&i.filter(function(t){return t.values.length}).length))return ht.utils.noData(z,a),z;a.selectAll(".nv-noData").remove();var m=i.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:q(t),y:B(t)}})}),b=i.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:q(t),y:B(t)}})});Z.domain(d3.extent(d3.merge(m.concat(b)),function(t){return t.x})).range([0,s]);var y=a.selectAll("g.wrap.multiChart").data([i]),x=y.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");x.append("g").attr("class","nv-x nv-axis"),x.append("g").attr("class","nv-y1 nv-axis"),x.append("g").attr("class","nv-y2 nv-axis"),x.append("g").attr("class","stack1Wrap"),x.append("g").attr("class","stack2Wrap"),x.append("g").attr("class","bars1Wrap"),x.append("g").attr("class","bars2Wrap"),x.append("g").attr("class","scatters1Wrap"),x.append("g").attr("class","scatters2Wrap"),x.append("g").attr("class","lines1Wrap"),x.append("g").attr("class","lines2Wrap"),x.append("g").attr("class","legendWrap"),x.append("g").attr("class","nv-interactive");var w=y.select("g"),k=i.map(function(t,e){return i[e].color||F(t,e)});if(j){var $=ut.align()?s/2:s,S=ut.align()?$:0;ut.width($),ut.color(k),w.select(".legendWrap").datum(i.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":G),t})).call(ut),W||ut.height()===H.top||(H.top=ut.height(),l=ht.utils.availableHeight(U,a,H)),w.select(".legendWrap").attr("transform","translate("+S+","+-H.top+")")}else w.select(".legendWrap").selectAll("*").remove();J.width(s).height(l).interpolate(V).color(k.filter(function(t,e){return!i[e].disabled&&1==i[e].yAxis&&"line"==i[e].type})),tt.width(s).height(l).interpolate(V).color(k.filter(function(t,e){return!i[e].disabled&&2==i[e].yAxis&&"line"==i[e].type})),et.width(s).height(l).color(k.filter(function(t,e){return!i[e].disabled&&1==i[e].yAxis&&"scatter"==i[e].type})),nt.width(s).height(l).color(k.filter(function(t,e){return!i[e].disabled&&2==i[e].yAxis&&"scatter"==i[e].type})),it.width(s).height(l).color(k.filter(function(t,e){return!i[e].disabled&&1==i[e].yAxis&&"bar"==i[e].type})),rt.width(s).height(l).color(k.filter(function(t,e){return!i[e].disabled&&2==i[e].yAxis&&"bar"==i[e].type})),ot.width(s).height(l).interpolate(V).color(k.filter(function(t,e){return!i[e].disabled&&1==i[e].yAxis&&"area"==i[e].type})),at.width(s).height(l).interpolate(V).color(k.filter(function(t,e){return!i[e].disabled&&2==i[e].yAxis&&"area"==i[e].type})),w.attr("transform","translate("+H.left+","+H.top+")");var C=w.select(".lines1Wrap").datum(c.filter(function(t){return!t.disabled})),M=w.select(".scatters1Wrap").datum(d.filter(function(t){return!t.disabled})),T=w.select(".bars1Wrap").datum(h.filter(function(t){return!t.disabled})),_=w.select(".stack1Wrap").datum(g.filter(function(t){return!t.disabled})),A=w.select(".lines2Wrap").datum(u.filter(function(t){return!t.disabled})),E=w.select(".scatters2Wrap").datum(p.filter(function(t){return!t.disabled})),D=w.select(".bars2Wrap").datum(f.filter(function(t){return!t.disabled})),O=w.select(".stack2Wrap").datum(v.filter(function(t){return!t.disabled})),P=g.length?g.map(function(t){return t.values}).reduce(function(t,n){return t.map(function(t,e){return{x:t.x,y:t.y+n[e].y}})}).concat([{x:0,y:0}]):[],I=v.length?v.map(function(t){return t.values}).reduce(function(t,n){return t.map(function(t,e){return{x:t.x,y:t.y+n[e].y}})}).concat([{x:0,y:0}]):[];K.domain(N||d3.extent(d3.merge(m).concat(P),function(t){return t.y})).range([0,l]),Q.domain(L||d3.extent(d3.merge(b).concat(I),function(t){return t.y})).range([0,l]),J.yDomain(K.domain()),et.yDomain(K.domain()),it.yDomain(K.domain()),ot.yDomain(K.domain()),tt.yDomain(Q.domain()),nt.yDomain(Q.domain()),rt.yDomain(Q.domain()),at.yDomain(Q.domain()),g.length&&d3.transition(_).call(ot),v.length&&d3.transition(O).call(at),h.length&&d3.transition(T).call(it),f.length&&d3.transition(D).call(rt),c.length&&d3.transition(C).call(J),u.length&&d3.transition(A).call(tt),d.length&&d3.transition(M).call(et),p.length&&d3.transition(E).call(nt),st._ticks(ht.utils.calcTicksX(s/100,i)).tickSize(-l,0),w.select(".nv-x.nv-axis").attr("transform","translate(0,"+l+")"),d3.transition(w.select(".nv-x.nv-axis")).call(st),lt._ticks(ht.utils.calcTicksY(l/36,i)).tickSize(-s,0),d3.transition(w.select(".nv-y1.nv-axis")).call(lt),ct._ticks(ht.utils.calcTicksY(l/36,i)).tickSize(-s,0),d3.transition(w.select(".nv-y2.nv-axis")).call(ct),w.select(".nv-y1.nv-axis").classed("nv-disabled",!m.length).attr("transform","translate("+Z.range()[0]+",0)"),w.select(".nv-y2.nv-axis").classed("nv-disabled",!b.length).attr("transform","translate("+Z.range()[1]+",0)"),ut.dispatch.on("stateChange",function(t){z.update()}),X&&(Y.width(s).height(l).margin({left:H.left,top:H.top}).svgContainer(a).xScale(Z),y.select(".nv-interactive").call(Y)),X?(Y.dispatch.on("elementMousemove",function(a){o();var s,l,c,u=[];i.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){var n=Z.domain(),i=t.values.filter(function(t,e){return z.x()(t,e)>=n[0]&&z.x()(t,e)<=n[1]}),r=i[l=ht.interactiveBisect(i,a.pointXValue,z.x())],o=z.y()(r,l);null!==o&&function(t,e,n){for(var i=0,r=pt.length;i<r;i++){var o=pt[i];try{o.highlightPoint(t,e,n)}catch(t){}}}(e,l,!0),void 0!==r&&(void 0===s&&(s=r),void 0===c&&(c=Z(z.x()(r,l))),u.push({key:t.key,value:o,color:F(t,t.seriesIndex),data:r,yAxis:2==t.yAxis?ct:lt}))});Y.tooltip.headerFormatter(function(t,e){return st.tickFormat()(t,e)}).valueFormatter(Y.tooltip.valueFormatter()||function(t,e){var n=u[e].yAxis;return null==t?"N/A":n.tickFormat()(t)}).data({value:z.x()(s,l),index:l,series:u})(),Y.renderGuideLine(c)}),Y.dispatch.on("elementMouseout",function(t){o()})):(J.dispatch.on("elementMouseover.tooltip",t),tt.dispatch.on("elementMouseover.tooltip",t),J.dispatch.on("elementMouseout.tooltip",function(t){dt.hidden(!0)}),tt.dispatch.on("elementMouseout.tooltip",function(t){dt.hidden(!0)}),et.dispatch.on("elementMouseover.tooltip",e),nt.dispatch.on("elementMouseover.tooltip",e),et.dispatch.on("elementMouseout.tooltip",function(t){dt.hidden(!0)}),nt.dispatch.on("elementMouseout.tooltip",function(t){dt.hidden(!0)}),ot.dispatch.on("elementMouseover.tooltip",n),at.dispatch.on("elementMouseover.tooltip",n),ot.dispatch.on("elementMouseout.tooltip",function(t){dt.hidden(!0)}),at.dispatch.on("elementMouseout.tooltip",function(t){dt.hidden(!0)}),it.dispatch.on("elementMouseover.tooltip",r),rt.dispatch.on("elementMouseover.tooltip",r),it.dispatch.on("elementMouseout.tooltip",function(t){dt.hidden(!0)}),rt.dispatch.on("elementMouseout.tooltip",function(t){dt.hidden(!0)}),it.dispatch.on("elementMousemove.tooltip",function(t){dt()}),rt.dispatch.on("elementMousemove.tooltip",function(t){dt()}))}),z}var N,L,H={top:30,right:20,bottom:50,left:60},W=null,F=ht.utils.defaultColor(),R=null,U=null,j=!0,e=null,q=function(t){return t.x},B=function(t){return t.y},V="linear",n=!0,Y=ht.interactiveGuideline(),X=!1,G=" (right axis)",i=250,Z=d3.scale.linear(),K=d3.scale.linear(),Q=d3.scale.linear(),J=ht.models.line().yScale(K).duration(i),tt=ht.models.line().yScale(Q).duration(i),et=ht.models.scatter().yScale(K).duration(i),nt=ht.models.scatter().yScale(Q).duration(i),it=ht.models.multiBar().stacked(!1).yScale(K).duration(i),rt=ht.models.multiBar().stacked(!1).yScale(Q).duration(i),ot=ht.models.stackedArea().yScale(K).duration(i),at=ht.models.stackedArea().yScale(Q).duration(i),st=ht.models.axis().scale(Z).orient("bottom").tickPadding(5).duration(i),lt=ht.models.axis().scale(K).orient("left").duration(i),ct=ht.models.axis().scale(Q).orient("right").duration(i),ut=ht.models.legend().height(30),dt=ht.models.tooltip(),t=d3.dispatch(),pt=[J,tt,et,nt,it,rt,ot,at];return z.dispatch=t,z.legend=ut,z.lines1=J,z.lines2=tt,z.scatters1=et,z.scatters2=nt,z.bars1=it,z.bars2=rt,z.stack1=ot,z.stack2=at,z.xAxis=st,z.yAxis1=lt,z.yAxis2=ct,z.tooltip=dt,z.interactiveLayer=Y,z.options=ht.utils.optionsFunc.bind(z),z._options=Object.create({},{width:{get:function(){return R},set:function(t){R=t}},height:{get:function(){return U},set:function(t){U=t}},showLegend:{get:function(){return j},set:function(t){j=t}},yDomain1:{get:function(){return N},set:function(t){N=t}},yDomain2:{get:function(){return L},set:function(t){L=t}},noData:{get:function(){return e},set:function(t){e=t}},interpolate:{get:function(){return V},set:function(t){V=t}},legendRightAxisHint:{get:function(){return G},set:function(t){G=t}},margin:{get:function(){return H},set:function(t){void 0!==t.top&&(H.top=t.top,W=t.top),H.right=void 0!==t.right?t.right:H.right,H.bottom=void 0!==t.bottom?t.bottom:H.bottom,H.left=void 0!==t.left?t.left:H.left}},color:{get:function(){return F},set:function(t){F=ht.utils.getColor(t)}},x:{get:function(){return q},set:function(t){q=t,J.x(t),tt.x(t),et.x(t),nt.x(t),it.x(t),rt.x(t),ot.x(t),at.x(t)}},y:{get:function(){return B},set:function(t){B=t,J.y(t),tt.y(t),et.y(t),nt.y(t),ot.y(t),at.y(t),it.y(t),rt.y(t)}},useVoronoi:{get:function(){return n},set:function(t){n=t,J.useVoronoi(t),tt.useVoronoi(t),ot.useVoronoi(t),at.useVoronoi(t)}},useInteractiveGuideline:{get:function(){return X},set:function(t){(X=t)&&(J.interactive(!1),J.useVoronoi(!1),tt.interactive(!1),tt.useVoronoi(!1),ot.interactive(!1),ot.useVoronoi(!1),at.interactive(!1),at.useVoronoi(!1),et.interactive(!1),nt.interactive(!1))}},duration:{get:function(){return i},set:function(t){i=t,[J,tt,ot,at,et,nt,st,lt,ct].forEach(function(t){t.duration(i)})}}}),ht.utils.initOptions(z),z},ht.models.ohlcBar=function(){"use strict";function n(t){return t.each(function(i){b=d3.select(this);var r=ht.utils.availableWidth(g,b,f),t=ht.utils.availableHeight(v,b,f);ht.utils.initSVG(b);var n=r/i[0].values.length*.9;y.domain(u||d3.extent(i[0].values.map(w).concat(T))),A?y.range(p||[.5*r/i[0].values.length,r*(i[0].values.length-.5)/i[0].values.length]):y.range(p||[5+n/2,r-n/2-5]),x.domain(d||[d3.min(i[0].values.map(M).concat(_)),d3.max(i[0].values.map(C).concat(_))]).range(h||[t,0]),y.domain()[0]===y.domain()[1]&&(y.domain()[0]?y.domain([y.domain()[0]-.01*y.domain()[0],y.domain()[1]+.01*y.domain()[1]]):y.domain([-1,1])),x.domain()[0]===x.domain()[1]&&(x.domain()[0]?x.domain([x.domain()[0]+.01*x.domain()[0],x.domain()[1]-.01*x.domain()[1]]):x.domain([-1,1]));var e=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([i[0].values]),o=e.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),a=o.append("defs"),s=o.append("g"),l=e.select("g");s.append("g").attr("class","nv-ticks"),e.attr("transform","translate("+f.left+","+f.top+")"),b.on("click",function(t,e){O.chartClick({data:t,index:e,pos:d3.event,id:m})}),a.append("clipPath").attr("id","nv-chart-clip-path-"+m).append("rect"),e.select("#nv-chart-clip-path-"+m+" rect").attr("width",r).attr("height",t),l.attr("clip-path",E?"url(#nv-chart-clip-path-"+m+")":"");var c=e.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});c.exit().remove(),c.enter().append("path").attr("class",function(t,e,n){return($(t,e)>S(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,e){return"m0,0l0,"+(x($(t,e))-x(C(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(x(M(t,e))-x($(t,e)))+"l0,"+(x(S(t,e))-x(M(t,e)))+"l"+n/2+",0l"+-n/2+",0z"}).attr("transform",function(t,e){return"translate("+y(w(t,e))+","+x(C(t,e))+")"}).attr("fill",function(t,e){return D[0]}).attr("stroke",function(t,e){return D[0]}).attr("x",0).attr("y",function(t,e){return x(Math.max(0,k(t,e)))}).attr("height",function(t,e){return Math.abs(x(k(t,e))-x(0))}),c.attr("class",function(t,e,n){return($(t,e)>S(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(c).attr("transform",function(t,e){return"translate("+y(w(t,e))+","+x(C(t,e))+")"}).attr("d",function(t,e){var n=r/i[0].values.length*.9;return"m0,0l0,"+(x($(t,e))-x(C(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(x(M(t,e))-x($(t,e)))+"l0,"+(x(S(t,e))-x(M(t,e)))+"l"+n/2+",0l"+-n/2+",0z"})}),n}var u,d,p,h,f={top:0,right:0,bottom:0,left:0},g=null,v=null,m=Math.floor(1e4*Math.random()),b=null,y=d3.scale.linear(),x=d3.scale.linear(),w=function(t){return t.x},k=function(t){return t.y},$=function(t){return t.open},S=function(t){return t.close},C=function(t){return t.high},M=function(t){return t.low},T=[],_=[],A=!1,E=!0,D=ht.utils.defaultColor(),e=!1,O=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return n.highlightPoint=function(t,e){n.clearHighlights(),b.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",e)},n.clearHighlights=function(){b.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},n.dispatch=O,n.options=ht.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return g},set:function(t){g=t}},height:{get:function(){return v},set:function(t){v=t}},xScale:{get:function(){return y},set:function(t){y=t}},yScale:{get:function(){return x},set:function(t){x=t}},xDomain:{get:function(){return u},set:function(t){u=t}},yDomain:{get:function(){return d},set:function(t){d=t}},xRange:{get:function(){return p},set:function(t){p=t}},yRange:{get:function(){return h},set:function(t){h=t}},forceX:{get:function(){return T},set:function(t){T=t}},forceY:{get:function(){return _},set:function(t){_=t}},padData:{get:function(){return A},set:function(t){A=t}},clipEdge:{get:function(){return E},set:function(t){E=t}},id:{get:function(){return m},set:function(t){m=t}},interactive:{get:function(){return e},set:function(t){e=t}},x:{get:function(){return w},set:function(t){w=t}},y:{get:function(){return k},set:function(t){k=t}},open:{get:function(){return $()},set:function(t){$=t}},close:{get:function(){return S()},set:function(t){S=t}},high:{get:function(){return C},set:function(t){C=t}},low:{get:function(){return M},set:function(t){M=t}},margin:{get:function(){return f},set:function(t){f.top=null!=t.top?t.top:f.top,f.right=null!=t.right?t.right:f.right,f.bottom=null!=t.bottom?t.bottom:f.bottom,f.left=null!=t.left?t.left:f.left}},color:{get:function(){return D},set:function(t){D=ht.utils.getColor(t)}}}),ht.utils.initOptions(n),n},ht.models.parallelCoordinates=function(){"use strict";function e(t){return n.reset(),t.each(function(t){function n(o){return Y(H.map(function(t){if(isNaN(o.values[t.key])||isNaN(parseFloat(o.values[t.key]))||p){var e=z[t.key].domain(),n=z[t.key].range(),i=e[0]-(e[1]-e[0])/9;if(B.indexOf(t.key)<0){var r=d3.scale.linear().domain([i,e[1]]).range([P-12,n[1]]);z[t.key].brush.y(r),B.push(t.key)}if(isNaN(o.values[t.key])||isNaN(parseFloat(o.values[t.key])))return[I(t.key),z[t.key](i)]}return void 0!==m&&(0<B.length||p?(m.style("display","inline"),b.style("display","inline")):(m.style("display","none"),b.style("display","none"))),[I(t.key),z[t.key](o.values[t.key])]}))}function e(n){U.forEach(function(t){var e=z[t.dimension].brush.y().domain();t.hasOnlyNaN&&(t.extent[1]=(z[t.dimension].domain()[1]-e[0])*(t.extent[1]-t.extent[0])/(d[t.dimension]-t.extent[0])+e[0]),t.hasNaN&&(t.extent[0]=e[0]),n&&z[t.dimension].brush.extent(t.extent)}),_.select(".nv-brushBackground").each(function(t){d3.select(this).call(z[t.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16),i()}function a(){!1===F&&e(F=!0)}function s(){$=W.filter(function(t){return!z[t].brush.empty()}),S=$.map(function(t){return z[t].brush.extent()}),U=[],$.forEach(function(t,e){U[e]={dimension:t,extent:S[e],hasNaN:!1,hasOnlyNaN:!1}}),j=[],M.style("display",function(n){var t=$.every(function(t,e){return!(!isNaN(n.values[t])&&!isNaN(parseFloat(n.values[t]))||S[e][0]!=z[t].brush.y().domain()[0])||S[e][0]<=n.values[t]&&n.values[t]<=S[e][1]&&!isNaN(parseFloat(n.values[t]))});return t&&j.push(n),t?null:"none"}),i(),G.brush({filters:U,active:j})}function l(){var t=0<$.length;U.forEach(function(t){t.extent[0]===z[t.dimension].brush.y().domain()[0]&&0<=B.indexOf(t.dimension)&&(t.hasNaN=!0),t.extent[1]<z[t.dimension].domain()[0]&&(t.hasOnlyNaN=!0)}),G.brushEnd(j,t)}function i(){_.select(".nv-axis").each(function(e,t){var n=U.filter(function(t){return t.dimension==e.key});h[e.key]=z[e.key].domain(),0!=n.length&&F&&(h[e.key]=[],n[0].extent[1]>z[e.key].domain()[0]&&(h[e.key]=[n[0].extent[1]]),n[0].extent[0]>=z[e.key].domain()[0]&&h[e.key].push(n[0].extent[0])),d3.select(this).call(X.scale(z[e.key]).tickFormat(e.format).tickValues(h[e.key]))})}function r(t){var e=q[t];return null==e?I(t):e}var o=d3.select(this);if(O=ht.utils.availableWidth(E,o,A),P=ht.utils.availableHeight(D,o,A),ht.utils.initSVG(o),void 0===t[0].values){var c=[];t.forEach(function(e){var n={};Object.keys(e).forEach(function(t){"name"!==t&&(n[t]=e[t])}),c.push({key:e.name,values:n})}),t=c}var u=t.map(function(t){return t.values});0===j.length&&(j=t),W=L.sort(function(t,e){return t.currentPosition-e.currentPosition}).map(function(t){return t.key}),H=L.filter(function(t){return!t.disabled}),I.rangePoints([0,O],1).domain(H.map(function(t){return t.key}));var d={},p=!1,h=[];W.forEach(function(e){var t=d3.extent(u,function(t){return+t[e]}),n=t[0],i=t[1],r=!1;(isNaN(n)||isNaN(i))&&(r=!0,i=n=0),n===i&&(n-=1,i+=1);var o=U.filter(function(t){return t.dimension==e});0!==o.length&&(r?(n=z[e].domain()[0],i=z[e].domain()[1]):!o[0].hasOnlyNaN&&F?(n=n>o[0].extent[0]?o[0].extent[0]:n,i=i<o[0].extent[1]?o[0].extent[1]:i):o[0].hasNaN&&(i=i<o[0].extent[1]?o[0].extent[1]:i,d[e]=z[e].domain()[1],p=!0)),z[e]=d3.scale.linear().domain([n,i]).range([.9*(P-12),0]),B=[],z[e].brush=d3.svg.brush().y(z[e]).on("brushstart",a).on("brush",s).on("brushend",l)});var f=o.selectAll("g.nv-wrap.nv-parallelCoordinates").data([t]),g=f.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),v=f.select("g");g.append("g").attr("class","nv-parallelCoordinates background"),g.append("g").attr("class","nv-parallelCoordinates foreground"),g.append("g").attr("class","nv-parallelCoordinates missingValuesline"),f.attr("transform","translate("+A.left+","+A.top+")"),Y.interpolate("cardinal").tension(V),X.orient("left");var m,b,y=d3.behavior.drag().on("dragstart",function(t){q[t.key]=this.parentNode.__origin__=I(t.key),T.attr("visibility","hidden")}).on("drag",function(t){q[t.key]=Math.min(O,Math.max(0,this.parentNode.__origin__+=d3.event.x)),M.attr("d",n),H.sort(function(t,e){return r(t.key)-r(e.key)}),H.forEach(function(t,e){return t.currentPosition=e}),I.domain(H.map(function(t){return t.key})),_.attr("transform",function(t){return"translate("+r(t.key)+")"})}).on("dragend",function(t,e){delete this.parentNode.__origin__,delete q[t.key],d3.select(this.parentNode).attr("transform","translate("+I(t.key)+")"),M.attr("d",n),T.attr("d",n).attr("visibility",null),G.dimensionsOrder(H)}),x=I.range()[1]-I.range()[0];if(x=isNaN(x)?I.range()[0]:x,!isNaN(x)){var w=[0+x/2,P-12,O-x/2,P-12];(m=f.select(".missingValuesline").selectAll("line").data([w])).enter().append("line"),m.exit().remove(),m.attr("x1",function(t){return t[0]}).attr("y1",function(t){return t[1]}).attr("x2",function(t){return t[2]}).attr("y2",function(t){return t[3]}),(b=f.select(".missingValuesline").selectAll("text").data([N])).append("text").data([N]),b.enter().append("text"),b.exit().remove(),b.attr("y",P).attr("x",O-92-x/2).text(function(t){return t})}(T=f.select(".background").selectAll("path").data(t)).enter().append("path"),T.exit().remove(),T.attr("d",n),(M=f.select(".foreground").selectAll("path").data(t)).enter().append("path"),M.exit().remove(),M.attr("d",n).style("stroke-width",function(t,e){return isNaN(t.strokeWidth)&&(t.strokeWidth=1),t.strokeWidth}).attr("stroke",function(t,e){return t.color||R(t,e)}),M.on("mouseover",function(t,e){d3.select(this).classed("hover",!0).style("stroke-width",t.strokeWidth+2+"px").style("stroke-opacity",1),G.elementMouseover({label:t.name,color:t.color||R(t,e),values:t.values,dimensions:H})}),M.on("mouseout",function(t,e){d3.select(this).classed("hover",!1).style("stroke-width",t.strokeWidth+"px").style("stroke-opacity",.7),G.elementMouseout({label:t.name,index:e})}),M.on("mousemove",function(t,e){G.elementMousemove()}),M.on("click",function(t){G.elementClick({id:t.id})});var k=(_=v.selectAll(".dimension").data(H)).enter().append("g").attr("class","nv-parallelCoordinates dimension");_.attr("transform",function(t){return"translate("+I(t.key)+",0)"}),k.append("g").attr("class","nv-axis"),k.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(t,e){G.elementMouseover({label:t.tooltip||t.key,color:t.color})}).on("mouseout",function(t,e){G.elementMouseout({label:t.tooltip})}).on("mousemove",function(t,e){G.elementMousemove()}).call(y),k.append("g").attr("class","nv-brushBackground"),_.exit().remove(),_.select(".nv-label").text(function(t){return t.key}),e(F);var $=W.filter(function(t){return!z[t].brush.empty()}),S=$.map(function(t){return z[t].brush.extent()}),C=j.slice(0);j=[],M.style("display",function(n){var t=$.every(function(t,e){return!(!isNaN(n.values[t])&&!isNaN(parseFloat(n.values[t]))||S[e][0]!=z[t].brush.y().domain()[0])||S[e][0]<=n.values[t]&&n.values[t]<=S[e][1]&&!isNaN(parseFloat(n.values[t]))});return t&&j.push(n),t?null:"none"}),(0<U.length||!ht.utils.arrayEquals(j,C))&&G.activeChanged(j)}),e}var M,T,_,A={top:30,right:0,bottom:10,left:0},E=null,D=null,O=null,P=null,I=d3.scale.ordinal(),z={},N="undefined values",L=[],H=[],W=[],F=!0,R=ht.utils.defaultColor(),U=[],j=[],q=[],B=[],V=1,Y=d3.svg.line(),X=d3.svg.axis(),G=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),n=ht.utils.renderWatch(G);return e.dispatch=G,e.options=ht.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return E},set:function(t){E=t}},height:{get:function(){return D},set:function(t){D=t}},dimensionData:{get:function(){return L},set:function(t){L=t}},displayBrush:{get:function(){return F},set:function(t){F=t}},filters:{get:function(){return U},set:function(t){U=t}},active:{get:function(){return j},set:function(t){j=t}},lineTension:{get:function(){return V},set:function(t){V=t}},undefinedValuesLabel:{get:function(){return N},set:function(t){N=t}},dimensions:{get:function(){return L.map(function(t){return t.key})},set:function(t){ht.deprecated("dimensions","use dimensionData instead"),0===L.length?t.forEach(function(t){L.push({key:t})}):t.forEach(function(t,e){L[e].key=t})}},dimensionNames:{get:function(){return L.map(function(t){return t.key})},set:function(t){ht.deprecated("dimensionNames","use dimensionData instead"),W=[],0===L.length?t.forEach(function(t){L.push({key:t})}):t.forEach(function(t,e){L[e].key=t})}},dimensionFormats:{get:function(){return L.map(function(t){return t.format})},set:function(t){ht.deprecated("dimensionFormats","use dimensionData instead"),0===L.length?t.forEach(function(t){L.push({format:t})}):t.forEach(function(t,e){L[e].format=t})}},margin:{get:function(){return A},set:function(t){A.top=void 0!==t.top?t.top:A.top,A.right=void 0!==t.right?t.right:A.right,A.bottom=void 0!==t.bottom?t.bottom:A.bottom,A.left=void 0!==t.left?t.left:A.left}},color:{get:function(){return R},set:function(t){R=ht.utils.getColor(t)}}}),ht.utils.initOptions(e),e},ht.models.parallelCoordinatesChart=function(){"use strict";function l(t){return r.reset(),r.models(c),t.each(function(t){var e=d3.select(this);ht.utils.initSVG(e);var n,i=ht.utils.availableWidth(h,e,d),r=ht.utils.availableHeight(f,e,d);if(l.update=function(){e.call(l)},l.container=this,v.setter(k(m),l.update).getter(w(m)).update(),v.disabled=m.map(function(t){return!!t.disabled}),(m=m.map(function(t){return t.disabled=!!t.disabled,t})).forEach(function(t,e){t.originalPosition=isNaN(t.originalPosition)?e:t.originalPosition,t.currentPosition=isNaN(t.currentPosition)?e:t.currentPosition}),!y)for(n in y={},v)v[n]instanceof Array?y[n]=v[n].slice(0):y[n]=v[n];if(!t||!t.length)return ht.utils.noData(l,e),l;e.selectAll(".nv-noData").remove();var o=e.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([t]),a=o.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),s=o.select("g");a.append("g").attr("class","nv-parallelCoordinatesWrap"),a.append("g").attr("class","nv-legendWrap"),s.select("rect").attr("width",i).attr("height",0<r?r:0),g?(u.width(i).color(function(t){return"rgb(188,190,192)"}),s.select(".nv-legendWrap").datum(m.sort(function(t,e){return t.originalPosition-e.originalPosition})).call(u),p||u.height()===d.top||(d.top=u.height(),r=ht.utils.availableHeight(f,e,d)),o.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-d.top+")")):s.select(".nv-legendWrap").selectAll("*").remove(),o.attr("transform","translate("+d.left+","+d.top+")"),c.width(i).height(r).dimensionData(m).displayBrush(b),s.select(".nv-parallelCoordinatesWrap ").datum(t).transition().call(c),c.dispatch.on("brushEnd",function(t,e){e?(b=!0,x.brushEnd(t)):b=!1}),u.dispatch.on("stateChange",function(t){for(var e in t)v[e]=t[e];x.stateChange(v),l.update()}),c.dispatch.on("dimensionsOrder",function(t){m.sort(function(t,e){return t.currentPosition-e.currentPosition});var n=!1;m.forEach(function(t,e){t.currentPosition=e,t.currentPosition!==t.originalPosition&&(n=!0)}),x.dimensionsOrder(m,n)}),x.on("changeState",function(n){void 0!==n.disabled&&(m.forEach(function(t,e){t.disabled=n.disabled[e]}),v.disabled=n.disabled),l.update()})}),r.renderEnd("parraleleCoordinateChart immediate"),l}var c=ht.models.parallelCoordinates(),u=ht.models.legend(),e=ht.models.tooltip(),d=(ht.models.tooltip(),{top:0,right:0,bottom:0,left:0}),p=null,h=null,f=null,g=!0,n=ht.utils.defaultColor(),v=ht.utils.state(),m=[],b=!0,y=null,i=null,o="undefined",x=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),r=ht.utils.renderWatch(x),w=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},k=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};return e.contentGenerator(function(t){var e='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td><strong>'+t.key+"</strong></td></tr></thead>";return 0!==t.series.length&&(e+='<tbody><tr><td height ="10px"></td></tr>',t.series.forEach(function(t){e=e+'<tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td class="key">'+t.key+'</td><td class="value">'+t.value+"</td></tr>"}),e+="</tbody>"),e+="</table>"}),c.dispatch.on("elementMouseover.tooltip",function(i){var r={key:i.label,color:i.color,series:[]};i.values&&(Object.keys(i.values).forEach(function(e){var t,n=i.dimensions.filter(function(t){return t.key===e})[0];n&&(t=isNaN(i.values[e])||isNaN(parseFloat(i.values[e]))?o:n.format(i.values[e]),r.series.push({idx:n.currentPosition,key:e,value:t,color:n.color}))}),r.series.sort(function(t,e){return t.idx-e.idx})),e.data(r).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(){e()}),l.dispatch=x,l.parallelCoordinates=c,l.legend=u,l.tooltip=e,l.options=ht.utils.optionsFunc.bind(l),l._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return f},set:function(t){f=t}},showLegend:{get:function(){return g},set:function(t){g=t}},defaultState:{get:function(){return y},set:function(t){y=t}},dimensionData:{get:function(){return m},set:function(t){m=t}},displayBrush:{get:function(){return b},set:function(t){b=t}},noData:{get:function(){return i},set:function(t){i=t}},nanValue:{get:function(){return o},set:function(t){o=t}},margin:{get:function(){return d},set:function(t){void 0!==t.top&&(d.top=t.top,p=t.top),d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},color:{get:function(){return n},set:function(t){n=ht.utils.getColor(t),u.color(n),c.color(n)}}}),ht.utils.inheritOptions(l,c),ht.utils.initOptions(l),l},ht.models.pie=function(){"use strict";function e(t){return K.reset(),t.each(function(t){var e=S-$.left-$.right,n=C-$.top-$.bottom,a=Math.min(e,n)/2,s=[],i=[];if(A=d3.select(this),0===Y.length)for(var r=a-a/5,o=B*a,l=0;l<t[0].length;l++)s.push(r),i.push(o);else B=H?(s=Y.map(function(t){return(t.outer-t.outer/5)*a}),i=Y.map(function(t){return(t.inner-t.inner/5)*a}),d3.min(Y.map(function(t){return t.inner-t.inner/5}))):(s=Y.map(function(t){return t.outer*a}),i=Y.map(function(t){return t.inner*a}),d3.min(Y.map(function(t){return t.inner})));ht.utils.initSVG(A);var c=A.selectAll(".nv-wrap.nv-pie").data(t),u=c.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+_).append("g"),d=c.select("g"),p=u.append("g").attr("class","nv-pie");u.append("g").attr("class","nv-pieLabels"),c.attr("transform","translate("+$.left+","+$.top+")"),d.select(".nv-pie").attr("transform","translate("+e/2+","+n/2+")"),d.select(".nv-pieLabels").attr("transform","translate("+e/2+","+n/2+")"),A.on("click",function(t,e){X.chartClick({data:t,index:e,pos:d3.event,id:_})}),G=[],Z=[];for(l=0;l<t[0].length;l++){var h=d3.svg.arc().outerRadius(s[l]),f=d3.svg.arc().outerRadius(s[l]+5);!1!==R&&(h.startAngle(R),f.startAngle(R)),!1!==j&&(h.endAngle(j),f.endAngle(j)),N&&(h.innerRadius(i[l]),f.innerRadius(i[l])),h.cornerRadius&&q&&(h.cornerRadius(q),f.cornerRadius(q)),G.push(h),Z.push(f)}var g=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:T(t)});g.padAngle&&U&&g.padAngle(U),N&&L&&(p.append("text").attr("class","nv-pie-title"),c.select(".nv-pie-title").style("text-anchor","middle").text(function(t){return L}).style("font-size",Math.min(e,n)*B*2/(L.length+2)+"px").attr("dy","0.35em").attr("transform",function(t,e){return"translate(0, "+W+")"}));var v=c.select(".nv-pie").selectAll(".nv-slice").data(g),m=c.select(".nv-pieLabels").selectAll(".nv-label").data(g);v.exit().remove(),m.exit().remove();var b=v.enter().append("g");if(b.attr("class","nv-slice"),b.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),H&&d3.select(this).select("path").transition().duration(70).attr("d",Z[e]),X.elementMouseover({data:t.data,index:e,color:d3.select(this).style("fill"),percent:(t.endAngle-t.startAngle)/(2*Math.PI)})}),b.on("mouseout",function(t,e){d3.select(this).classed("hover",!1),H&&d3.select(this).select("path").transition().duration(50).attr("d",G[e]),X.elementMouseout({data:t.data,index:e})}),b.on("mousemove",function(t,e){X.elementMousemove({data:t.data,index:e})}),b.on("click",function(t,e){X.elementClick({data:t.data,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this})}),b.on("dblclick",function(t,e){X.elementDblClick({data:t.data,index:e,color:d3.select(this).style("fill")})}),v.attr("fill",function(t,e){return E(t.data,e)}),v.attr("stroke",function(t,e){return E(t.data,e)}),b.append("path").each(function(t){this._current=t}),v.select("path").transition().duration(V).attr("d",function(t,e){return G[e](t)}).attrTween("d",function(t,e){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,N||(t.innerRadius=0);var n=d3.interpolate(this._current,t);return this._current=n(0),function(t){return G[e](n(t))}}),O){var y=[];for(l=0;l<t[0].length;l++)y.push(G[l]),P?N&&(y[l]=d3.svg.arc().outerRadius(G[l].outerRadius()),!1!==R&&y[l].startAngle(R),!1!==j&&y[l].endAngle(j)):N||y[l].innerRadius(0);m.enter().append("g").classed("nv-label",!0).each(function(t,e){var n=d3.select(this);n.attr("transform",function(t,e){if(F){t.outerRadius=s[e]+10,t.innerRadius=s[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+y[e].centroid(t)+") rotate("+n+")"}return t.outerRadius=a+10,t.innerRadius=a+15,"translate("+y[e].centroid(t)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",F?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var x={},w=function(t){return 140*Math.floor(t[0]/140)+","+14*Math.floor(t[1]/14)},k=function(t){return(t.endAngle-t.startAngle)/(2*Math.PI)};m.watchTransition(K,"pie labels").attr("transform",function(t,e){if(F){t.outerRadius=s[e]+10,t.innerRadius=s[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+y[e].centroid(t)+") rotate("+n+")"}t.outerRadius=a+10,t.innerRadius=a+15;var i=y[e].centroid(t),r=k(t);if(t.value&&z<=r){var o=w(i);x[o]&&(i[1]-=14),x[w(i)]=!0}return"translate("+i+")"}),m.select(".nv-label text").style("text-anchor",function(t,e){return F?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(t,e){var n=k(t),i="";if(!t.value||n<z)return"";if("function"==typeof I)i=I(t,e,{key:M(t.data),value:T(t.data),percent:D(n)});else switch(I){case"key":i=M(t.data);break;case"value":i=D(T(t.data));break;case"percent":i=d3.format("%")(n)}return i})}}),K.renderEnd("pie immediate"),e}var $={top:0,right:0,bottom:0,left:0},S=500,C=500,M=function(t){return t.x},T=function(t){return t.y},_=Math.floor(1e4*Math.random()),A=null,E=ht.utils.defaultColor(),D=d3.format(",.2f"),O=!0,P=!1,I="key",z=.02,N=!1,L=!1,H=!0,W=0,F=!1,R=!1,U=!1,j=!1,q=0,B=.5,V=250,Y=[],X=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),G=[],Z=[],K=ht.utils.renderWatch(X);return e.dispatch=X,e.options=ht.utils.optionsFunc.bind(e),e._options=Object.create({},{arcsRadius:{get:function(){return Y},set:function(t){Y=t}},width:{get:function(){return S},set:function(t){S=t}},height:{get:function(){return C},set:function(t){C=t}},showLabels:{get:function(){return O},set:function(t){O=t}},title:{get:function(){return L},set:function(t){L=t}},titleOffset:{get:function(){return W},set:function(t){W=t}},labelThreshold:{get:function(){return z},set:function(t){z=t}},valueFormat:{get:function(){return D},set:function(t){D=t}},x:{get:function(){return M},set:function(t){M=t}},id:{get:function(){return _},set:function(t){_=t}},endAngle:{get:function(){return j},set:function(t){j=t}},startAngle:{get:function(){return R},set:function(t){R=t}},padAngle:{get:function(){return U},set:function(t){U=t}},cornerRadius:{get:function(){return q},set:function(t){q=t}},donutRatio:{get:function(){return B},set:function(t){B=t}},labelsOutside:{get:function(){return P},set:function(t){P=t}},labelSunbeamLayout:{get:function(){return F},set:function(t){F=t}},donut:{get:function(){return N},set:function(t){N=t}},growOnHover:{get:function(){return H},set:function(t){H=t}},pieLabelsOutside:{get:function(){return P},set:function(t){P=t,ht.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return P},set:function(t){P=t,ht.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return D},set:function(t){D=t,ht.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return $},set:function(t){$.top=void 0!==t.top?t.top:$.top,$.right=void 0!==t.right?t.right:$.right,$.bottom=void 0!==t.bottom?t.bottom:$.bottom,$.left=void 0!==t.left?t.left:$.left}},duration:{get:function(){return V},set:function(t){V=t,K.reset(V)}},y:{get:function(){return T},set:function(t){T=d3.functor(t)}},color:{get:function(){return E},set:function(t){E=ht.utils.getColor(t)}},labelType:{get:function(){return I},set:function(t){I=t||"key"}}}),ht.utils.initOptions(e),e},ht.models.pieChart=function(){"use strict";function u(t){return a.reset(),a.models(d),t.each(function(t){var e=d3.select(this);ht.utils.initSVG(e);var n,i=ht.utils.availableWidth(g,e,h),r=ht.utils.availableHeight(v,e,h);if(u.update=function(){e.transition().call(u)},u.container=this,y.setter($(t),u.update).getter(k(t)).update(),y.disabled=t.map(function(t){return!!t.disabled}),!x)for(n in x={},y)y[n]instanceof Array?x[n]=y[n].slice(0):x[n]=y[n];if(!t||!t.length)return ht.utils.noData(u,e),u;e.selectAll(".nv-noData").remove();var o=e.selectAll("g.nv-wrap.nv-pieChart").data([t]),a=o.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),s=o.select("g");if(a.append("g").attr("class","nv-pieWrap"),a.append("g").attr("class","nv-legendWrap"),m){if("top"===b)p.width(i).key(d.x()),o.select(".nv-legendWrap").datum(t).call(p),f||p.height()===h.top||(h.top=p.height(),r=ht.utils.availableHeight(v,e,h)),o.select(".nv-legendWrap").attr("transform","translate(0,"+-h.top+")");else if("right"===b){var l=ht.models.legend().width();i/2<l&&(l=i/2),p.height(r).key(d.x()),p.width(l),i-=p.width(),o.select(".nv-legendWrap").datum(t).call(p).attr("transform","translate("+i+",0)")}}else s.select(".nv-legendWrap").selectAll("*").remove();o.attr("transform","translate("+h.left+","+h.top+")"),d.width(i).height(r);var c=s.select(".nv-pieWrap").datum([t]);d3.transition(c).call(d),p.dispatch.on("stateChange",function(t){for(var e in t)y[e]=t[e];w.stateChange(y),u.update()}),w.on("changeState",function(n){void 0!==n.disabled&&(t.forEach(function(t,e){t.disabled=n.disabled[e]}),y.disabled=n.disabled),u.update()})}),a.renderEnd("pieChart immediate"),u}var d=ht.models.pie(),p=ht.models.legend(),e=ht.models.tooltip(),h={top:30,right:20,bottom:20,left:20},f=null,g=null,v=null,n=!1,m=!0,b="top",i=ht.utils.defaultColor(),y=ht.utils.state(),x=null,r=null,o=250,w=d3.dispatch("stateChange","changeState","renderEnd");e.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return d.valueFormat()(t,e)});var a=ht.utils.renderWatch(w),k=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},$=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};return d.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:u.x()(t.data),value:u.y()(t.data),color:t.color,percent:t.percent},n||(delete t.percent,delete t.series.percent),e.data(t).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(t){e()}),u.legend=p,u.dispatch=w,u.pie=d,u.tooltip=e,u.options=ht.utils.optionsFunc.bind(u),u._options=Object.create({},{width:{get:function(){return g},set:function(t){g=t}},height:{get:function(){return v},set:function(t){v=t}},noData:{get:function(){return r},set:function(t){r=t}},showTooltipPercent:{get:function(){return n},set:function(t){n=t}},showLegend:{get:function(){return m},set:function(t){m=t}},legendPosition:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return x},set:function(t){x=t}},color:{get:function(){return i},set:function(t){i=t,p.color(i),d.color(i)}},duration:{get:function(){return o},set:function(t){o=t,a.reset(o),d.duration(o)}},margin:{get:function(){return h},set:function(t){void 0!==t.top&&(h.top=t.top,f=t.top),h.right=void 0!==t.right?t.right:h.right,h.bottom=void 0!==t.bottom?t.bottom:h.bottom,h.left=void 0!==t.left?t.left:h.left}}}),ht.utils.inheritOptions(u,d),ht.utils.initOptions(u),u},ht.models.sankey=function(){"use strict";function e(){for(var e,t=p,n=0;t.length&&n<p.length;)e=[],t.forEach(function(t){t.x=n,t.dx=o,t.sourceLinks.forEach(function(t){e.indexOf(t.target)<0&&e.push(t.target)})}),t=e,++n;var i,r;a&&(r=n,p.forEach(function(t){t.sourceLinks.length||(t.x=r-1)})),i=(d[0]-o)/(n-1),p.forEach(function(t){t.x*=i})}function l(){function e(t,e){return t.source.y-e.source.y}function n(t,e){return t.target.y-e.target.y}p.forEach(function(t){t.sourceLinks.sort(n),t.targetLinks.sort(e)}),p.forEach(function(t){var e=0,n=0;t.sourceLinks.forEach(function(t){t.sy=e,e+=t.dy}),t.targetLinks.forEach(function(t){t.ty=n,n+=t.dy})})}function c(t){return t.value}var t={},o=24,u=8,d=[1,1],p=[],h=[],a=!0,n=function(t){p.forEach(function(t){t.sourceLinks=[],t.targetLinks=[]}),h.forEach(function(t){var e=t.source,n=t.target;"number"==typeof e&&(e=t.source=p[t.source]),"number"==typeof n&&(n=t.target=p[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)}),p.forEach(function(t){t.value=Math.max(d3.sum(t.sourceLinks,c),d3.sum(t.targetLinks,c))}),e(),function(t){function e(n){function i(t){return(t.source.y+t.sy+t.dy/2)*t.value}o.forEach(function(t,e){t.forEach(function(t){if(t.targetLinks.length){var e=d3.sum(t.targetLinks,i)/d3.sum(t.targetLinks,c);t.y+=(e-f(t))*n}})})}function n(n){function i(t){return(t.target.y+t.ty+t.dy/2)*t.value}o.slice().reverse().forEach(function(t){t.forEach(function(t){if(t.sourceLinks.length){var e=d3.sum(t.sourceLinks,i)/d3.sum(t.sourceLinks,c);t.y+=(e-f(t))*n}})})}function i(){o.forEach(function(t){var e,n,i,r=0,o=t.length;for(t.sort(a),i=0;i<o;++i)0<(n=r-(e=t[i]).y)&&(e.y+=n),r=e.y+e.dy+u;if(0<(n=r-u-d[1]))for(r=e.y-=n,i=o-2;0<=i;--i)0<(n=(e=t[i]).y+e.dy+u-r)&&(e.y-=n),r=e.y})}function a(t,e){return t.y-e.y}var r,o=d3.nest().key(function(t){return t.x}).sortKeys(d3.ascending).entries(p).map(function(t){return t.values});r=d3.min(o,function(t){return(d[1]-(t.length-1)*u)/d3.sum(t,c)}),o.forEach(function(t){t.forEach(function(t,e){t.y=e,t.dy=t.value*r})}),h.forEach(function(t){t.dy=t.value*r}),i(),l();for(var s=1;0<t;--t)n(s*=.99),i(),l(),e(s),i(),l()}(t)},i=function(){function e(t){var e=t.source.x+t.source.dx,n=t.target.x,i=d3.interpolateNumber(e,n),r=i(l),o=i(1-l),a=t.source.y+t.sy+t.dy/2,s=t.target.y+t.ty+t.dy/2;return"M"+e+","+a+"C"+r+","+a+" "+o+","+s+" "+n+","+s}var l=.5;return e.curvature=function(t){return arguments.length?(l=+t,e):l},e},f=function(t){return t.y+t.dy/2};return t.options=ht.utils.optionsFunc.bind(t),t._options=Object.create({},{nodeWidth:{get:function(){return o},set:function(t){o=+t}},nodePadding:{get:function(){return u},set:function(t){u=t}},nodes:{get:function(){return p},set:function(t){p=t}},links:{get:function(){return h},set:function(t){h=t}},size:{get:function(){return d},set:function(t){d=t}},sinksRight:{get:function(){return a},set:function(t){a=t}},layout:{get:function(){n(32)},set:function(t){n(t)}},relayout:{get:function(){l()},set:function(t){}},center:{get:function(){return f()},set:function(t){"function"==typeof t&&(f=t)}},link:{get:function(){return i()},set:function(t){return"function"==typeof t&&(i=t),i()}}}),ht.utils.initOptions(t),t},ht.models.sankeyChart=function(){"use strict";function t(l){return l.each(function(t){var e={nodes:[{node:1,name:"Test 1"},{node:2,name:"Test 2"},{node:3,name:"Test 3"},{node:4,name:"Test 4"},{node:5,name:"Test 5"},{node:6,name:"Test 6"}],links:[{source:0,target:1,value:2295},{source:0,target:5,value:1199},{source:1,target:2,value:1119},{source:1,target:5,value:1176},{source:2,target:3,value:487},{source:2,target:5,value:632},{source:3,target:4,value:301},{source:3,target:5,value:186}]},n=!1,i=!1;if(0<=("object"==typeof t.nodes&&t.nodes.length)&&0<=("object"==typeof t.links&&t.links.length)&&(n=!0),t.nodes&&0<t.nodes.length&&t.links&&0<t.links.length&&(i=!0),!n)return console.error("NVD3 Sankey chart error:","invalid data format for",t),console.info("Valid data format is: ",e,JSON.stringify(e)),y(l,"Error loading chart, data is invalid"),!1;if(!i)return y(l,"No data available"),!1;var r=l.append("svg").attr("width",u).attr("height",d).append("g").attr("class","nvd3 nv-wrap nv-sankeyChart");c.nodeWidth(p).nodePadding(h).size([u,d]);var o=c.link();c.nodes(t.nodes).links(t.links).layout(32).center(f);var a=r.append("g").selectAll(".link").data(t.links).enter().append("path").attr("class","link").attr("d",o).style("stroke-width",function(t){return Math.max(1,t.dy)}).sort(function(t,e){return e.dy-t.dy});a.append("title").text(g);var s=r.append("g").selectAll(".node").data(t.nodes).enter().append("g").attr("class","node").attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).call(d3.behavior.drag().origin(function(t){return t}).on("dragstart",function(){this.parentNode.appendChild(this)}).on("drag",function(t){d3.select(this).attr("transform","translate("+t.x+","+(t.y=Math.max(0,Math.min(d-t.dy,d3.event.y)))+")"),c.relayout(),a.attr("d",o)}));s.append("rect").attr("height",function(t){return t.dy}).attr("width",c.nodeWidth()).style("fill",v).style("stroke",m).append("title").text(b),s.append("text").attr("x",-6).attr("y",function(t){return t.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(t){return t.name}).filter(function(t){return t.x<u/2}).attr("x",6+c.nodeWidth()).attr("text-anchor","start")}),t}var e={top:5,right:0,bottom:5,left:0},c=ht.models.sankey(),u=600,d=400,p=36,h=40,n="units",f=void 0,i=d3.format(",.0f"),r=function(t){return i(t)+" "+n},o=d3.scale.category20(),g=function(t){return t.source.name+" → "+t.target.name+"\n"+r(t.value)},v=function(t){return t.color=o(t.name.replace(/ .*/,""))},m=function(t){return d3.rgb(t.color).darker(2)},b=function(t){return t.name+"\n"+r(t.value)},y=function(t,e){t.append("text").attr("x",0).attr("y",0).attr("class","nvd3-sankey-chart-error").attr("text-anchor","middle").text(e)};return t.options=ht.utils.optionsFunc.bind(t),t._options=Object.create({},{units:{get:function(){return n},set:function(t){n=t}},width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},format:{get:function(){return r},set:function(t){r=t}},linkTitle:{get:function(){return g},set:function(t){g=t}},nodeWidth:{get:function(){return p},set:function(t){p=t}},nodePadding:{get:function(){return h},set:function(t){h=t}},center:{get:function(){return f},set:function(t){f=t}},margin:{get:function(){return e},set:function(t){e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left}},nodeStyle:{get:function(){return{}},set:function(t){v=void 0!==t.fillColor?t.fillColor:v,m=void 0!==t.strokeColor?t.strokeColor:m,b=void 0!==t.title?t.title:b}}}),ht.utils.initOptions(t),t},ht.models.scatter=function(){"use strict";function m(t){var e;e=t[0].series+":"+t[1],delete l[e]}function b(t){var e,n,i,r,o,a=(o=(r=t)[0].series+":"+r[1],l[o]=l[o]||{}),s=!1;for(e=1;e<arguments.length;e+=2)n=arguments[e],i=arguments[e+1](t[0],t[1]),a[n]===i&&a.hasOwnProperty(n)||(a[n]=i,s=!0);return s}function y(t){return ct.reset(),t.each(function(l){function t(){if(lt=!1,!j)return!1;if(!0===ot){var n=d3.merge(l.map(function(t,r){return t.values.map(function(t,e){var n=N(t,e),i=L(t,e);return[ht.utils.NaNtoZero(P(n))+1e-4*Math.random(),ht.utils.NaNtoZero(I(i))+1e-4*Math.random(),r,e,t]}).filter(function(t,e){return q(t[4],e)})}));if(0==n.length)return!1;n.length<3&&(n.push([P.range()[0]-20,I.range()[0]-20,null,null]),n.push([P.range()[1]+20,I.range()[1]+20,null,null]),n.push([P.range()[0]-20,I.range()[0]+20,null,null]),n.push([P.range()[1]+20,I.range()[1]-20,null,null]));var i=d3.geom.polygon([[-10,-10],[-10,_+10],[T+10,_+10],[T+10,-10]]),t=d3.geom.voronoi(n).map(function(t,e){return{data:i.clip(t),series:n[e][2],point:n[e][3]}});c.select(".nv-point-paths").selectAll("path").remove();var e=c.select(".nv-point-paths").selectAll("path").data(t),r=e.enter().append("svg:path").attr("d",function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"}).attr("id",function(t,e){return"nv-path-"+e}).attr("clip-path",function(t,e){return"url(#nv-clip-"+D+"-"+e+")"});if(G&&r.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),X)c.select(".nv-point-clips").selectAll("*").remove(),c.select(".nv-point-clips").selectAll("clipPath").data(n).enter().append("svg:clipPath").attr("id",function(t,e){return"nv-clip-"+D+"-"+e}).append("svg:circle").attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",Z);var o=function(t,e,n){if(lt)return 0;var i=l[e.series];if(void 0!==i){var r=i.values[e.point];r.color=A(i,e.series),r.x=N(r),r.y=L(r);var o=O.node().getBoundingClientRect(),a=window.pageYOffset||document.documentElement.scrollTop,s=window.pageXOffset||document.documentElement.scrollLeft;n({point:r,series:i,pos:{left:P(N(r,e.point))+o.left+s+M.left+10,top:I(L(r,e.point))+o.top+a+M.top+10},relativePos:[P(N(r,e.point))+M.left,I(L(r,e.point))+M.top],seriesIndex:e.series,pointIndex:e.point,event:d3.event,element:t})}};e.on("click",function(t){o(this,t,rt.elementClick)}).on("dblclick",function(t){o(this,t,rt.elementDblClick)}).on("mouseover",function(t){o(this,t,rt.elementMouseover)}).on("mouseout",function(t,e){o(this,t,rt.elementMouseout)})}else c.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,e){if(lt||!l[t.series])return 0;var n=l[t.series],i=n.values[e];rt.elementClick({point:i,series:n,pos:[P(N(i,e))+M.left,I(L(i,e))+M.top],relativePos:[P(N(i,e))+M.left,I(L(i,e))+M.top],seriesIndex:t.series,pointIndex:e,event:d3.event,element:this})}).on("dblclick",function(t,e){if(lt||!l[t.series])return 0;var n=l[t.series],i=n.values[e];rt.elementDblClick({point:i,series:n,pos:[P(N(i,e))+M.left,I(L(i,e))+M.top],relativePos:[P(N(i,e))+M.left,I(L(i,e))+M.top],seriesIndex:t.series,pointIndex:e})}).on("mouseover",function(t,e){if(lt||!l[t.series])return 0;var n=l[t.series],i=n.values[e];rt.elementMouseover({point:i,series:n,pos:[P(N(i,e))+M.left,I(L(i,e))+M.top],relativePos:[P(N(i,e))+M.left,I(L(i,e))+M.top],seriesIndex:t.series,pointIndex:e,color:A(t,e)})}).on("mouseout",function(t,e){if(lt||!l[t.series])return 0;var n=l[t.series],i=n.values[e];rt.elementMouseout({point:i,series:n,pos:[P(N(i,e))+M.left,I(L(i,e))+M.top],relativePos:[P(N(i,e))+M.left,I(L(i,e))+M.top],seriesIndex:t.series,pointIndex:e,color:A(t,e)})})}O=d3.select(this);var e=ht.utils.availableWidth(T,O,M),n=ht.utils.availableHeight(_,O,M);ht.utils.initSVG(O),l.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var i=y.yScale().name===d3.scale.log().name,r=K&&Q&&et?[]:d3.merge(l.map(function(t){return t.values.map(function(t,e){return{x:N(t,e),y:L(t,e),size:H(t,e)}})}));if(P.domain(K||d3.extent(r.map(function(t){return t.x}).concat(F))),B&&l[0]?P.range(J||[(e*V+e)/(2*l[0].values.length),e-e*(1+V)/(2*l[0].values.length)]):P.range(J||[0,e]),i){var o=d3.min(r.map(function(t){return 0!==t.y?t.y:void 0}));I.clamp(!0).domain(Q||d3.extent(r.map(function(t){return 0!==t.y?t.y:.1*o}).concat(R))).range(tt||[n,0])}else I.domain(Q||d3.extent(r.map(function(t){return t.y}).concat(R))).range(tt||[n,0]);z.domain(et||d3.extent(r.map(function(t){return t.size}).concat(U))).range(nt||ut),it=P.domain()[0]===P.domain()[1]||I.domain()[0]===I.domain()[1],P.domain()[0]===P.domain()[1]&&(P.domain()[0]?P.domain([P.domain()[0]-.01*P.domain()[0],P.domain()[1]+.01*P.domain()[1]]):P.domain([-1,1])),I.domain()[0]===I.domain()[1]&&(I.domain()[0]?I.domain([I.domain()[0]-.01*I.domain()[0],I.domain()[1]+.01*I.domain()[1]]):I.domain([-1,1])),isNaN(P.domain()[0])&&P.domain([-1,1]),isNaN(I.domain()[0])&&I.domain([-1,1]),x=x||P,w=w||I,k=k||z;var a=P(1)!==x(1)||I(1)!==w(1)||z(1)!==k(1);S=S||_;var s=($=$||T)!==T||S!==_,c=O.selectAll("g.nv-wrap.nv-scatter").data([l]),u=c.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+D),d=u.append("defs"),p=u.append("g"),h=c.select("g");c.classed("nv-single-point",it),p.append("g").attr("class","nv-groups"),p.append("g").attr("class","nv-point-paths"),u.append("g").attr("class","nv-point-clips"),c.attr("transform","translate("+M.left+","+M.top+")"),d.append("clipPath").attr("id","nv-edge-clip-"+D).append("rect").attr("transform","translate( -10, -10)"),c.select("#nv-edge-clip-"+D+" rect").attr("width",e+20).attr("height",0<n?n+20:0),h.attr("clip-path",Y?"url(#nv-edge-clip-"+D+")":""),lt=!0;var f=c.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});f.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),f.exit().remove(),f.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("nv-noninteractive",!j).classed("hover",function(t){return t.hover}),f.watchTransition(ct,"scatter: groups").style("fill",function(t,e){return A(t,e)}).style("stroke",function(t,e){return t.pointBorderColor||E||A(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5);var g=f.selectAll("path.nv-point").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return q(t[0],e)})});if(g.enter().append("path").attr("class",function(t){return"nv-point nv-point-"+t[1]}).style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("transform",function(t){return"translate("+ht.utils.NaNtoZero(x(N(t[0],t[1])))+","+ht.utils.NaNtoZero(w(L(t[0],t[1])))+")"}).attr("d",ht.utils.symbol().type(function(t){return W(t[0])}).size(function(t){return z(H(t[0],t[1]))})),g.exit().each(m).remove(),f.exit().selectAll("path.nv-point").watchTransition(ct,"scatter exit").attr("transform",function(t){return"translate("+ht.utils.NaNtoZero(P(N(t[0],t[1])))+","+ht.utils.NaNtoZero(I(L(t[0],t[1])))+")"}).remove(),g.filter(function(t){return a||s||b(t,"x",N,"y",L)}).watchTransition(ct,"scatter points").attr("transform",function(t){return"translate("+ht.utils.NaNtoZero(P(N(t[0],t[1])))+","+ht.utils.NaNtoZero(I(L(t[0],t[1])))+")"}),g.filter(function(t){return a||s||b(t,"shape",W,"size",H)}).watchTransition(ct,"scatter points").attr("d",ht.utils.symbol().type(function(t){return W(t[0])}).size(function(t){return z(H(t[0],t[1]))})),st){var v=f.selectAll(".nv-label").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return q(t[0],e)})});v.enter().append("text").style("fill",function(t,e){return t.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(t){return"translate("+(ht.utils.NaNtoZero(x(N(t[0],t[1])))+Math.sqrt(z(H(t[0],t[1]))/Math.PI)+2)+","+ht.utils.NaNtoZero(w(L(t[0],t[1])))+")"}).text(function(t,e){return t[0].label}),v.exit().remove(),f.exit().selectAll("path.nv-label").watchTransition(ct,"scatter exit").attr("transform",function(t){return"translate("+(ht.utils.NaNtoZero(P(N(t[0],t[1])))+Math.sqrt(z(H(t[0],t[1]))/Math.PI)+2)+","+ht.utils.NaNtoZero(I(L(t[0],t[1])))+")"}).remove(),v.each(function(t){d3.select(this).classed("nv-label",!0).classed("nv-label-"+t[1],!1).classed("hover",!1)}),v.watchTransition(ct,"scatter labels").attr("transform",function(t){return"translate("+(ht.utils.NaNtoZero(P(N(t[0],t[1])))+Math.sqrt(z(H(t[0],t[1]))/Math.PI)+2)+","+ht.utils.NaNtoZero(I(L(t[0],t[1])))+")"})}at?(clearTimeout(C),C=setTimeout(t,at)):t(),x=P.copy(),w=I.copy(),k=z.copy(),$=T,S=_}),ct.renderEnd("scatter immediate"),y}var x,w,k,$,S,C,M={top:0,right:0,bottom:0,left:0},T=null,_=null,A=ht.utils.defaultColor(),E=null,D=Math.floor(1e5*Math.random()),O=null,P=d3.scale.linear(),I=d3.scale.linear(),z=d3.scale.linear(),N=function(t){return t.x},L=function(t){return t.y},H=function(t){return t.size||1},W=function(t){return t.shape||"circle"},F=[],R=[],U=[],j=!0,q=function(t){return!t.notActive},B=!1,V=.1,Y=!1,X=!0,G=!1,Z=function(){return 25},K=null,Q=null,J=null,tt=null,et=null,nt=null,it=!1,rt=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),ot=!0,e=250,at=300,st=!1,lt=!1,ct=ht.utils.renderWatch(rt,e),ut=[16,256],l={};return y.dispatch=rt,y.options=ht.utils.optionsFunc.bind(y),y._calls=new function(){this.clearHighlights=function(){return ht.dom.write(function(){O.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(t,e,n){ht.dom.write(function(){O.select(".nv-groups").selectAll(".nv-series-"+t).selectAll(".nv-point-"+e).classed("hover",n)})}},rt.on("elementMouseover.point",function(t){j&&y._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),rt.on("elementMouseout.point",function(t){j&&y._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),y._options=Object.create({},{width:{get:function(){return T},set:function(t){T=t}},height:{get:function(){return _},set:function(t){_=t}},xScale:{get:function(){return P},set:function(t){P=t}},yScale:{get:function(){return I},set:function(t){I=t}},pointScale:{get:function(){return z},set:function(t){z=t}},xDomain:{get:function(){return K},set:function(t){K=t}},yDomain:{get:function(){return Q},set:function(t){Q=t}},pointDomain:{get:function(){return et},set:function(t){et=t}},xRange:{get:function(){return J},set:function(t){J=t}},yRange:{get:function(){return tt},set:function(t){tt=t}},pointRange:{get:function(){return nt},set:function(t){nt=t}},forceX:{get:function(){return F},set:function(t){F=t}},forceY:{get:function(){return R},set:function(t){R=t}},forcePoint:{get:function(){return U},set:function(t){U=t}},interactive:{get:function(){return j},set:function(t){j=t}},pointActive:{get:function(){return q},set:function(t){q=t}},padDataOuter:{get:function(){return V},set:function(t){V=t}},padData:{get:function(){return B},set:function(t){B=t}},clipEdge:{get:function(){return Y},set:function(t){Y=t}},clipVoronoi:{get:function(){return X},set:function(t){X=t}},clipRadius:{get:function(){return Z},set:function(t){Z=t}},showVoronoi:{get:function(){return G},set:function(t){G=t}},id:{get:function(){return D},set:function(t){D=t}},interactiveUpdateDelay:{get:function(){return at},set:function(t){at=t}},showLabels:{get:function(){return st},set:function(t){st=t}},pointBorderColor:{get:function(){return E},set:function(t){E=t}},x:{get:function(){return N},set:function(t){N=d3.functor(t)}},y:{get:function(){return L},set:function(t){L=d3.functor(t)}},pointSize:{get:function(){return H},set:function(t){H=d3.functor(t)}},pointShape:{get:function(){return W},set:function(t){W=d3.functor(t)}},margin:{get:function(){return M},set:function(t){M.top=void 0!==t.top?t.top:M.top,M.right=void 0!==t.right?t.right:M.right,M.bottom=void 0!==t.bottom?t.bottom:M.bottom,M.left=void 0!==t.left?t.left:M.left}},duration:{get:function(){return e},set:function(t){e=t,ct.reset(e)}},color:{get:function(){return A},set:function(t){A=ht.utils.getColor(t)}},useVoronoi:{get:function(){return ot},set:function(t){!1===(ot=t)&&(X=!1)}}}),ht.utils.initOptions(y),y},ht.models.scatterChart=function(){"use strict";function u(t){return L.reset(),L.models(d),A&&L.models(p),E&&L.models(h),M&&L.models(g),T&&L.models(v),t.each(function(i){k=d3.select(this),ht.utils.initSVG(k);var t,e=ht.utils.availableWidth(x,k,b),n=ht.utils.availableHeight(w,k,b);if(u.update=function(){0===z?k.call(u):k.transition().duration(z).call(u)},u.container=this,O.setter(W(i),u.update).getter(H(i)).update(),O.disabled=i.map(function(t){return!!t.disabled}),!P)for(t in P={},O)O[t]instanceof Array?P[t]=O[t].slice(0):P[t]=O[t];if(!(i&&i.length&&i.filter(function(t){return t.values.length}).length))return ht.utils.noData(u,k),L.renderEnd("scatter immediate"),u;k.selectAll(".nv-noData").remove(),S=d.xScale(),C=d.yScale();var r=k.selectAll("g.nv-wrap.nv-scatterChart").data([i]),o=r.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+d.id()).append("g"),a=r.select("g");if(o.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),o.append("g").attr("class","nv-x nv-axis"),o.append("g").attr("class","nv-y nv-axis"),o.append("g").attr("class","nv-scatterWrap"),o.append("g").attr("class","nv-regressionLinesWrap"),o.append("g").attr("class","nv-distWrap"),o.append("g").attr("class","nv-legendWrap"),D&&a.select(".nv-y.nv-axis").attr("transform","translate("+e+",0)"),_){var s=e;f.width(s),r.select(".nv-legendWrap").datum(i).call(f),y||f.height()===b.top||(b.top=f.height(),n=ht.utils.availableHeight(w,k,b)),r.select(".nv-legendWrap").attr("transform","translate(0,"+-b.top+")")}else a.select(".nv-legendWrap").selectAll("*").remove();r.attr("transform","translate("+b.left+","+b.top+")"),d.width(e).height(n).color(i.map(function(t,e){return t.color=t.color||$(t,e),t.color}).filter(function(t,e){return!i[e].disabled})).showLabels(N),r.select(".nv-scatterWrap").datum(i.filter(function(t){return!t.disabled})).call(d),r.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+d.id()+")");var l=r.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});l.enter().append("g").attr("class","nv-regLines");var c=l.selectAll(".nv-regLine").data(function(t){return[t]});c.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),c.filter(function(t){return t.intercept&&t.slope}).watchTransition(L,"scatterPlusLineChart: regline").attr("x1",S.range()[0]).attr("x2",S.range()[1]).attr("y1",function(t,e){return C(S.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t,e){return C(S.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return $(t,n)}).style("stroke-opacity",function(t,e){return t.disabled||void 0===t.slope||void 0===t.intercept?0:1}),A&&(p.scale(S)._ticks(ht.utils.calcTicksX(e/100,i)).tickSize(-n,0),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+C.range()[0]+")").call(p)),E&&(h.scale(C)._ticks(ht.utils.calcTicksY(n/36,i)).tickSize(-e,0),a.select(".nv-y.nv-axis").call(h)),M&&(g.getData(d.x()).scale(S).width(e).color(i.map(function(t,e){return t.color||$(t,e)}).filter(function(t,e){return!i[e].disabled})),o.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),a.select(".nv-distributionX").attr("transform","translate(0,"+C.range()[0]+")").datum(i.filter(function(t){return!t.disabled})).call(g)),T&&(v.getData(d.y()).scale(C).width(n).color(i.map(function(t,e){return t.color||$(t,e)}).filter(function(t,e){return!i[e].disabled})),o.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),a.select(".nv-distributionY").attr("transform","translate("+(D?e:-v.size())+",0)").datum(i.filter(function(t){return!t.disabled})).call(v)),f.dispatch.on("stateChange",function(t){for(var e in t)O[e]=t[e];I.stateChange(O),u.update()}),I.on("changeState",function(n){void 0!==n.disabled&&(i.forEach(function(t,e){t.disabled=n.disabled[e]}),O.disabled=n.disabled),u.update()}),d.dispatch.on("elementMouseout.tooltip",function(t){m.hidden(!0),k.select(".nv-chart-"+d.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),k.select(".nv-chart-"+d.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",v.size())}),d.dispatch.on("elementMouseover.tooltip",function(t){k.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.relativePos[1]-n),k.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.relativePos[0]+g.size()),m.data(t).hidden(!1)}),S.copy(),C.copy()}),L.renderEnd("scatter with line immediate"),u}var d=ht.models.scatter(),p=ht.models.axis(),h=ht.models.axis(),f=ht.models.legend(),g=ht.models.distribution(),v=ht.models.distribution(),m=ht.models.tooltip(),b={top:30,right:20,bottom:50,left:75},y=null,x=null,w=null,k=null,$=ht.utils.defaultColor(),S=d.xScale(),C=d.yScale(),M=!1,T=!1,_=!0,A=!0,E=!0,D=!1,O=ht.utils.state(),P=null,I=d3.dispatch("stateChange","changeState","renderEnd"),e=null,z=250,N=!1;d.xScale(S).yScale(C),p.orient("bottom").tickPadding(10),h.orient(D?"right":"left").tickPadding(10),g.axis("x"),v.axis("y"),m.headerFormatter(function(t,e){return p.tickFormat()(t,e)}).valueFormatter(function(t,e){return h.tickFormat()(t,e)});var L=ht.utils.renderWatch(I,z),H=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},W=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};return u.dispatch=I,u.scatter=d,u.legend=f,u.xAxis=p,u.yAxis=h,u.distX=g,u.distY=v,u.tooltip=m,u.options=ht.utils.optionsFunc.bind(u),u._options=Object.create({},{width:{get:function(){return x},set:function(t){x=t}},height:{get:function(){return w},set:function(t){w=t}},container:{get:function(){return k},set:function(t){k=t}},showDistX:{get:function(){return M},set:function(t){M=t}},showDistY:{get:function(){return T},set:function(t){T=t}},showLegend:{get:function(){return _},set:function(t){_=t}},showXAxis:{get:function(){return A},set:function(t){A=t}},showYAxis:{get:function(){return E},set:function(t){E=t}},defaultState:{get:function(){return P},set:function(t){P=t}},noData:{get:function(){return e},set:function(t){e=t}},duration:{get:function(){return z},set:function(t){z=t}},showLabels:{get:function(){return N},set:function(t){N=t}},margin:{get:function(){return b},set:function(t){void 0!==t.top&&(b.top=t.top,y=t.top),b.right=void 0!==t.right?t.right:b.right,b.bottom=void 0!==t.bottom?t.bottom:b.bottom,b.left=void 0!==t.left?t.left:b.left}},rightAlignYAxis:{get:function(){return D},set:function(t){D=t,h.orient(t?"right":"left")}},color:{get:function(){return $},set:function(t){$=ht.utils.getColor(t),f.color($),g.color($),v.color($)}}}),ht.utils.inheritOptions(u,d),ht.utils.initOptions(u),u},ht.models.sparkline=function(){"use strict";function e(t){return i.reset(),t.each(function(t){var e=d-u.left-u.right,n=p-u.top-u.bottom;h=d3.select(this),ht.utils.initSVG(h),f.domain(a||d3.extent(t,v)).range(l||[0,e]),g.domain(s||d3.extent(t,m)).range(c||[n,0]);var i=h.selectAll("g.nv-wrap.nv-sparkline").data([t]);i.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),i.select("g"),i.attr("transform","translate("+u.left+","+u.top+")");var r=i.selectAll("path").data(function(t){return[t]});r.enter().append("path"),r.exit().remove(),r.style("stroke",function(t,e){return t.color||b(t,e)}).attr("d",d3.svg.line().x(function(t,e){return f(v(t,e))}).y(function(t,e){return g(m(t,e))}));var o=i.selectAll("circle.nv-point").data(function(n){function t(t){if(-1==t)return null;var e=n[t];return e.pointIndex=t,e}var e=n.map(function(t,e){return m(t,e)}),i=t(e.lastIndexOf(g.domain()[1])),r=t(e.indexOf(g.domain()[0])),o=t(e.length-1);return[y?r:null,y?i:null,x?o:null].filter(function(t){return null!=t})});o.enter().append("circle"),o.exit().remove(),o.attr("cx",function(t,e){return f(v(t,t.pointIndex))}).attr("cy",function(t,e){return g(m(t,t.pointIndex))}).attr("r",2).attr("class",function(t,e){return v(t,t.pointIndex)==f.domain()[1]?"nv-point nv-currentValue":m(t,t.pointIndex)==g.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),i.renderEnd("sparkline immediate"),e}var a,s,l,c,u={top:2,right:0,bottom:2,left:0},d=400,p=32,h=null,n=!0,f=d3.scale.linear(),g=d3.scale.linear(),v=function(t){return t.x},m=function(t){return t.y},b=ht.utils.getColor(["#000"]),y=!0,x=!0,t=d3.dispatch("renderEnd"),i=ht.utils.renderWatch(t);return e.options=ht.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return p},set:function(t){p=t}},xDomain:{get:function(){return a},set:function(t){a=t}},yDomain:{get:function(){return s},set:function(t){s=t}},xRange:{get:function(){return l},set:function(t){l=t}},yRange:{get:function(){return c},set:function(t){c=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return g},set:function(t){g=t}},animate:{get:function(){return n},set:function(t){n=t}},showMinMaxPoints:{get:function(){return y},set:function(t){y=t}},showCurrentPoint:{get:function(){return x},set:function(t){x=t}},x:{get:function(){return v},set:function(t){v=d3.functor(t)}},y:{get:function(){return m},set:function(t){m=d3.functor(t)}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},color:{get:function(){return b},set:function(t){b=ht.utils.getColor(t)}}}),e.dispatch=t,ht.utils.initOptions(e),e},ht.models.sparklinePlus=function(){"use strict";function d(t){return n.reset(),n.models(f),t.each(function(n){function e(){if(!y){var t=l.selectAll(".nv-hoverValue").data(b),e=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+p(f.x()(n[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),b.length&&(e.append("line").attr("x1",0).attr("y1",-g.top).attr("x2",0).attr("y2",r),e.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-g.top).attr("text-anchor","end").attr("dy",".9em"),l.select(".nv-hoverValue .nv-xValue").text(x(f.x()(n[b[0]],b[0]))),e.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-g.top).attr("text-anchor","start").attr("dy",".9em"),l.select(".nv-hoverValue .nv-yValue").text(w(f.y()(n[b[0]],b[0]))))}}var t=d3.select(this);ht.utils.initSVG(t);var i=ht.utils.availableWidth(v,t,g),r=ht.utils.availableHeight(m,t,g);if(d.update=function(){t.call(d)},d.container=this,!n||!n.length)return ht.utils.noData(d,t),d;t.selectAll(".nv-noData").remove();var o=f.y()(n[n.length-1],n.length-1);p=f.xScale(),h=f.yScale();var a=t.selectAll("g.nv-wrap.nv-sparklineplus").data([n]),s=a.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),l=a.select("g");s.append("g").attr("class","nv-sparklineWrap"),s.append("g").attr("class","nv-valueWrap"),s.append("g").attr("class","nv-hoverArea"),a.attr("transform","translate("+g.left+","+g.top+")");var c=l.select(".nv-sparklineWrap");if(f.width(i).height(r),c.call(f),k){var u=l.select(".nv-valueWrap").selectAll(".nv-currentValue").data([o]);u.enter().append("text").attr("class","nv-currentValue").attr("dx",S?-8:8).attr("dy",".9em").style("text-anchor",S?"end":"start"),u.attr("x",i+(S?g.right:0)).attr("y",$?function(t){return h(t)}:0).style("fill",f.color()(n[n.length-1],n.length-1)).text(w(o))}s.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!y){var t=d3.mouse(this)[0]-g.left;b=[function(t,e){for(var n=Math.abs(f.x()(t[0],0)-e),i=0,r=0;r<t.length;r++)Math.abs(f.x()(t[r],r)-e)<n&&(n=Math.abs(f.x()(t[r],r)-e),i=r);return i}(n,Math.round(p.invert(t)))],e()}}).on("click",function(){y=!y}).on("mouseout",function(){b=[],e()}),l.select(".nv-hoverArea rect").attr("transform",function(t){return"translate("+-g.left+","+-g.top+")"}).attr("width",i+g.left+g.right).attr("height",r+g.top)}),n.renderEnd("sparklinePlus immediate"),d}var p,h,f=ht.models.sparkline(),g={top:15,right:100,bottom:10,left:50},v=null,m=null,b=[],y=!1,x=d3.format(",r"),w=d3.format(",.2f"),k=!0,$=!0,S=!1,e=null,t=d3.dispatch("renderEnd"),n=ht.utils.renderWatch(t);return d.dispatch=t,d.sparkline=f,d.options=ht.utils.optionsFunc.bind(d),d._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return m},set:function(t){m=t}},xTickFormat:{get:function(){return x},set:function(t){x=t}},yTickFormat:{get:function(){return w},set:function(t){w=t}},showLastValue:{get:function(){return k},set:function(t){k=t}},alignValue:{get:function(){return $},set:function(t){$=t}},rightAlignValue:{get:function(){return S},set:function(t){S=t}},noData:{get:function(){return e},set:function(t){e=t}},margin:{get:function(){return g},set:function(t){g.top=void 0!==t.top?t.top:g.top,g.right=void 0!==t.right?t.right:g.right,g.bottom=void 0!==t.bottom?t.bottom:g.bottom,g.left=void 0!==t.left?t.left:g.left}}}),ht.utils.inheritOptions(d,f),ht.utils.initOptions(d),d},ht.models.stackedArea=function(){"use strict";function h(t){return D.reset(),D.models(A),t.each(function(t){var e=m-v.left-v.right,n=b-v.top-v.bottom;w=d3.select(this),ht.utils.initSVG(w),f=A.xScale(),g=A.yScale();var s=t;t.forEach(function(t,n){t.seriesIndex=n,t.values=t.values.map(function(t,e){return t.index=e,t.seriesIndex=n,t})});var i=t.filter(function(t){return!t.disabled});t=d3.layout.stack().order(M).offset(C).values(function(t){return t.values}).x(k).y($).out(function(t,e,n){t.display={y:n,y0:e}})(i);var r=w.selectAll("g.nv-wrap.nv-stackedarea").data([t]),o=r.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),a=o.append("defs"),l=o.append("g"),c=r.select("g");l.append("g").attr("class","nv-areaWrap"),l.append("g").attr("class","nv-scatterWrap"),r.attr("transform","translate("+v.left+","+v.top+")"),0==A.forceY().length&&A.forceY().push(0),A.width(e).height(n).x(k).y(function(t){return void 0!==t.display?t.display.y+t.display.y0:void 0}).color(t.map(function(t,e){return t.color=t.color||y(t,t.seriesIndex),t.color})),c.select(".nv-scatterWrap").datum(t).call(A),a.append("clipPath").attr("id","nv-edge-clip-"+x).append("rect"),r.select("#nv-edge-clip-"+x+" rect").attr("width",e).attr("height",n),c.attr("clip-path",_?"url(#nv-edge-clip-"+x+")":"");var u=d3.svg.area().defined(S).x(function(t,e){return f(k(t,e))}).y0(function(t){return g(t.display.y0)}).y1(function(t){return g(t.display.y+t.display.y0)}).interpolate(T),d=d3.svg.area().defined(S).x(function(t,e){return f(k(t,e))}).y0(function(t){return g(t.display.y0)}).y1(function(t){return g(t.display.y0)}),p=c.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});p.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t,e){return d(t.values,t.seriesIndex)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),E.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),E.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t,e){d3.select(this).classed("hover",!1),E.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}),p.exit().remove(),p.style("fill",function(t,e){return t.color||y(t,t.seriesIndex)}).style("stroke",function(t,e){return t.color||y(t,t.seriesIndex)}),p.watchTransition(D,"stackedArea path").attr("d",function(t,e){return u(t.values,e)}),A.dispatch.on("elementMouseover.area",function(t){c.select(".nv-chart-"+x+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),A.dispatch.on("elementMouseout.area",function(t){c.select(".nv-chart-"+x+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),h.d3_stackedOffset_stackPercent=function(t){var e,n,i,r=t.length,o=t[0].length,a=[];for(n=0;n<o;++n){for(i=e=0;e<s.length;e++)i+=$(s[e].values[n]);if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=0}for(n=0;n<o;++n)a[n]=0;return a}}),D.renderEnd("stackedArea immediate"),h}var f,g,v={top:0,right:0,bottom:0,left:0},m=960,b=500,y=ht.utils.defaultColor(),x=Math.floor(1e5*Math.random()),w=null,k=function(t){return t.x},$=function(t){return t.y},S=function(t,e){return!isNaN($(t,e))&&null!==$(t,e)},e="stack",C="zero",M="default",T="linear",_=!1,A=ht.models.scatter(),n=250,E=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");A.pointSize(2.2).pointDomain([2.2,2.2]);var D=ht.utils.renderWatch(E,n);return h.dispatch=E,(h.scatter=A).dispatch.on("elementClick",function(){E.elementClick.apply(this,arguments)}),A.dispatch.on("elementMouseover",function(){E.elementMouseover.apply(this,arguments)}),A.dispatch.on("elementMouseout",function(){E.elementMouseout.apply(this,arguments)}),h.interpolate=function(t){return arguments.length?(T=t,h):T},h.duration=function(t){return arguments.length?(n=t,D.reset(n),A.duration(n),h):n},h.dispatch=E,h.scatter=A,h.options=ht.utils.optionsFunc.bind(h),h._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return b},set:function(t){b=t}},defined:{get:function(){return S},set:function(t){S=t}},clipEdge:{get:function(){return _},set:function(t){_=t}},offset:{get:function(){return C},set:function(t){C=t}},order:{get:function(){return M},set:function(t){M=t}},interpolate:{get:function(){return T},set:function(t){T=t}},x:{get:function(){return k},set:function(t){k=d3.functor(t)}},y:{get:function(){return $},set:function(t){$=d3.functor(t)}},margin:{get:function(){return v},set:function(t){v.top=void 0!==t.top?t.top:v.top,v.right=void 0!==t.right?t.right:v.right,v.bottom=void 0!==t.bottom?t.bottom:v.bottom,v.left=void 0!==t.left?t.left:v.left}},color:{get:function(){return y},set:function(t){y=ht.utils.getColor(t)}},style:{get:function(){return e},set:function(t){switch(e=t){case"stack":h.offset("zero"),h.order("default");break;case"stream":h.offset("wiggle"),h.order("inside-out");break;case"stream-center":h.offset("silhouette"),h.order("inside-out");break;case"expand":h.offset("expand"),h.order("default");break;case"stack_percent":h.offset(h.d3_stackedOffset_stackPercent),h.order("default")}}},duration:{get:function(){return n},set:function(t){n=t,D.reset(n),A.duration(n)}}}),ht.utils.inheritOptions(h,A),ht.utils.initOptions(h),h},ht.models.stackedAreaChart=function(){"use strict";function x(t){return i.reset(),i.models($),H&&i.models(S),W&&i.models(C),t.each(function(i){function t(){H&&u.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+s+")").transition().duration(K).call(S)}function e(){if(W){if("expand"===$.style()||"stack_percent"===$.style()){var t=C.tickFormat();Q&&t===nt||(Q=t),C.tickFormat(nt)}else Q&&(C.tickFormat(Q),Q=null);u.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(C)}}function n(n){u.select(".nv-focus .nv-stackedWrap").datum(i.filter(function(t){return!t.disabled}).map(function(t,e){return{key:t.key,area:t.area,classed:t.classed,values:t.values.filter(function(t,e){return $.x()(t,e)>=n[0]&&$.x()(t,e)<=n[1]}),disableTooltip:t.disableTooltip}})).transition().duration(K).call($),t(),e()}var r=d3.select(this);ht.utils.initSVG(r);var o,a=ht.utils.availableWidth(O,r,E),s=ht.utils.availableHeight(P,r,E)-(R?A.height():0);if(x.update=function(){r.transition().duration(K).call(x)},x.container=this,B.setter(et(i),x.update).getter(tt(i)).update(),B.disabled=i.map(function(t){return!!t.disabled}),!V)for(o in V={},B)B[o]instanceof Array?V[o]=B[o].slice(0):V[o]=B[o];if(!(i&&i.length&&i.filter(function(t){return t.values.length}).length))return ht.utils.noData(x,r),x;r.selectAll(".nv-noData").remove(),w=$.xScale(),k=$.yScale();var l=r.selectAll("g.nv-wrap.nv-stackedAreaChart").data([i]),c=l.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),u=l.select("g");c.append("g").attr("class","nv-legendWrap"),c.append("g").attr("class","nv-controlsWrap");var d=c.append("g").attr("class","nv-focus");if(d.append("g").attr("class","nv-background").append("rect"),d.append("g").attr("class","nv-x nv-axis"),d.append("g").attr("class","nv-y nv-axis"),d.append("g").attr("class","nv-stackedWrap"),d.append("g").attr("class","nv-interactive"),c.append("g").attr("class","nv-focusWrap"),N){var p=z&&"top"===L?a-X:a;if(M.width(p),u.select(".nv-legendWrap").datum(i).call(M),"bottom"===L){var h=10+(H?12:0);E.bottom=Math.max(M.height()+h,E.bottom);var f=(s=ht.utils.availableHeight(P,r,E)-(R?A.height():0))+h;u.select(".nv-legendWrap").attr("transform","translate(0,"+f+")")}else"top"===L&&(D||E.top==M.height()||(E.top=M.height(),s=ht.utils.availableHeight(P,r,E)-(R?A.height():0)),u.select(".nv-legendWrap").attr("transform","translate("+(a-p)+","+-E.top+")"))}else u.select(".nv-legendWrap").selectAll("*").remove();if(z){var g=[{key:Z.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=$.style(),style:"stack"},{key:Z.stream||"Stream",metaKey:"Stream",disabled:"stream"!=$.style(),style:"stream"},{key:Z.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=$.style(),style:"expand"},{key:Z.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=$.style(),style:"stack_percent"}];X=G.length/3*260,g=g.filter(function(t){return-1!==G.indexOf(t.metaKey)}),T.width(X).color(["#444","#444","#444"]),u.select(".nv-controlsWrap").datum(g).call(T);var v=Math.max(T.height(),N&&"top"===L?M.height():0);E.top!=v&&(E.top=v,s=ht.utils.availableHeight(P,r,E)-(R?A.height():0)),u.select(".nv-controlsWrap").attr("transform","translate(0,"+-E.top+")")}else u.select(".nv-controlsWrap").selectAll("*").remove();l.attr("transform","translate("+E.left+","+E.top+")"),F&&u.select(".nv-y.nv-axis").attr("transform","translate("+a+",0)"),U&&(_.width(a).height(s).margin({left:E.left,top:E.top}).svgContainer(r).xScale(w),l.select(".nv-interactive").call(_)),u.select(".nv-focus .nv-background rect").attr("width",a).attr("height",s),$.width(a).height(s).color(i.map(function(t,e){return t.color||I(t,e)}).filter(function(t,e){return!i[e].disabled}));var m,b=u.select(".nv-focus .nv-stackedWrap").datum(i.filter(function(t){return!t.disabled}));(H&&S.scale(w)._ticks(ht.utils.calcTicksX(a/100,i)).tickSize(-s,0),W)&&(m="wiggle"===$.offset()?0:ht.utils.calcTicksY(s/36,i),C.scale(k)._ticks(m).tickSize(-a,0));if(R){A.width(a),u.select(".nv-focusWrap").attr("transform","translate(0,"+(s+E.bottom+A.margin().top)+")").datum(i.filter(function(t){return!t.disabled})).call(A);var y=A.brush.empty()?A.xDomain():A.brush.extent();null!==y&&n(y)}else b.transition().call($),t(),e();$.dispatch.on("areaClick.toggle",function(n){1===i.filter(function(t){return!t.disabled}).length?i.forEach(function(t){t.disabled=!1}):i.forEach(function(t,e){t.disabled=e!=n.seriesIndex}),B.disabled=i.map(function(t){return!!t.disabled}),Y.stateChange(B),x.update()}),M.dispatch.on("stateChange",function(t){for(var e in t)B[e]=t[e];Y.stateChange(B),x.update()}),T.dispatch.on("legendClick",function(t,e){t.disabled&&(g=g.map(function(t){return t.disabled=!0,t}),t.disabled=!1,$.style(t.style),B.style=$.style(),Y.stateChange(B),x.update())}),_.dispatch.on("elementMousemove",function(r){$.clearHighlights();var o,a,s,l=[],c=0,u=!0;if(i.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){a=ht.interactiveBisect(t.values,r.pointXValue,x.x());var n=t.values[a];if(null!=x.y()(n,a)&&$.highlightPoint(e,a,!0),void 0!==n){void 0===o&&(o=n),void 0===s&&(s=x.xScale()(x.x()(n,a)));var i="expand"==$.style()?n.display.y:x.y()(n,a);l.push({key:t.key,value:i,color:I(t,t.seriesIndex),point:n}),j&&"expand"!=$.style()&&null!=i&&(c+=i,u=!1)}}),l.reverse(),2<l.length){var d=x.yScale().invert(r.mouseY),p=null;l.forEach(function(t,e){d=Math.abs(d);var n=Math.abs(t.point.display.y0),i=Math.abs(t.point.display.y);return n<=d&&d<=i+n?void(p=e):void 0}),null!=p&&(l[p].highlight=!0)}j&&"expand"!=$.style()&&2<=l.length&&!u&&l.push({key:q,value:c,total:!0});var t=x.x()(o,a),e=_.tooltip.valueFormatter();"expand"===$.style()||"stack_percent"===$.style()?(J||(J=e),e=d3.format(".1%")):J&&(e=J,J=null),_.tooltip.valueFormatter(e).data({value:t,series:l})(),_.renderGuideLine(s)}),_.dispatch.on("elementMouseout",function(t){$.clearHighlights()}),A.dispatch.on("onBrush",function(t){n(t)}),Y.on("changeState",function(n){void 0!==n.disabled&&i.length===n.disabled.length&&(i.forEach(function(t,e){t.disabled=n.disabled[e]}),B.disabled=n.disabled),void 0!==n.style&&($.style(n.style),n.style),x.update()})}),i.renderEnd("stacked Area chart immediate"),x}var w,k,$=ht.models.stackedArea(),S=ht.models.axis(),C=ht.models.axis(),M=ht.models.legend(),T=ht.models.legend(),_=ht.interactiveGuideline(),e=ht.models.tooltip(),A=ht.models.focus(ht.models.stackedArea()),E={top:10,right:25,bottom:50,left:60},D=null,O=null,P=null,I=ht.utils.defaultColor(),z=!0,N=!0,L="top",H=!0,W=!0,F=!1,R=!1,U=!1,j=!0,q="TOTAL",B=ht.utils.state(),V=null,n=null,Y=d3.dispatch("stateChange","changeState","renderEnd"),X=250,G=["Stacked","Stream","Expanded"],Z={},K=250;B.style=$.style(),S.orient("bottom").tickPadding(7),C.orient(F?"right":"left"),e.headerFormatter(function(t,e){return S.tickFormat()(t,e)}).valueFormatter(function(t,e){return C.tickFormat()(t,e)}),_.tooltip.headerFormatter(function(t,e){return S.tickFormat()(t,e)}).valueFormatter(function(t,e){return null==t?"N/A":C.tickFormat()(t,e)});var Q=null,J=null;T.updateState(!1);var i=ht.utils.renderWatch(Y),tt=($.style(),function(t){return function(){return{active:t.map(function(t){return!t.disabled}),style:$.style()}}}),et=function(t){return function(n){void 0!==n.style&&n.style,void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}},nt=d3.format("%");return $.dispatch.on("elementMouseover.tooltip",function(t){t.point.x=$.x()(t.point),t.point.y=$.y()(t.point),e.data(t).hidden(!1)}),$.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),x.dispatch=Y,x.stacked=$,x.legend=M,x.controls=T,x.xAxis=S,x.x2Axis=A.xAxis,x.yAxis=C,x.y2Axis=A.yAxis,x.interactiveLayer=_,x.tooltip=e,x.focus=A,x.dispatch=Y,x.options=ht.utils.optionsFunc.bind(x),x._options=Object.create({},{width:{get:function(){return O},set:function(t){O=t}},height:{get:function(){return P},set:function(t){P=t}},showLegend:{get:function(){return N},set:function(t){N=t}},legendPosition:{get:function(){return L},set:function(t){L=t}},showXAxis:{get:function(){return H},set:function(t){H=t}},showYAxis:{get:function(){return W},set:function(t){W=t}},defaultState:{get:function(){return V},set:function(t){V=t}},noData:{get:function(){return n},set:function(t){n=t}},showControls:{get:function(){return z},set:function(t){z=t}},controlLabels:{get:function(){return Z},set:function(t){Z=t}},controlOptions:{get:function(){return G},set:function(t){G=t}},showTotalInTooltip:{get:function(){return j},set:function(t){j=t}},totalLabel:{get:function(){return q},set:function(t){q=t}},focusEnable:{get:function(){return R},set:function(t){R=t}},focusHeight:{get:function(){return A.height()},set:function(t){A.height(t)}},brushExtent:{get:function(){return A.brushExtent()},set:function(t){A.brushExtent(t)}},margin:{get:function(){return E},set:function(t){void 0!==t.top&&(E.top=t.top,D=t.top),E.right=void 0!==t.right?t.right:E.right,E.bottom=void 0!==t.bottom?t.bottom:E.bottom,E.left=void 0!==t.left?t.left:E.left}},focusMargin:{get:function(){return A.margin},set:function(t){A.margin.top=void 0!==t.top?t.top:A.margin.top,A.margin.right=void 0!==t.right?t.right:A.margin.right,A.margin.bottom=void 0!==t.bottom?t.bottom:A.margin.bottom,A.margin.left=void 0!==t.left?t.left:A.margin.left}},duration:{get:function(){return K},set:function(t){K=t,i.reset(K),$.duration(K),S.duration(K),C.duration(K)}},color:{get:function(){return I},set:function(t){I=ht.utils.getColor(t),M.color(I),$.color(I),A.color(I)}},x:{get:function(){return $.x()},set:function(t){$.x(t),A.x(t)}},y:{get:function(){return $.y()},set:function(t){$.y(t),A.y(t)}},rightAlignYAxis:{get:function(){return F},set:function(t){F=t,C.orient(F?"right":"left")}},useInteractiveGuideline:{get:function(){return U},set:function(t){U=!!t,x.interactive(!t),x.useVoronoi(!t),$.scatter.interactive(!t)}}}),ht.utils.inheritOptions(x,$),ht.utils.initOptions(x),x},ht.models.stackedAreaWithFocusChart=function(){return ht.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},ht.models.sunburst=function(){"use strict";function o(t){return 90<a(t)?180:0}function a(t){return(Math.max(0,Math.min(2*Math.PI,A(t.x)))+Math.max(0,Math.min(2*Math.PI,A(t.x+t.dx))))/2*(180/Math.PI)-90}function s(t){var e=Math.max(0,Math.min(2*Math.PI,A(t.x))),n=Math.max(0,Math.min(2*Math.PI,A(t.x+t.dx)));return i<n-e}function n(e,t){var n=d3.interpolate(A.domain(),[u.x,u.x+u.dx]),i=d3.interpolate(E.domain(),[u.y,1]),r=d3.interpolate(E.range(),[u.y?20:0,h]);return 0===t?function(){return P(e)}:function(t){return A.domain(n(t)),E.domain(i(t)).range(r(t)),P(e)}}function r(n){var i=d3.interpolate({x:n.x0,dx:n.dx0,y:n.y0,dy:n.dy0},n);return function(t){var e=i(t);return n.x0=e.x,n.dx0=e.dx,n.y0=e.y,n.dy0=e.dy,P(e)}}function l(t){t.forEach(function(t){var e=C(t),n=O[e];t.y0=n?(t.dx0=n.dx,t.x0=n.x,t.dy0=n.dy,n.y):(t.dx0=t.dx,t.x0=t.x,t.dy0=t.dy,t.y),function(t){var e=C(t);O[e]||(O[e]={});var n=O[e];n.dx=t.dx,n.x=t.x,n.dy=t.dy,n.y=t.y}(t)})}function c(r){var t=x.selectAll("text"),e=x.selectAll("path");t.transition().attr("opacity",0),u=r,e.transition().duration(T).attrTween("d",n).each("end",function(i){i.x>=r.x&&i.x<r.x+r.dx&&i.depth>=r.depth&&d3.select(this.parentNode).select("text").transition().duration(T).text(function(t){return $(t)}).attr("opacity",function(t){return s(t)?1:0}).attr("transform",function(){var t=this.getBBox().width;if(0===i.depth)return"translate("+t/2*-1+",0)";if(i.depth===r.depth)return"translate("+(E(i.y)+5)+",0)";var e=a(i),n=o(i);return 0===n?"rotate("+e+")translate("+(E(i.y)+5)+",0)":"rotate("+e+")translate("+(E(i.y)+t+5)+",0)rotate("+n+")"})})}function e(t){return I.reset(),t.each(function(t){x=d3.select(this),d=ht.utils.availableWidth(g,x,f),p=ht.utils.availableHeight(v,x,f),h=Math.min(d,p)/2,E.range([0,h]);var e=x.select("g.nvd3.nv-wrap.nv-sunburst");e[0][0]?e.attr("transform","translate("+(d/2+f.left+f.right)+","+(p/2+f.top+f.bottom)+")"):e=x.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+y).attr("transform","translate("+(d/2+f.left+f.right)+","+(p/2+f.top+f.bottom)+")"),x.on("click",function(t,e){_.chartClick({data:t,index:e,pos:d3.event,id:y})}),D.value(b[m]||b.count);var n=D.nodes(t[0]).reverse();l(n);var i=e.selectAll(".arc-container").data(n,C);i.enter().append("g").attr("class","arc-container").append("path").attr("d",P).style("fill",function(t){return t.color?t.color:w(M?(t.children?t:t.parent).name:t.name)}).style("stroke","#FFF").on("click",function(t,e){c(t),_.elementClick({data:t,index:e})}).on("mouseover",function(t,e){var n,i;d3.select(this).classed("hover",!0).style("opacity",.8),_.elementMouseover({data:t,color:d3.select(this).style("fill"),percent:(n=t,i=Math.max(0,Math.min(2*Math.PI,A(n.x))),(Math.max(0,Math.min(2*Math.PI,A(n.x+n.dx)))-i)/(2*Math.PI))})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1).style("opacity",1),_.elementMouseout({data:t})}).on("mousemove",function(t,e){_.elementMousemove({data:t})}),i.each(function(t){d3.select(this).select("path").transition().duration(T).attrTween("d",r)}),k&&(i.selectAll("text").remove(),i.append("text").text(function(t){return $(t)}).transition().duration(T).attr("opacity",function(t){return s(t)?1:0}).attr("transform",function(t){var e=this.getBBox().width;if(0===t.depth)return"rotate(0)translate("+e/2*-1+",0)";var n=a(t),i=o(t);return 0===i?"rotate("+n+")translate("+(E(t.y)+5)+",0)":"rotate("+n+")translate("+(E(t.y)+e+5)+",0)rotate("+i+")"})),c(n[n.length-1]),i.exit().transition().duration(T).attr("opacity",0).each("end",function(t){var e=C(t);O[e]=void 0}).remove()}),I.renderEnd("sunburst immediate"),e}var u,d,p,h,f={top:0,right:0,bottom:0,left:0},g=600,v=600,m="count",b={count:function(t){return 1},value:function(t){return t.value||t.size},size:function(t){return t.value||t.size}},y=Math.floor(1e4*Math.random()),x=null,w=ht.utils.defaultColor(),k=!1,$=function(t){return"count"===m?t.name+" #"+t.value:t.name+" "+(t.value||t.size)},i=.02,S=function(t,e){return t.name>e.name},C=function(t,e){return t.name},M=!0,T=500,_=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),A=d3.scale.linear().range([0,2*Math.PI]),E=d3.scale.sqrt(),D=d3.layout.partition().sort(S),O={},P=d3.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,A(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,A(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,E(t.y))}).outerRadius(function(t){return Math.max(0,E(t.y+t.dy))}),I=ht.utils.renderWatch(_);return e.dispatch=_,e.options=ht.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return g},set:function(t){g=t}},height:{get:function(){return v},set:function(t){v=t}},mode:{get:function(){return m},set:function(t){m=t}},id:{get:function(){return y},set:function(t){y=t}},duration:{get:function(){return T},set:function(t){T=t}},groupColorByParent:{get:function(){return M},set:function(t){M=!!t}},showLabels:{get:function(){return k},set:function(t){k=!!t}},labelFormat:{get:function(){return $},set:function(t){$=t}},labelThreshold:{get:function(){return i},set:function(t){i=t}},sort:{get:function(){return S},set:function(t){S=t}},key:{get:function(){return C},set:function(t){C=t}},margin:{get:function(){return f},set:function(t){f.top=null!=t.top?t.top:f.top,f.right=null!=t.right?t.right:f.right,f.bottom=null!=t.bottom?t.bottom:f.bottom,f.left=null!=t.left?t.left:f.left}},color:{get:function(){return w},set:function(t){w=ht.utils.getColor(t)}}}),ht.utils.initOptions(e),e},ht.models.sunburstChart=function(){"use strict";function r(t){return p.reset(),p.models(o),t.each(function(t){var e=d3.select(this);ht.utils.initSVG(e);var n=ht.utils.availableWidth(s,e,a),i=ht.utils.availableHeight(l,e,a);return r.update=function(){0===d?e.call(r):e.transition().duration(d).call(r)},r.container=e,t&&t.length?(e.selectAll(".nv-noData").remove(),o.width(n).height(i).margin(a),void e.call(o)):(ht.utils.noData(r,e),r)}),p.renderEnd("sunburstChart immediate"),r}var o=ht.models.sunburst(),e=ht.models.tooltip(),a={top:30,right:20,bottom:20,left:20},s=null,l=null,n=ht.utils.defaultColor(),i=!1,c=(Math.round(1e5*Math.random()),null),u=null,d=250,t=d3.dispatch("stateChange","changeState","renderEnd"),p=ht.utils.renderWatch(t);return e.duration(0).headerEnabled(!1).valueFormatter(function(t){return t}),o.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.data.name,value:t.data.value||t.data.size,color:t.color,percent:t.percent},i||(delete t.percent,delete t.series.percent),e.data(t).hidden(!1)}),o.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),o.dispatch.on("elementMousemove.tooltip",function(t){e()}),r.dispatch=t,r.sunburst=o,r.tooltip=e,r.options=ht.utils.optionsFunc.bind(r),r._options=Object.create({},{noData:{get:function(){return u},set:function(t){u=t}},defaultState:{get:function(){return c},set:function(t){c=t}},showTooltipPercent:{get:function(){return i},set:function(t){i=t}},color:{get:function(){return n},set:function(t){n=t,o.color(n)}},duration:{get:function(){return d},set:function(t){d=t,p.reset(d),o.duration(d)}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left,o.margin(a)}}}),ht.utils.inheritOptions(r,o),ht.utils.initOptions(r),r},ht.version="1.8.5"}(),function(t){"use strict";var l=window.nv;"undefined"!=typeof exports&&(l=require("nvd3")),angular.module("nvd3",[]).directive("nvd3",["nvd3Utils",function(o){return{restrict:"AE",scope:{data:"=",options:"=",api:"=?",events:"=?",config:"=?",onReady:"&?"},link:function(a,i,t){function s(n,i){n&&i&&angular.forEach(n,function(t,e){void 0===i[e]||null===i[e]?a._config.extended&&(i[e]=t.on):n.on(e+"._",i[e])})}function e(t){var e=o.deepExtend(function(t){switch(t){case"title":return{enable:!1,text:"Write Your Title",className:"h4",css:{width:a.options.chart.width+"px",textAlign:"center"}};case"subtitle":return{enable:!1,text:"Write Your Subtitle",css:{width:a.options.chart.width+"px",textAlign:"center"}};case"caption":return{enable:!1,text:"Figure 1. Write Your Caption text.",css:{width:a.options.chart.width+"px",textAlign:"center"}}}}(t),a.options[t]||{});a._config.extended&&(a.options[t]=e);var n=angular.element("<div></div>").html(e.html||"").addClass(t).addClass(e.className).removeAttr("style").css(e.css);e.html||n.text(e.text),e.enable&&("title"===t?i.prepend(n):"subtitle"===t?angular.element(i[0].querySelector(".title")).after(n):"caption"===t&&i.append(n))}function n(t,e){t!==e&&(a._config.disabled||(a._config.refreshDataOnly?a.api.update():a.api.refresh()))}var r={extended:!1,visible:!0,disabled:!1,refreshDataOnly:!0,deepWatchOptions:!0,deepWatchData:!0,deepWatchDataDepth:2,debounce:10,debounceImmediate:!0};a.isReady=!1,a._config=angular.extend(r,a.config),a.api={refresh:function(){a.api.updateWithOptions(),a.isReady=!0},refreshWithTimeout:function(t){setTimeout(function(){a.api.refresh()},t)},update:function(){a.chart&&a.svg?"sunburstChart"===a.options.chart.type?a.svg.datum(angular.copy(a.data)).call(a.chart):a.svg.datum(a.data).call(a.chart):a.api.refresh()},updateWithTimeout:function(t){setTimeout(function(){a.api.update()},t)},updateWithOptions:function(n){if(arguments.length){if(a.options=n,a._config.deepWatchOptions&&!a._config.disabled)return}else n=a.options;var t;a.api.clearElement(),!1!==angular.isDefined(n)&&a._config.visible&&(a.chart=l.models[n.chart.type](),a.chart.id=Math.random().toString(36).substr(2,15),angular.forEach(a.chart,function(t,e){"_"===e[0]||0<=["clearHighlights","highlightPoint","id","options","resizeHandler","state","open","close","tooltipContent"].indexOf(e)||("dispatch"===e?(void 0!==n.chart[e]&&null!==n.chart[e]||a._config.extended&&(n.chart[e]={}),s(a.chart[e],n.chart[e])):0<=["bars","bars1","bars2","boxplot","bullet","controls","discretebar","distX","distY","focus","interactiveLayer","legend","lines","lines1","lines2","multibar","pie","scatter","scatters1","scatters2","sparkline","stack1","stack2","sunburst","tooltip","x2Axis","xAxis","y1Axis","y2Axis","y3Axis","y4Axis","yAxis","yAxis1","yAxis2"].indexOf(e)||"stacked"===e&&"stackedAreaChart"===n.chart.type?(void 0!==n.chart[e]&&null!==n.chart[e]||a._config.extended&&(n.chart[e]={}),function n(i,r,o){i&&r&&angular.forEach(i,function(t,e){"_"===e[0]||("dispatch"===e?(void 0!==r[e]&&null!==r[e]||a._config.extended&&(r[e]={}),s(t,r[e])):"tooltip"===e?(void 0!==r[e]&&null!==r[e]||a._config.extended&&(r[e]={}),n(i[e],r[e],o)):"contentGenerator"===e?r[e]&&i[e](r[e]):-1===["axis","clearHighlights","defined","highlightPoint","nvPointerEventsClass","options","rangeBand","rangeBands","scatter","open","close","node"].indexOf(e)&&(void 0===r[e]||null===r[e]?a._config.extended&&(r[e]=t()):i[e](r[e])))})}(a.chart[e],n.chart[e],n.chart.type)):"focusHeight"===e&&"lineChart"===n.chart.type||"focusHeight"===e&&"lineWithFocusChart"===n.chart.type||("xTickFormat"!==e&&"yTickFormat"!==e||"lineWithFocusChart"!==n.chart.type)&&("tooltips"===e&&"boxPlotChart"===n.chart.type||("tooltipXContent"!==e&&"tooltipYContent"!==e||"scatterChart"!==n.chart.type)&&("x"!==e&&"y"!==e||"forceDirectedGraph"!==n.chart.type)&&(void 0===n.chart[e]||null===n.chart[e]?a._config.extended&&(n.chart[e]="barColor"===e?t()():t()):a.chart[e](n.chart[e]))))}),a.api.updateWithData(),(n.title||a._config.extended)&&e("title"),(n.subtitle||a._config.extended)&&e("subtitle"),(n.caption||a._config.extended)&&e("caption"),(n.styles||a._config.extended)&&(t=o.deepExtend({classes:{"with-3d-shadow":!0,"with-transitions":!0,gallery:!1},css:{}},a.options.styles||{}),a._config.extended&&(a.options.styles=t),angular.forEach(t.classes,function(t,e){t?i.addClass(e):i.removeClass(e)}),i.removeAttr("style").css(t.css)),l.addGraph(function(){return a.chart?(a.chart.resizeHandler&&a.chart.resizeHandler.clear(),a.chart.resizeHandler=l.utils.windowResize(function(){a.chart&&a.chart.update&&a.chart.update()}),void 0!==n.chart.zoom&&-1<["scatterChart","lineChart","candlestickBarChart","cumulativeLineChart","historicalBarChart","ohlcBarChart","stackedAreaChart"].indexOf(n.chart.type)&&o.zoom(a,n),a.chart):void 0},n.chart.callback))},updateWithData:function(t){if(arguments.length){if(a.data=t,a._config.deepWatchData&&!a._config.disabled)return}else t="sunburstChart"===a.options.chart.type?angular.copy(a.data):a.data;var e,n;t&&(d3.select(i[0]).select("svg").remove(),a.svg=d3.select(i[0]).insert("svg",".caption"),(e=a.options.chart.height)&&(isNaN(+e)||(e+="px"),a.svg.attr("height",e).style({height:e})),(n=a.options.chart.width)?(isNaN(+n)||(n+="px"),a.svg.attr("width",n).style({width:n})):a.svg.attr("width","100%").style({width:"100%"}),a.svg.datum(t).call(a.chart),a.chart&&a.chart.zoomRender&&a.chart.zoomRender())},clearElement:function(){if(i.find(".title").remove(),i.find(".subtitle").remove(),i.find(".caption").remove(),i.empty(),a.chart&&a.chart.tooltip&&a.chart.tooltip.id&&d3.select("#"+a.chart.tooltip.id()).remove(),l.graphs&&a.chart)for(var t=l.graphs.length-1;0<=t;t--)l.graphs[t]&&l.graphs[t].id===a.chart.id&&l.graphs.splice(t,1);l.tooltip&&l.tooltip.cleanup&&l.tooltip.cleanup(),a.chart&&a.chart.resizeHandler&&a.chart.resizeHandler.clear(),a.chart=null},getScope:function(){return a},getElement:function(){return i}},a._config.deepWatchOptions&&a.$watch("options",o.debounce(function(t){a._config.disabled||a.api.refresh()},a._config.debounce,a._config.debounceImmediate),!0),a._config.deepWatchData&&(1===a._config.deepWatchDataDepth?a.$watchCollection("data",n):a.$watch("data",n,2===a._config.deepWatchDataDepth)),a.$watch("config",function(t,e){t!==e&&(a._config=angular.extend(r,t),a.api.refresh())},!0),a._config.deepWatchOptions||a._config.deepWatchData||a.api.refresh(),angular.forEach(a.events,function(n,t){a.$on(t,function(t,e){return n(t,a,e)})}),i.on("$destroy",function(){a.api.clearElement()}),a.$watch("isReady",function(t){t&&a.onReady&&"function"==typeof a.onReady()&&a.onReady()(a,i)})}}}]).factory("nvd3Utils",function(){return{debounce:function(i,r,o){var a;return function(){var t=this,e=arguments,n=o&&!a;clearTimeout(a),a=setTimeout(function(){a=null,o||i.apply(t,e)},r),n&&i.apply(t,e)}},deepExtend:function(n){var i=this;return angular.forEach(arguments,function(t){t!==n&&angular.forEach(t,function(t,e){n[e]&&n[e].constructor&&n[e].constructor===Object?i.deepExtend(n[e],t):n[e]=t})}),n},zoom:function(e,t){var n=t.chart.zoom;if(void 0===n.enabled||null===n.enabled||n.enabled){var i,r,o,a,s,l=e.chart.xAxis.scale(),c=e.chart.yAxis.scale(),u=e.chart.xDomain||l.domain,d=e.chart.yDomain||c.domain,p=l.domain().slice(),h=c.domain().slice(),f=n.scale||1,g=n.translate||[0,0],v=n.scaleExtent||[1,10],m=n.useFixedDomain||!1,b=n.useNiceScale||!1,y=n.horizontalOff||!1,x=n.verticalOff||!1,w=n.unzoomEventType||"dblclick.zoom";b&&(l.nice(),c.nice()),i=function(t,e){return t[0]=Math.min(Math.max(t[0],e[0]),e[1]-e[1]/v[1]),t[1]=Math.max(e[0]+e[1]/v[1],Math.min(t[1],e[1])),t},o=function(){if(void 0!==n.zoomed){var t=n.zoomed(l.domain(),c.domain());y||u([t.x1,t.x2]),x||d([t.y1,t.y2])}else y||u(m?i(l.domain(),p):l.domain()),x||d(m?i(c.domain(),h):c.domain());e.chart&&e.chart.update()},a=function(){if(void 0!==n.unzoomed){var t=n.unzoomed(l.domain(),c.domain());y||u([t.x1,t.x2]),x||d([t.y1,t.y2])}else y||u(p),x||d(h);r.scale(f).translate(g),e.chart&&e.chart.update()},s=function(){void 0!==n.zoomend&&n.zoomend()},r=d3.behavior.zoom().x(l).y(c).scaleExtent(v).on("zoom",o).on("zoomend",s),e.svg&&(e.svg.call(r),r.scale(f).translate(g).event(e.svg),"none"!==w&&e.svg.on(w,a)),e.chart&&(e.chart.zoomRender=function(){r.scale(f).translate(g),l=e.chart.xAxis.scale(),c=e.chart.yAxis.scale(),u=e.chart.xDomain||l.domain,d=e.chart.yDomain||c.domain,p=l.domain().slice(),h=c.domain().slice(),r.x(l).y(c),e.svg.call(r),"none"!==w&&e.svg.on(w,a)})}}}})}(),function(){"use strict";var k={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){switch(t.which){case k.COMMAND:case k.SHIFT:case k.CTRL:case k.ALT:return!0}return!!(t.metaKey||t.ctrlKey||t.altKey)},isFunctionKey:function(t){return 112<=(t=t.which?t.which:t)&&t<=123},isVerticalMovement:function(t){return~[k.UP,k.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[k.LEFT,k.RIGHT,k.BACKSPACE,k.DELETE].indexOf(t)},toSeparator:function(t){var e={ENTER:"\n",TAB:"\t",SPACE:" "}[t];return e||(k[t]?void 0:t)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(t){return angular.element(this[0].querySelectorAll(t))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(t){for(var e=this[0],n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e;){if(n.bind(e)(t))return e;e=e.parentElement}return!1});var t=0,e=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",removeSelected:!0,resetSearchInput:!0,generateId:function(){return t++},appendToBody:!1,spinnerEnabled:!1,spinnerClass:"glyphicon-refresh ui-select-spin"}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments).message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(t)}}).directive("uisTranscludeAppend",function(){return{link:function(t,e,n,i,r){r(t,function(t){e.append(t)})}}}).filter("highlight",function(){return function(t,e){return e&&t?(""+t).replace(new RegExp((""+e).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(n,i){return function(t){var e=t[0].getBoundingClientRect();return{width:e.width||t.prop("offsetWidth"),height:e.height||t.prop("offsetHeight"),top:e.top+(i.pageYOffset||n[0].documentElement.scrollTop),left:e.left+(i.pageXOffset||n[0].documentElement.scrollLeft)}}}]);e.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(l,c,u,t,d){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){return t.addClass("ui-select-choices"),(t.parent().attr("theme")||l.theme)+"/choices.tpl.html"},compile:function(r,t){if(!t.repeat)throw u("repeat","Expected 'repeat' expression.");var o=t.groupBy,a=t.groupFilter;if(o){var e=r.querySelectorAll(".ui-select-choices-group");if(1!==e.length)throw u("rows","Expected 1 .ui-select-choices-group but got '{0}'.",e.length);e.attr("ng-repeat",c.getGroupNgRepeatExpression())}var n=c.parse(t.repeat),s=r.querySelectorAll(".ui-select-choices-row");if(1!==s.length)throw u("rows","Expected 1 .ui-select-choices-row but got '{0}'.",s.length);s.attr("ng-repeat",n.repeatExpression(o)).attr("ng-if","$select.open");var i=r.querySelectorAll(".ui-select-choices-row-inner");if(1!==i.length)throw u("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",i.length);return i.attr("uis-transclude-append",""),(d.document.addEventListener?s:i).attr("ng-click","$select.select("+n.itemName+",$select.skipFocusser,$event)"),function(e,t,n,i){i.parseRepeatAttr(n.repeat,o,a),i.disableChoiceExpression=n.uiDisableChoice,i.onHighlightCallback=n.onHighlight,i.dropdownPosition=n.position?n.position.toLowerCase():l.dropdownPosition,e.$on("$destroy",function(){s.remove()}),e.$watch("$select.search",function(t){t&&!i.open&&i.multiple&&i.activate(!1,!0),i.activeIndex=i.tagging.isActivated?-1:0,!n.minimumInputLength||i.search.length>=n.minimumInputLength?i.refresh(n.refresh):i.items=[]}),n.$observe("refreshDelay",function(){var t=e.$eval(n.refreshDelay);i.refreshDelay=void 0!==t?t:l.refreshDelay}),e.$watch("$select.open",function(t){t?r.attr("role","listbox"):r.removeAttr("role")})}}}}]),e.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(a,s,l,t,e,o,c,n,u,i,r){function d(){g.resetSearchInput&&(g.search=v,g.selected&&g.items.length&&!g.multiple&&(g.activeIndex=function(t,e,n){if(t.findIndex)return t.findIndex(e,n);for(var i,r=Object(t),o=r.length>>>0,a=0;a<o;a++)if(i=r[a],e.call(n,i,a,r))return a;return-1}(g.items,function(t){return angular.equals(this,t)},g.selected)))}function p(t){return-1<b.indexOf(t)}function h(){var t=s.querySelectorAll(".ui-select-choices-content"),e=t.querySelectorAll(".ui-select-choices-row");if(e.length<1)throw c("choices","Expected multiple .ui-select-choices-row but got '{0}'.",e.length);if(!(g.activeIndex<0)){var n=e[g.activeIndex],i=n.offsetTop+n.clientHeight-t[0].scrollTop,r=t[0].offsetHeight;r<i?t[0].scrollTop+=i-r:i<n.clientHeight&&(g.isGrouped&&0===g.activeIndex?t[0].scrollTop=0:t[0].scrollTop-=n.clientHeight-i)}}var f,g=this,v="";if(g.placeholder=n.placeholder,g.searchEnabled=n.searchEnabled,g.sortable=n.sortable,g.refreshDelay=n.refreshDelay,g.paste=n.paste,g.resetSearchInput=n.resetSearchInput,g.refreshing=!1,g.spinnerEnabled=n.spinnerEnabled,g.spinnerClass=n.spinnerClass,g.removeSelected=n.removeSelected,g.closeOnSelect=!0,g.skipFocusser=!1,g.search=v,g.activeIndex=0,g.items=[],g.open=!1,g.focus=!1,g.disabled=!1,g.selected=void 0,g.dropdownPosition="auto",g.focusser=void 0,g.multiple=void 0,g.disableChoiceExpression=void 0,g.tagging={isActivated:!1,fct:void 0},g.taggingTokens={isActivated:!1,tokens:void 0},g.lockChoiceExpression=void 0,g.clickTriggeredSelect=!1,g.$filter=t,g.$element=s,g.$animate=function(){try{return i.get("$animate")}catch(t){return null}}(),g.searchInput=s.querySelectorAll("input.ui-select-search"),1!==g.searchInput.length)throw c("searchInput","Expected 1 input.ui-select-search but got '{0}'.",g.searchInput.length);g.isEmpty=function(){return angular.isUndefined(g.selected)||null===g.selected||""===g.selected||g.multiple&&0===g.selected.length},g.activate=function(n,t){if(g.disabled||g.open)g.open&&!g.searchEnabled&&g.close();else{t||d(),a.$broadcast("uis:activate"),g.open=!0,g.activeIndex=g.activeIndex>=g.items.length?0:g.activeIndex,-1===g.activeIndex&&!1!==g.taggingLabel&&(g.activeIndex=0);var i=s.querySelectorAll(".ui-select-choices-content"),r=s.querySelectorAll(".ui-select-search");if(g.$animate&&g.$animate.on&&g.$animate.enabled(i[0])){var o=function(t,e){"start"===e&&0===g.items.length?(g.$animate.off("removeClass",r[0],o),l(function(){g.focusSearchInput(n)})):"close"===e&&(g.$animate.off("enter",i[0],o),l(function(){g.focusSearchInput(n)}))};0<g.items.length?g.$animate.on("enter",i[0],o):g.$animate.on("removeClass",r[0],o)}else l(function(){g.focusSearchInput(n),!g.tagging.isActivated&&1<g.items.length&&h()})}},g.focusSearchInput=function(t){g.search=t||g.search,g.searchInput[0].focus()},g.findGroupByName=function(e){return g.groups&&g.groups.filter(function(t){return t.name===e})[0]},g.parseRepeatAttr=function(t,n,r){g.setItemsFn=n?function(t){var i=a.$eval(n);if(g.groups=[],angular.forEach(t,function(t){var e=angular.isFunction(i)?i(t):t[i],n=g.findGroupByName(e);n?n.items.push(t):g.groups.push({name:e,items:[t]})}),r){var e=a.$eval(r);angular.isFunction(e)?g.groups=e(g.groups):angular.isArray(e)&&(g.groups=function(t,e){var n,i,r=[];for(n=0;n<e.length;n++)for(i=0;i<t.length;i++)t[i].name==[e[n]]&&r.push(t[i]);return r}(g.groups,e))}g.items=[],g.groups.forEach(function(t){g.items=g.items.concat(t.items)})}:function(t){g.items=t},g.parserResult=o.parse(t),g.isGrouped=!!n,g.itemProperty=g.parserResult.itemName;var e=g.parserResult.source,i=function(){var n=e(a);a.$uisSource=Object.keys(n).map(function(t){var e={};return e[g.parserResult.keyName]=t,e.value=n[t],e})};g.parserResult.keyName&&(i(),g.parserResult.source=u("$uisSource"+g.parserResult.filters),a.$watch(e,function(t,e){t!==e&&i()},!0)),g.refreshItems=function(t){t=t||g.parserResult.source(a);var n=g.selected;if(g.isEmpty()||angular.isArray(n)&&!n.length||!g.multiple||!g.removeSelected)g.setItemsFn(t);else if(null!=t){var e=t.filter(function(e){return angular.isArray(n)?n.every(function(t){return!angular.equals(e,t)}):!angular.equals(e,n)});g.setItemsFn(e)}"auto"!==g.dropdownPosition&&"up"!==g.dropdownPosition||a.calculateDropdownPos(),a.$broadcast("uis:refresh")},a.$watchCollection(g.parserResult.source,function(t){if(null==t)g.items=[];else{if(!angular.isArray(t))throw c("items","Expected an array but got '{0}'.",t);g.refreshItems(t),angular.isDefined(g.ngModel.$modelValue)&&(g.ngModel.$modelValue=null)}})},g.refresh=function(e){void 0!==e&&(f&&l.cancel(f),f=l(function(){var t=a.$eval(e);t&&angular.isFunction(t.then)&&!g.refreshing&&(g.refreshing=!0,t.then(function(){g.refreshing=!1}))},g.refreshDelay))},g.isActive=function(t){if(!g.open)return!1;var e=g.items.indexOf(t[g.itemProperty]),n=e==g.activeIndex;return!(!n||e<0)&&(n&&!angular.isUndefined(g.onHighlightCallback)&&t.$eval(g.onHighlightCallback),n)};var m=function(e){return g.selected&&angular.isArray(g.selected)&&0<g.selected.filter(function(t){return angular.equals(t,e)}).length},b=[];g.isDisabled=function(t){if(g.open){var e=t[g.itemProperty],n=!1;if(0<=g.items.indexOf(e)&&(angular.isDefined(g.disableChoiceExpression)||g.multiple)){if(e.isTag)return!1;g.multiple&&(n=m(e)),!n&&angular.isDefined(g.disableChoiceExpression)&&(n=!!t.$eval(g.disableChoiceExpression)),i=e,r=n,o=b.indexOf(i),r&&-1===o&&b.push(i),!r&&-1<o&&b.splice(o,1)}return n}var i,r,o},g.select=function(t,e,n){if(void 0===t||!p(t)){if(!g.items&&!g.search&&!g.tagging.isActivated)return;if(!t||!p(t)){if(g.clickTriggeredSelect=!1,n&&("click"===n.type||"touchend"===n.type)&&t&&(g.clickTriggeredSelect=!0),g.tagging.isActivated&&!1===g.clickTriggeredSelect){if(!1===g.taggingLabel)if(g.activeIndex<0){if(void 0===t&&(t=void 0!==g.tagging.fct?g.tagging.fct(g.search):g.search),!t||angular.equals(g.items[0],t))return}else t=g.items[g.activeIndex];else if(0===g.activeIndex){if(void 0===t)return;if(void 0!==g.tagging.fct&&"string"==typeof t){if(!(t=g.tagging.fct(t)))return}else"string"==typeof t&&(t=t.replace(g.taggingLabel,"").trim())}if(m(t))return void g.close(e)}d(),a.$broadcast("uis:select",t);var i={};i[g.parserResult.itemName]=t,l(function(){g.onSelectCallback(a,{$item:t,$model:g.parserResult.modelMapper(a,i)})}),g.closeOnSelect&&g.close(e)}}},g.close=function(t){g.open&&(g.ngModel&&g.ngModel.$setTouched&&g.ngModel.$setTouched(),g.open=!1,d(),a.$broadcast("uis:close",t))},g.setFocus=function(){g.focus||g.focusInput[0].focus()},g.clear=function(t){g.select(void 0),t.stopPropagation(),l(function(){g.focusser[0].focus()},0,!1)},g.toggle=function(t){g.open?(g.close(),t.preventDefault(),t.stopPropagation()):g.activate()},g.isLocked=function(){return!1},a.$watch(function(){return angular.isDefined(g.lockChoiceExpression)&&""!==g.lockChoiceExpression},function(t){if(t){var l=[];g.isLocked=function(t,e){var n,i,r,o,a=!1,s=g.selected[e];return s&&(t?(a=!!t.$eval(g.lockChoiceExpression),i=s,r=a,o=l.indexOf(i),r&&-1===o&&l.push(i),!r&&-1<o&&l.splice(o,0)):(n=s,a=-1<l.indexOf(n))),a}}});var y=null,x=!1;g.sizeSearchInput=function(){var n=g.searchInput[0],t=g.searchInput.parent().parent()[0],e=function(){return t.clientWidth*!!n.offsetParent},i=function(t){if(0===t)return!1;var e=t-n.offsetLeft-10;return e<50&&(e=t),g.searchInput.css("width",e+"px"),!0};g.searchInput.css("width","10px"),l(function(){null!==y||i(e())||(y=a.$watch(function(){x||(x=!0,a.$$postDigest(function(){x=!1,i(e())&&(y(),y=null)}))},angular.noop))})},g.searchInput.on("keydown",function(n){var i=n.which;~[k.ENTER,k.ESC].indexOf(i)&&(n.preventDefault(),n.stopPropagation()),a.$apply(function(){var t=!1;if((0<g.items.length||g.tagging.isActivated)&&(function(t){var e=!0;switch(t){case k.DOWN:!g.open&&g.multiple?g.activate(!1,!0):g.activeIndex<g.items.length-1&&g.activeIndex++;break;case k.UP:!g.open&&g.multiple?g.activate(!1,!0):(0<g.activeIndex||0===g.search.length&&g.tagging.isActivated&&-1<g.activeIndex)&&g.activeIndex--;break;case k.TAB:g.multiple&&!g.open||g.select(g.items[g.activeIndex],!0);break;case k.ENTER:g.open&&(g.tagging.isActivated||0<=g.activeIndex)?g.select(g.items[g.activeIndex],g.skipFocusser):g.activate(!1,!0);break;case k.ESC:g.close();break;default:e=!1}return e}(i)||g.searchEnabled||(n.preventDefault(),n.stopPropagation()),g.taggingTokens.isActivated)){for(var e=0;e<g.taggingTokens.tokens.length;e++)g.taggingTokens.tokens[e]===k.MAP[n.keyCode]&&0<g.search.length&&(t=!0);t&&l(function(){g.searchInput.triggerHandler("tagged");var t=g.search.replace(k.MAP[n.keyCode],"").trim();g.tagging.fct&&(t=g.tagging.fct(t)),t&&g.select(t,!0)})}}),k.isVerticalMovement(i)&&0<g.items.length&&h(),i!==k.ENTER&&i!==k.ESC||(n.preventDefault(),n.stopPropagation())}),g.searchInput.on("paste",function(t){var e;if(e=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(t.originalEvent||t).clipboardData.getData("text/plain"),(e=g.search+e)&&0<e.length)if(g.taggingTokens.isActivated){for(var n=[],i=0;i<g.taggingTokens.tokens.length;i++){var r=k.toSeparator(g.taggingTokens.tokens[i])||g.taggingTokens.tokens[i];if(-1<e.indexOf(r)){n=e.split(r);break}}0===n.length&&(n=[e]);var o=g.search;angular.forEach(n,function(t){var e=g.tagging.fct?g.tagging.fct(t):t;e&&g.select(e,!0)}),g.search=o||v,t.preventDefault(),t.stopPropagation()}else g.paste&&(g.paste(e),g.search=v,t.preventDefault(),t.stopPropagation())}),g.searchInput.on("tagged",function(){l(function(){d()})});var w=e(function(){g.sizeSearchInput()},50);angular.element(r).bind("resize",w),a.$on("$destroy",function(){g.searchInput.off("keyup keydown tagged blur paste"),angular.element(r).off("resize",w)}),a.$watch("$select.activeIndex",function(t){t&&s.find("input").attr("aria-activedescendant","ui-select-choices-row-"+g.generatedId+"-"+t)}),a.$watch("$select.open",function(t){t||s.find("input").removeAttr("aria-activedescendant")})}]),e.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(m,b,y,x,t,w,k){return{restrict:"EA",templateUrl:function(t,e){return(e.theme||b.theme)+(angular.isDefined(e.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(t,e){var n=/{(.*)}\s*{(.*)}/.exec(e.ngClass);if(n){var i="{"+n[1]+", "+n[2]+"}";e.ngClass=i,t.attr("ng-class",i)}return angular.isDefined(e.multiple)?t.append("<ui-select-multiple/>").removeAttr("multiple"):t.append("<ui-select-single/>"),e.inputId&&(t.querySelectorAll("input.ui-select-search")[0].id=e.inputId),function(i,o,e,t,n){function r(t){if(s.open){if(!(window.jQuery?window.jQuery.contains(o[0],t.target):o[0].contains(t.target))&&!s.clickTriggeredSelect){var e;if(s.skipFocusser)e=!0;else{var n=angular.element(t.target).controller("uiSelect");(e=n&&n!==s)||(e=~["input","button","textarea","select"].indexOf(t.target.tagName.toLowerCase()))}s.close(e),i.$digest()}s.clickTriggeredSelect=!1}}function a(){null!==u&&(u.replaceWith(o),u=null,o[0].style.position="",o[0].style.left="",o[0].style.top="",o[0].style.width=d,s.setFocus())}var s=t[0],l=t[1];s.generatedId=b.generateId(),s.baseTitle=e.title||"Select box",s.focusserTitle=s.baseTitle+" focus",s.focusserId="focusser-"+s.generatedId,s.closeOnSelect=angular.isDefined(e.closeOnSelect)?w(e.closeOnSelect)():b.closeOnSelect,i.$watch("skipFocusser",function(){var t=i.$eval(e.skipFocusser);s.skipFocusser=void 0!==t?t:b.skipFocusser}),s.onSelectCallback=w(e.onSelect),s.onRemoveCallback=w(e.onRemove),s.ngModel=l,s.choiceGrouped=function(t){return s.isGrouped&&t&&t.name},e.tabindex&&e.$observe("tabindex",function(t){s.focusInput.attr("tabindex",t),o.removeAttr("tabindex")}),i.$watch(function(){return i.$eval(e.searchEnabled)},function(t){s.searchEnabled=void 0!==t?t:b.searchEnabled}),i.$watch("sortable",function(){var t=i.$eval(e.sortable);s.sortable=void 0!==t?t:b.sortable}),e.$observe("limit",function(){s.limit=angular.isDefined(e.limit)?parseInt(e.limit,10):void 0}),i.$watch("removeSelected",function(){var t=i.$eval(e.removeSelected);s.removeSelected=void 0!==t?t:b.removeSelected}),e.$observe("disabled",function(){s.disabled=void 0!==e.disabled&&e.disabled}),e.$observe("resetSearchInput",function(){var t=i.$eval(e.resetSearchInput);s.resetSearchInput=void 0===t||t}),e.$observe("paste",function(){s.paste=i.$eval(e.paste)}),e.$observe("tagging",function(){if(void 0!==e.tagging){var t=i.$eval(e.tagging);s.tagging={isActivated:!0,fct:!0!==t?t:void 0}}else s.tagging={isActivated:!1,fct:void 0}}),e.$observe("taggingLabel",function(){void 0!==e.tagging&&("false"===e.taggingLabel?s.taggingLabel=!1:s.taggingLabel=void 0!==e.taggingLabel?e.taggingLabel:"(new)")}),e.$observe("taggingTokens",function(){if(void 0!==e.tagging){var t=void 0!==e.taggingTokens?e.taggingTokens.split("|"):[",","ENTER"];s.taggingTokens={isActivated:!0,tokens:t}}}),e.$observe("spinnerEnabled",function(){var t=i.$eval(e.spinnerEnabled);s.spinnerEnabled=void 0!==t?t:b.spinnerEnabled}),e.$observe("spinnerClass",function(){var t=e.spinnerClass;s.spinnerClass=void 0!==t?e.spinnerClass:b.spinnerClass}),angular.isDefined(e.autofocus)&&k(function(){s.setFocus()}),angular.isDefined(e.focusOn)&&i.$on(e.focusOn,function(){k(function(){s.setFocus()})}),m.on("click",r),i.$on("$destroy",function(){m.off("click",r)}),n(i,function(t){var e=angular.element("<div>").append(t),n=e.querySelectorAll(".ui-select-match");if(n.removeAttr("ui-select-match"),n.removeAttr("data-ui-select-match"),1!==n.length)throw y("transcluded","Expected 1 .ui-select-match but got '{0}'.",n.length);o.querySelectorAll(".ui-select-match").replaceWith(n);var i=e.querySelectorAll(".ui-select-choices");if(i.removeAttr("ui-select-choices"),i.removeAttr("data-ui-select-choices"),1!==i.length)throw y("transcluded","Expected 1 .ui-select-choices but got '{0}'.",i.length);o.querySelectorAll(".ui-select-choices").replaceWith(i);var r=e.querySelectorAll(".ui-select-no-choice");r.removeAttr("ui-select-no-choice"),r.removeAttr("data-ui-select-no-choice"),1==r.length&&o.querySelectorAll(".ui-select-no-choice").replaceWith(r)});var c=i.$eval(e.appendToBody);(void 0!==c?c:b.appendToBody)&&(i.$watch("$select.open",function(t){var e;t?(e=x(o),(u=angular.element('<div class="ui-select-placeholder"></div>'))[0].style.width=e.width+"px",u[0].style.height=e.height+"px",o.after(u),d=o[0].style.width,m.find("body").append(o),o[0].style.position="absolute",o[0].style.left=e.left+"px",o[0].style.top=e.top+"px",o[0].style.width=e.width+"px"):a()}),i.$on("$destroy",function(){a()}));var u=null,d="",p=null,h="direction-up";i.$watch("$select.open",function(){"auto"!==s.dropdownPosition&&"up"!==s.dropdownPosition||i.calculateDropdownPos()});var f=function(t,e){t=t||x(o),e=e||x(p),p[0].style.position="absolute",p[0].style.top=-1*e.height+"px",o.addClass(h)},g=function(){k(function(){if("up"===s.dropdownPosition)f();else{o.removeClass(h);var t=x(o),e=x(p),n=m[0].documentElement.scrollTop||m[0].body.scrollTop;t.top+t.height+e.height>n+m[0].documentElement.clientHeight?f(t,e):(i=t,r=e,o.removeClass(h),i=i||x(o),r=r||x(p),p[0].style.position="",p[0].style.top="")}var i,r;p[0].style.opacity=1})},v=!1;i.calculateDropdownPos=function(){if(s.open){if(0===(p=angular.element(o).querySelectorAll(".ui-select-dropdown")).length)return;if(""!==s.search||v||(p[0].style.opacity=0,v=!0),!x(p).height&&s.$animate&&s.$animate.on&&s.$animate.enabled(p)){var n=!0;s.$animate.on("enter",p,function(t,e){"close"===e&&n&&(g(),n=!1)})}else g()}else{if(null===p||0===p.length)return;p[0].style.opacity=0,p[0].style.position="",p[0].style.top="",o.removeClass(h)}}}}}}]),e.directive("uiSelectMatch",["uiSelectConfig",function(o){function n(t,e){return t[0].hasAttribute(e)?t.attr(e):t[0].hasAttribute("data-"+e)?t.attr("data-"+e):t[0].hasAttribute("x-"+e)?t.attr("x-"+e):void 0}return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){t.addClass("ui-select-match");var e=t.parent();return(n(e,"theme")||o.theme)+(angular.isDefined(n(e,"multiple"))?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,e,n,i){function r(t){i.allowClear=!!angular.isDefined(t)&&(""===t||"true"===t.toLowerCase())}i.lockChoiceExpression=n.uiLockChoice,n.$observe("placeholder",function(t){i.placeholder=void 0!==t?t:o.placeholder}),n.$observe("allowClear",r),r(n.allowClear),i.multiple&&i.sizeSearchInput()}}}]),e.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(o,a){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(i,r){var t,o=this,a=i.$select;angular.isUndefined(a.selected)&&(a.selected=[]),i.$evalAsync(function(){t=i.ngModel}),o.activeMatchIndex=-1,o.updateModel=function(){t.$setViewValue(Date.now()),o.refreshComponent()},o.refreshComponent=function(){a.refreshItems&&a.refreshItems(),a.sizeSearchInput&&a.sizeSearchInput()},o.removeChoice=function(t){if(a.isLocked(null,t))return!1;var e=a.selected[t],n={};return n[a.parserResult.itemName]=e,a.selected.splice(t,1),o.activeMatchIndex=-1,a.sizeSearchInput(),r(function(){a.onRemoveCallback(i,{$item:e,$model:a.parserResult.modelMapper(i,n)})}),o.updateModel(),!0},o.getPlaceholder=function(){return a.selected&&a.selected.length?void 0:a.placeholder}}],controllerAs:"$selectMultiple",link:function(l,t,e,n){function i(t){var e,n=(e=d.searchInput[0],angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length),i=d.selected.length-1,r=p.activeMatchIndex,o=p.activeMatchIndex+1,a=p.activeMatchIndex-1,s=r;return!(0<n||d.search.length&&t==k.RIGHT)&&(d.close(),s=function(){switch(t){case k.LEFT:return~p.activeMatchIndex?a:i;case k.RIGHT:return~p.activeMatchIndex&&r!==i?o:(d.activate(),!1);case k.BACKSPACE:return~p.activeMatchIndex?p.removeChoice(r)?a:r:i;case k.DELETE:return!!~p.activeMatchIndex&&(p.removeChoice(p.activeMatchIndex),r)}}(),d.selected.length&&!1!==s?p.activeMatchIndex=Math.min(i,Math.max(0,s)):p.activeMatchIndex=-1,!0)}function c(t){return void 0!==t&&void 0!==d.search&&0<t.filter(function(t){return void 0!==d.search.toUpperCase()&&void 0!==t&&t.toUpperCase()===d.search.toUpperCase()}).length}function u(t,e){var n=-1;if(angular.isArray(t))for(var i=angular.copy(t),r=0;r<i.length;r++)if(void 0===d.tagging.fct)i[r]+" "+d.taggingLabel===e&&(n=r);else{var o=i[r];angular.isObject(o)&&(o.isTag=!0),angular.equals(o,e)&&(n=r)}return n}var d=n[0],r=l.ngModel=n[1],p=l.$selectMultiple;d.multiple=!0,d.focusInput=d.searchInput,r.$isEmpty=function(t){return!t||0===t.length},r.$parsers.unshift(function(){for(var t,e={},n=[],i=d.selected.length-1;0<=i;i--)(e={})[d.parserResult.itemName]=d.selected[i],t=d.parserResult.modelMapper(l,e),n.unshift(t);return n}),r.$formatters.unshift(function(t){var o,e=d.parserResult&&d.parserResult.source(l,{$select:{search:""}}),a={};if(!e)return t;var s=[],n=function(t,e){if(t&&t.length){for(var n=t.length-1;0<=n;n--){if(a[d.parserResult.itemName]=t[n],o=d.parserResult.modelMapper(l,a),d.parserResult.trackByExp){var i=/(\w*)\./.exec(d.parserResult.trackByExp),r=/\.([^\s]+)/.exec(d.parserResult.trackByExp);if(i&&0<i.length&&i[1]==d.parserResult.itemName&&r&&0<r.length&&o[r[1]]==e[r[1]])return s.unshift(t[n]),!0}if(angular.equals(o,e))return s.unshift(t[n]),!0}return!1}};if(!t)return s;for(var i=t.length-1;0<=i;i--)n(d.selected,t[i])||n(e,t[i])||s.unshift(t[i]);return s}),l.$watchCollection(function(){return r.$modelValue},function(t,e){e!=t&&(angular.isDefined(r.$modelValue)&&(r.$modelValue=null),p.refreshComponent())}),r.$render=function(){if(!angular.isArray(r.$viewValue)){if(!angular.isUndefined(r.$viewValue)&&null!==r.$viewValue)throw o("multiarr","Expected model value to be array but got '{0}'",r.$viewValue);r.$viewValue=[]}d.selected=r.$viewValue,p.refreshComponent(),l.$evalAsync()},l.$on("uis:select",function(t,e){d.selected.length>=d.limit||(d.selected.push(e),p.updateModel())}),l.$on("uis:activate",function(){p.activeMatchIndex=-1}),l.$watch("$select.disabled",function(t,e){e&&!t&&d.sizeSearchInput()}),d.searchInput.on("keydown",function(e){var n=e.which;l.$apply(function(){var t=!1;k.isHorizontalMovement(n)&&(t=i(n)),t&&n!=k.TAB&&(e.preventDefault(),e.stopPropagation())})}),d.searchInput.on("keyup",function(t){if(k.isVerticalMovement(t.which)||l.$evalAsync(function(){d.activeIndex=!1===d.taggingLabel?-1:0}),d.tagging.isActivated&&0<d.search.length){if(t.which===k.TAB||k.isControl(t)||k.isFunctionKey(t)||t.which===k.ESC||k.isVerticalMovement(t.which))return;if(d.activeIndex=!1===d.taggingLabel?-1:0,!1===d.taggingLabel)return;var e,n,i,r=angular.copy(d.items),o=angular.copy(d.items),a=!1,s=-1;if(void 0!==d.tagging.fct){if(0<(n=d.$filter("filter")(r,{isTag:!0})).length&&(i=n[0]),0<r.length&&i&&(a=!0,r=r.slice(1,r.length),o=o.slice(1,o.length)),e=d.tagging.fct(d.search),o.some(function(t){return angular.equals(t,e)})||d.selected.some(function(t){return angular.equals(t,e)}))return void l.$evalAsync(function(){d.activeIndex=0,d.items=r});e&&(e.isTag=!0)}else{if(0<(n=d.$filter("filter")(r,function(t){return t.match(d.taggingLabel)})).length&&(i=n[0]),void 0!==r[0]&&0<r.length&&i&&(a=!0,r=r.slice(1,r.length),o=o.slice(1,o.length)),e=d.search+" "+d.taggingLabel,-1<u(d.selected,d.search))return;if(c(o.concat(d.selected)))return void(a&&(r=o,l.$evalAsync(function(){d.activeIndex=0,d.items=r})));if(c(o))return void(a&&(d.items=o.slice(1,o.length)))}a&&(s=u(d.selected,e)),r=-1<s?r.slice(s+1,r.length-1):(r=[],e&&r.push(e),r.concat(o)),l.$evalAsync(function(){if(d.activeIndex=0,d.items=r,d.isGrouped){var t=e?r.slice(1):r;d.setItemsFn(t),e&&(d.items.unshift(e),d.groups.unshift({name:"",items:[e],tagging:!0}))}})}}),d.searchInput.on("blur",function(){a(function(){p.activeMatchIndex=-1})})}}}]),e.directive("uiSelectNoChoice",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){return t.addClass("ui-select-no-choice"),(t.parent().attr("theme")||e.theme)+"/no-choice.tpl.html"}}}]),e.directive("uiSelectSingle",["$timeout","$compile",function(s,l){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(o,t,e,n){var a=n[0],i=n[1];i.$parsers.unshift(function(t){var e={};return e[a.parserResult.itemName]=t,a.parserResult.modelMapper(o,e)}),i.$formatters.unshift(function(e){var t=a.parserResult&&a.parserResult.source(o,{$select:{search:""}}),n={};if(t){var i=function(t){return n[a.parserResult.itemName]=t,a.parserResult.modelMapper(o,n)===e};if(a.selected&&i(a.selected))return a.selected;for(var r=t.length-1;0<=r;r--)if(i(t[r]))return t[r]}return e}),o.$watch("$select.selected",function(t){i.$viewValue!==t&&i.$setViewValue(t)}),i.$render=function(){a.selected=i.$viewValue},o.$on("uis:select",function(t,e){a.selected=e}),o.$on("uis:close",function(t,e){s(function(){a.focusser.prop("disabled",!1),e||a.focusser[0].focus()},0,!1)}),o.$on("uis:activate",function(){r.prop("disabled",!0)});var r=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");l(r)(o),a.focusser=r,a.focusInput=r,t.parent().append(r),r.bind("focus",function(){o.$evalAsync(function(){a.focus=!0})}),r.bind("blur",function(){o.$evalAsync(function(){a.focus=!1})}),r.bind("keydown",function(t){return t.which===k.BACKSPACE?(t.preventDefault(),t.stopPropagation(),a.select(void 0),void o.$apply()):void(t.which===k.TAB||k.isControl(t)||k.isFunctionKey(t)||t.which===k.ESC||(t.which!=k.DOWN&&t.which!=k.UP&&t.which!=k.ENTER&&t.which!=k.SPACE||(t.preventDefault(),t.stopPropagation(),a.activate()),o.$digest()))}),r.bind("keyup input",function(t){t.which===k.TAB||k.isControl(t)||k.isFunctionKey(t)||t.which===k.ESC||t.which==k.ENTER||t.which===k.BACKSPACE||(a.activate(r.val()),r.val(""),o.$digest())})}}}]),e.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(v,t,m){return{require:["^^uiSelect","^ngModel"],link:function(r,o,a,t){if(null===r[a.uiSelectSort])throw m("sort","Expected a list to sort");var n=t[0],s=t[1],e=angular.extend({axis:"horizontal"},r.$eval(a.uiSelectSortOptions)).axis,i="dragging",l="dropping",c="dropping-before",u="dropping-after";r.$watch(function(){return n.sortable},function(t){t?o.attr("draggable",!0):o.removeAttr("draggable")}),o.on("dragstart",function(t){o.addClass(i),(t.dataTransfer||t.originalEvent.dataTransfer).setData("text",r.$index.toString())}),o.on("dragend",function(){p(i)});var d,p=function(e){angular.forEach(n.$element.querySelectorAll("."+e),function(t){angular.element(t).removeClass(e)})},h=function(t){t.preventDefault(),("vertical"===e?t.offsetY||t.layerY||(t.originalEvent?t.originalEvent.offsetY:0):t.offsetX||t.layerX||(t.originalEvent?t.originalEvent.offsetX:0))<this["vertical"===e?"offsetHeight":"offsetWidth"]/2?(p(u),o.addClass(c)):(p(c),o.addClass(u))},f=function(t){t.preventDefault();var e=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text"),10);v.cancel(d),d=v(function(){g(e)},20)},g=function(t){var e,n=r.$eval(a.uiSelectSort),i=n[t];e=o.hasClass(c)?t<r.$index?r.$index-1:r.$index:t<r.$index?r.$index:r.$index+1,function(t,e){this.splice(e,0,this.splice(t,1)[0])}.apply(n,[t,e]),s.$setViewValue(Date.now()),r.$apply(function(){r.$emit("uiSelectSort:change",{array:n,item:i,from:t,to:e})}),p(l),p(c),p(u),o.off("drop",f)};o.on("dragenter",function(){o.hasClass(i)||(o.addClass(l),o.on("dragover",h),o.on("drop",f))}),o.on("dragleave",function(t){t.target==o&&(p(l),p(c),p(u),o.off("dragover",h),o.off("drop",f))})}}}]),e.factory("$$uisDebounce",["$timeout",function(o){return function(n,i){var r;return function(){var t=this,e=Array.prototype.slice.call(arguments);r&&o.cancel(r),r=o(function(){n.apply(t,e)},i)}}}]),e.directive("uisOpenClose",["$parse","$timeout",function(r,o){return{restrict:"A",require:"uiSelect",link:function(n,t,e,i){i.onOpenCloseCallback=r(e.uisOpenClose),n.$watch("$select.open",function(t,e){t!==e&&o(function(){i.onOpenCloseCallback(n,{isOpen:t})})})}}}]),e.service("uisRepeatParser",["uiSelectMinErr","$parse",function(o,a){this.parse=function(t){var e;if(!(e=t.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw o("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",t);var n=e[5],i="";if(e[3]){n=e[5].replace(/(^\()|(\)$)/g,"");var r=e[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);r&&r[1].trim()&&(i=r[1],n=n.replace(i,""))}return{itemName:e[4]||e[2],keyName:e[3],source:a(n),filters:i,trackByExp:e[6],modelMapper:a(e[1]||e[4]||e[2]),repeatExpression:function(t){var e=this.itemName+" in "+(t?"$group.items":"$select.items");return this.trackByExp&&(e+=" track by "+this.trackByExp),e}}},this.getGroupNgRepeatExpression=function(){return"$group in $select.groups track by $group.name"}}])}(),angular.module("ui.select").run(["$templateCache",function(t){t.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><span class="ui-select-choices-row-inner"></span></div></li></ul>'),t.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),t.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),t.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'),t.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-expanded="{{$select.open}}" aria-label="{{$select.baseTitle}}" ng-class="{\'spinner\': $select.refreshing}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),t.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><span ng-show="$select.open && $select.refreshing && $select.spinnerEnabled" class="ui-select-refreshing {{$select.spinnerClass}}"></span> <input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" class="form-control ui-select-search" ng-class="{ \'ui-select-search-hidden\' : !$select.searchEnabled }" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),t.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),t.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),t.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),t.put("select2/no-choice.tpl.html",'<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),t.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'),t.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="search-container" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" ng-class="{\'select2-active\': $select.refreshing}" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div></div>'),t.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown" ng-class="{\'single\': !$select.multiple, \'multi\': $select.multiple}"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),t.put("selectize/match-multiple.tpl.html",'<div class="ui-select-match" data-value="" ng-repeat="$item in $select.selected track by $index" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'active\':$selectMultiple.activeMatchIndex === $index}" ui-select-sort="$select.selected"><span class="ui-select-match-item" ng-class="{\'select-locked\':$select.isLocked(this, $index)}"><span uis-transclude-append=""></span> <span class="remove ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&times;</span></span></div>'),t.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match"><span ng-show="!$select.searchEnabled && ($select.isEmpty() || $select.open)" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty() || $select.open" ng-transclude=""></span></div>'),t.put("selectize/no-choice.tpl.html",'<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),t.put("selectize/select-multiple.tpl.html",'<div class="ui-select-container selectize-control multi plugin-remove_button" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-model="$select.search" ng-disabled="$select.disabled" aria-expanded="{{$select.open}}" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),t.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.isEmpty() && !$select.open" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>')}]),function(t,e){"function"==typeof define&&define.amd?define("deeplink",e(t)):"object"==typeof exports?module.exports=e(t):t.deeplink=e(t)}(window||this,function(t){return{deepone:function(t){function e(t,e){document.location=t,setTimeout(function(){document.location=e},2e3)}function n(t,e){var n=document.createElement("iframe");n.style.border="none",n.style.width="1px",n.style.height="1px",n.onload=function(){document.location=t},n.src=t,window.onload=function(){document.body.appendChild(n),setTimeout(function(){window.location=e},25)}}var i=t.fallback||"",r=t.url||"",o=t.ios_store_link,a="https://market.android.com/details?id="+(t=t.android_package_name),s=window.navigator.userAgent,l=r.split(/:\/\/(.+)/);l="intent://"+(l[1]||"")+"#Intent;scheme="+l[0]+";package="+t+";end;";var c=function(){return/Android/i.test(s)};(function(){return/iPhone|iPad|iPod/i.test(s)})()&&r&&o?s.match(/CriOS/)||s.match(/Safari/)&&s.match(/Version\/(9|10)/)?e(r,o||i):n(r,o||i):c()&&t?s.match(/Chrome/)?document.location=l:s.match(/Firefox/)?e(r,a||i):n(r,a||i):window.location=i}}});