(function($,window,Drupal,drupalSettings){'use strict';Drupal.Ajax.prototype.beforeSend=function(xmlhttprequest,options){if(this.$form){options.extraData=options.extraData||{};options.extraData.ajax_iframe_upload='1';var v=$.fieldValue(this.element);if(v!==null){options.extraData[this.element.name]=v;}}
$(this.element).prop('disabled',true);if(!this.progress||!this.progress.type){return;}
if(this.progress.type=='throbber'&&drupalSettings.ajaxLoader.alwaysFullscreen){this.progress.type='fullscreen';}
var progressIndicatorMethod='setProgressIndicator'+this.progress.type.slice(0,1).toUpperCase()+this.progress.type.slice(1).toLowerCase();if(progressIndicatorMethod in this&&typeof this[progressIndicatorMethod]==='function'){this[progressIndicatorMethod].call(this);}};Drupal.Ajax.prototype.setProgressIndicatorThrobber=function(){this.progress.element=$('<div class="ajax-progress ajax-progress-throbber"><div class="ajax-loader">'+drupalSettings.ajaxLoader.markup+'</div></div>');if(this.progress.message&&!drupalSettings.ajaxLoader.hideAjaxMessage){this.progress.element.find('.ajax-loader').after('<div class="message">'+this.progress.message+'</div>');}
$(this.element).after(this.progress.element);};Drupal.Ajax.prototype.setProgressIndicatorFullscreen=function(){this.progress.element=$('<div class="ajax-progress ajax-progress-fullscreen">'+drupalSettings.ajaxLoader.markup+'</div>');$(drupalSettings.ajaxLoader.throbberPosition).after(this.progress.element);};})(jQuery,this,Drupal,drupalSettings);