if(typeof jssoCrosswalkObj=="undefined"){window.jssoCrosswalkObj=new JssoCrosswalk("toi","WEB")}(function(g,e,h){var f=(function(){var a={mandatoryCookieList:["isWeatherListWidgetHide","geolocation","globalprimarylang","visitCounter","videoCompletedFromNudge","tp_video_ticker_hide","gcm_enabled","gcm_disable","lastPopupShown","rs","liveTvhide","MSCSAuth"]};var c={validateGDPRCookieForEU:function(){var j=this.getCookie("gdpr");var d;if(window._euuser&&j&&j=="1#1#1"){d="0"}else{if(!window._euuser&&j&&j=="1#1#0"){d="1"
}}if(d==1){jssoCrosswalkObj.updateUserPermissions("1","1","1",function(i){})}else{if(d==0){jssoCrosswalkObj.updateUserPermissions("1","1","0",function(i){})}}},getCookie:function(l){var k=new RegExp(l+"=([^;]+)");var d=k.exec(document.cookie);return(d!=null)?unescape(d[1]):null},setCookie:function(z,t,s,x,r,d){if(!!x){var w=";domain="+x}if(!d){var d="/"}if(!!r){var v=24*60*60*1000;var u=new Date();u.setTime(u.getTime()+(r*v));var y=";expires="+u.toUTCString()}document.cookie=z+"="+s+((y)?y:"")+((w)?w:"")+";path="+d
},getLocalStorage:function(j){try{return localStorage.getItem(j)?localStorage.getItem(j):null}catch(d){}},setLocalStorage:function(l,k){try{localStorage.setItem(l,k)}catch(d){}},checkForGDPRCookies:function(d){if(c.getCookie("geo_continent")=="AS"&&a.mandatoryCookieList.indexOf(d)>-1){if(TimesGDPR.common.consentModule.gdprCookieInfo&&TimesGDPR.common.consentModule.gdprCookieInfo.TOI_sendPromotions){return true}else{return false}}else{return true}}};var b=(function(){var o={consentblockerPopup:"#consentblockerPopup",consentAgreeButton:"#consentAgreeButton",consentblockerPopupForm:"#consentblockerPopupForm",jssoTermCondition:"#jssoTermCondition",jssoSharedDataAllowed:"#jssoSharedDataAllowed",closeConsentPopupButton:"#closeConsentPopupButton"},t=function(){e(["tiljs/event","tiljs/cookie"],function(i,j){i.subscribe("user.status",function(l){if(l){var k=j.get("gdpr");
if(k!="1#1#0"&&k!="1#1#1"&&!(h(o.consentblockerPopup).length>0)){p()}if(!window._updatepermission){window._updatepermission=true;c.validateGDPRCookieForEU()}}})})};function d(){h(o.consentblockerPopup).off("click",o.consentAgreeButton).on("click",o.consentAgreeButton,s).off("click",o.closeConsentPopupButton).on("click",o.closeConsentPopupButton,q).off("click",o.jssoTermCondition).on("click",o.jssoTermCondition,r).off("click",o.jssoSharedDataAllowed).on("click",o.jssoSharedDataAllowed,r)}function p(){var i=window._euuser?"":"checked";
var k=window._euuser?"https://jssocdn.indiatimes.com/policy/euprivacypolicy.html":"https://jssocdn.indiatimes.com/policy/privacypolicy.html";var l="https://jssocdn.indiatimes.com/policy/termsandcondition.html";var j='<div id="consentblockerPopup">  <div class="inner">        <div class="consent-header">            <h2>Welcome back to <span>AHMEDABAD MIRROR</span></h2><span id="closeConsentPopupButton">+</span></div>        <div class="consent-content">            <h4>One last step!</h4>            <p>We tailor your experience and understand how you and other visitors use this website by using coookies and other technologies. This means we are able to keep this site free of charge to use.</p>            <p>Please provide the consent for following scenarios so that we can provide enjoyable experience for you mobile and apps.</p>            <form id="consentblockerPopupForm">                <span class="checkbox"><input id="jssoTermCondition" type="checkbox" '+i+'/>                <label for="jssoTermCondition">I warrant that I am 18 years old,agree with the <a href="'+l+'">                Terms and conditions</a> and                 <a href="'+k+'">Privacy policy</a> of Times internet ltd <small class="mandatory">*</small>                </label></span>                <span class="checkbox"><input id="jssoSharedDataAllowed" type="checkbox"  '+i+'/>                <label for="jssoSharedDataAllowed">I agree to the use of my user account information across all Times Internet Properties  <small class="mandatory">*</small></label></span>                <div class="submit-btn">                    <button id="consentAgreeButton" '+(window._euuser?' disabled="true"':" ")+'  class="form-button '+(window._euuser?" disabled ":" ")+'">Agree</button>                </div>            </form>        </div>    </div> </div>';
h("body").append(j);d()}function r(i,n){var l=h("#jssoTermCondition").is(":checked")?"1":"0";var j=h("#jssoSharedDataAllowed").is(":checked")?"1":"0";var k=(l=="1"&&j=="1");var m=h(o.consentAgreeButton);if(k){m.attr("disabled",false);m.removeClass("disabled")}else{m.removeAttr("disabled");m.addClass("disabled")}if(n){return k}}function s(i){i.preventDefault();var l=h("#jssoTermCondition").is(":checked")?"1":"0";var k=window._euuser?"0":"1";var j=h("#jssoSharedDataAllowed").is(":checked")?"1":"0";
if(r(i,true)){jssoCrosswalkObj.updateUserPermissions(l,j,k,function(m){if(m&&m.code=="200"){h(o.consentblockerPopup).remove()}jssoCrosswalkObj.getValidLoggedInUser()})}}function q(i,j){if(!j){e(["tiljs/login"],function(k){var l=k.getUser();if(l){k.logout()}})}h(o.consentblockerPopup).remove();e(["tiljs/event"],function(k){k.publish("gdpr.jsso.popupclose")})}return{init:t}})();init=function(){b.init()};return{init:init,utils:c}})();g.TimesGDPREU=f;g.TimesGDPREU.init()})(window,require,jQuery);