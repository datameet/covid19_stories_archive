var social={constants:{icon:{fb:".fb",twt:".twitter",gp:".gplus",lin:".linkedin",mail:".email",plus:".share",whatsapp:".whatsapp",message:".message",pinit:".pinit"},via:"ahmedabadmirror",url:{fb:"https://www.facebook.com/sharer.php",gp:"https://plus.google.com/share?url=",lin:"https://www.linkedin.com/cws/share?url=",whatsapp1:"whatsapp://send?text=",message:"sms:"+(navigator.userAgent.toLowerCase().indexOf("iphone")!=-1?"&body=":"?body="),twt:"https://twitter.com/share?",pinit:"https://pinterest.com/pin/create/link/?url="},openerName:"sharer",popUpSettings:"scrollbars=1,toolbar=0,status=0,width=626,height=436"},inViewSocial:function(b){var d=$(window);
var f={top:d.scrollTop(),left:d.scrollLeft()};f.right=f.left+d.width();f.bottom=f.top+d.height();var e=b.outerHeight();var a=b.outerWidth();if(!a||!e){return false}var c=b.offset();c.right=c.left+a;c.bottom=c.top+e;return(!(f.right<c.left||f.top>c.bottom||f.left>c.right||f.bottom<c.top))},openDialog:function(d){var c=d.settings?d.settings:this.constants.popUpSettings;window.open(d.url,d.name,c)},getShareTitle:function(){var d=$('meta[property="og:title"]');if(d){var c=d.attr("content");if(c){return c
}}return document.title},shareMicron:function(F,v,C){var L=this.getShareTitle();switch(F){case this.constants.icon.fb:var N=this.constants.url.fb+"?u="+encodeURIComponent(v)+"&t="+encodeURIComponent(L);this.openDialog({url:N,name:this.constants.openerName});return false;break;case this.constants.icon.twt:var J=(C!="")?C:L;var w={text:encodeURIComponent(J.replace("|","-")),via:this.constants.via,url:encodeURIComponent(v)};var E=this.constants.url.twt+decodeURIComponent($.param(w));this.openDialog({url:E,name:this.constants.openerName});
break;case this.constants.icon.gp:var A=this.constants.url.gp+v;this.openDialog({url:A,name:this.constants.openerName});return false;break;case this.constants.icon.lin:var x=this.constants.url.lin+v;this.openDialog({url:x,name:this.constants.openerName});return false;break;case this.constants.icon.mail:var P=v;var J=(C!="")?C:L;var G="body="+encodeURIComponent(J+" "+P);var B="mailto:?subject=Check out this article: "+J;window.location.href=B+"&"+G;break;case this.constants.icon.plus:var y=$("ul.more-social");
var D="plus-share-icon-arrow";if($("ul.more-social:visible").length>0){$("."+D).remove();y.hide()}else{var H=this.getArrowTopLeft();var z=this.getTopArrow({arrowClass:D,top:H.top,left:H.left});var I=this.getMoreSocialUlTopLeft(H,y);y.before(z).css(I).show()}break;case this.constants.icon.whatsapp:var J=(C!="")?C:L;var M=this.constants.url.whatsapp1+encodeURIComponent(J.replace(" - The Times of India on Mobile","")+" - ")+encodeURIComponent(v);window.location.href=M;break;case this.constants.icon.message:var J=(C!="")?C:L;
var O=this.constants.url.message+encodeURIComponent(J.replace(" - The Times of India on Mobile",""))+" - "+encodeURIComponent(v);window.location.href=O;break;case this.constants.icon.pinit:var J=(C!="")?C:L;var K=this.constants.url.pinit+encodeURIComponent(J.replace(" - The Times of India on Mobile",""))+" - "+encodeURIComponent(v);this.openDialog({url:K,name:this.constants.openerName});return false;break}},getMoreSocialUlTopLeft:function(h,e){var f=h.top+4;var g=h.left-Math.ceil(e.width()/2);return{top:f,left:g,"z-index":1}
},getArrowTopLeft:function(){var e=$("li.plus-share-icon");var f=e.width()/2-(2.5+3);var d=e.height()+1;return{top:d,left:f}},getTopArrow:function(b){return $("<span></span>").addClass(b.arrowClass).css({"border-bottom":"5px solid #ccc","border-left":"5px solid transparent","border-right":"5px solid transparent",top:b.top,left:b.left,position:"absolute"})},updatePosition:function(){if($(".plus-share-icon-arrow:visible").length>0&&$("ul.more-social:visible").length>0){var c=this.getArrowTopLeft();
$(".plus-share-icon-arrow").css(c);var d=$("ul.more-social");d.css(this.getMoreSocialUlTopLeft(c,d))}},attachEvents:function(b){if(b===true){social.updatePosition()}else{$(window).resize(function(){social.updatePosition()})}},onClick:function(){$.each(this.constants.icon,function(c,d){$(document).on("click",""+d+"",function(b){if(!$(this).hasClass("imginlinesharefb")&&!$(this).hasClass("imginlinesharetw")){var j="."+$(this).attr("class").split(" ")[0];var h=($(this).attr("data-share-url")!=""&&$(this).attr("data-share-url")!=undefined)?$(this).attr("data-share-url"):$(this).attr("data-src");
var a=($(this).attr("data-share-title")!=""&&$(this).attr("data-share-title")!=undefined)?$(this).attr("data-share-title"):"";social.shareMicron(j,h,a);var i=d.substring(1);ga("send","event","Share",i,h)}})})},iphonecheck:function(){if(navigator.userAgent.indexOf("OS 7_1_2")==-1){$(".social-icons ul li, .binder-social ul li").not(".mail_opera_only").removeClass("hide")}else{$(".social-icons ul li, .binder-social ul li").not(".msg,.mail_opera_only").removeClass("hide")}},scrollHandler:function(){var b=this;
$(window).on("scroll",function(a){b.scrollfunc()})},scrollfunc:function(){var c=$(".activephgal").length>0?$(".activephgal").find(".idsocial"):$(".idsocial ");var d=$(".activephgal").length>0?$(".activephgal").find(".socialsharecont-radial"):$(".socialsharecont-radial");if(!this.inViewSocial(c)){d.addClass("radial-animate");setTimeout(function(){d.removeClass("slideanimation")},1000)}else{d.removeClass("radial-animate expanded opac")}},initonload:function(){this.iphonecheck();this.onClick();this.attachEvents(true);
this.clickHandler();this.scrollfunc()},clickHandler:function(){$(document).on("click","ul.icons",function(){$(this).parent(".socialsharecont-radial").toggleClass("expanded")})},init:function(){this.iphonecheck();this.onClick();this.attachEvents(false);this.clickHandler();this.scrollHandler()}};social.init();