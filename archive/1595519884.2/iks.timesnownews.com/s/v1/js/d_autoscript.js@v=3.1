function nextModel(){for(var e=document.querySelectorAll(".newmodel").length,t=0;t<e;t++)document.querySelectorAll(".newmodel")[t].classList.remove("active");modelDiv.classList.add("active");var a=modelDiv.id.split("_").pop(),i=modelDiv.getElementsByClassName("more-content")[0];if(null==i||null!=i.innerHTML&&""!=i.innerHTML)1==modelDiv.getAttribute("model_no")&&document.querySelectorAll("#hybrid_auto_review_video_"+a).length>0&&playWidgetVideo("hybrid_auto_review_video_"+a,gid("drive_title").value);else{var o=new XMLHttpRequest,n="/auto/brand-model/"+a;o.open("GET",n,!1),o.onreadystatechange=function(){4===o.readyState&&200===o.status&&(null!=modelDiv.getElementsByClassName("temp-loading")[0]&&modelDiv.getElementsByClassName("temp-loading")[0].remove(),modelDiv.classList.remove("temp-height"),i.innerHTML="",i.innerHTML=o.responseText,document.querySelectorAll("#hybrid_auto_review_video_"+a).length>0&&playWidgetVideo("hybrid_auto_review_video_"+a,gid("drive_title").value),getLazyImageLoaded())},o.send()}}function nextVariant(){for(var e=document.querySelectorAll(".newvariant").length,t=0;t<e;t++)document.querySelectorAll(".newvariant")[t].classList.remove("active");variantDiv.classList.add("active");var a=variantDiv.id.split("_").pop(),i=variantDiv.getElementsByClassName("more-content")[0];if(null==i||null!=i.innerHTML&&""!=i.innerHTML)1==variantDiv.getAttribute("variant_no")&&document.querySelectorAll("#hybrid_auto_review_video_"+a).length>0&&playWidgetVideo("hybrid_auto_review_video_"+a,gid("drive_title").value);else{var o=new XMLHttpRequest,n="/auto/model-variant/"+a;o.open("GET",n,!1),o.onreadystatechange=function(){4===o.readyState&&200===o.status&&(null!=variantDiv.getElementsByClassName("temp-loading")[0]&&variantDiv.getElementsByClassName("temp-loading")[0].remove(),variantDiv.classList.remove("temp-height"),i.innerHTML="",i.innerHTML=o.responseText,document.querySelectorAll("#hybrid_auto_review_video_"+a).length>0&&playWidgetVideo("hybrid_auto_review_video_"+a,gid("drive_title").value),getLazyImageLoaded())},o.send()}}function autoSpecification(e){$("#"+e).find(".widget_2 .section-one .view-more").on("click",function(t){t.preventDefault(),$(this).parent().find(".deactive").slideToggle(200),1==$(this).parent().find(".spec-one").hasClass("active")?($("html, body").animate({scrollTop:$("#comp_"+e).offset().top},1e3),$(this).find(".text").html("View more"),$(this).find(".text").attr("class","text car_arrowdown"),$(this).parent().find(".spec-one").removeClass("active")):($("html, body").animate({scrollTop:$("#comp_"+e).offset().top},1e3),$(this).find(".text").html("View less"),$(this).find(".text").attr("class","text car_arrowup"),$(this).parent().find(".spec-one").addClass("active"))})}function autoSpecificationTab(e){$("#"+e).find(".mytabs .tab-data ul li a").on("click",function(t){t.preventDefault(),$("#"+e).find(".mytabs .tab-data ul li a").removeClass("active"),$(this).addClass("active"),$("#"+e).find(".mytabs .mydata").removeClass("active"),$($(this).attr("href")).addClass("active")})}function autoHybrid(e){$("#"+e).find(".tabs .tab-list ul li a").on("click",function(t){t.preventDefault(),$("#"+e).find(".tabs .tab-list ul li a").removeClass("active"),$(this).addClass("active"),$("#"+e).find(".tabs .data").removeClass("active"),$($(this).attr("href")).addClass("active")})}function autoGallery(e,t){console.log("div2: "+t),$("#"+e).find(".popup").on("click",function(e){getLazyImageLoaded(),e.preventDefault(),$("#"+t).css("display","block"),$("#"+t).css("z-index","5"),$("html,body").css("overflow","hidden")}),$("#"+t).find(".back-btn").on("click",function(e){e.preventDefault(),$("#"+t).hide(),$("#"+t).css("z-index","0"),$("html,body").css("overflow","auto")}),$("#"+t).find(".photo-tabs .photo-list ul li a").on("click",function(e){getLazyImageLoaded(),console.log("div2: tab :"+t),e.preventDefault(),$("#"+t).find(".photo-tabs .photo-list ul li a").removeClass("active"),$(this).addClass("active"),$("#"+t).find(".photo-tabs .photo-section").removeClass("active"),$($(this).attr("href")).addClass("active")})}function open_panel(e){var t=e.parentNode.children[2];"none"===t.style.display?($(t).slideDown(),$(e).addClass("car_arrowup"),$(e).removeClass("car_arrowdown")):($(t).slideUp(),$(e).removeClass("car_arrowup"),$(e).addClass("car_arrowdown"))}function playWidgetVideo(e,t,a){if(window.location.href,1==a){var i=e.split("_").pop();t=t+" || "+i+" || Auto-TN"}if(""!=gid(e).getAttribute("data-src")&&null!=gid(e).getAttribute("data-src")){var o=jwplayer(e);o.setup({autostart:!1,mute:!0,aspectratio:"16:9",width:"100%",primary:"html5",androidhls:!0,file:gid(e).getAttribute("data-src"),image:gid(e).getAttribute("data-img-thumb")}),o.on("play",function(){pauseAllOthersVideos(e),ga("send","event","Auto Review Video","Play",t)}),o.on("pause",function(){ga("send","event","Auto Review Video","Pause",t)}),o.on("stop",function(){ga("send","event","Auto Review Video","Stop",t)}),o.on("complete",function(){ga("send","event","Auto Review Video","Complete",t)})}}function pauseAllOthersVideos(e){document.querySelectorAll(".jw-video").forEach(function(t){t.closest(".jwplayer").getAttribute("id")!=e&&t.pause()})}document.addEventListener("DOMContentLoaded",function(e){document.querySelectorAll("#specs_widget_0").length>0&&autoSpecification("specs_widget_0"),document.querySelectorAll("#hybrid_widget_0").length>0&&autoHybrid("hybrid_widget_0"),document.querySelectorAll("#auto_gallery_0").length>0&&autoGallery("auto_gallery_0","car_photogallery_0"),document.querySelectorAll("#hybrid_gallery_0").length>0&&autoGallery("hybrid_gallery_0","hybrid_car_photogallery_0"),document.querySelectorAll("#specs_variant_widget_0").length>0&&autoHybrid("specs_variant_widget_0"),document.querySelectorAll("#auto_review_video_0").length>0&&playWidgetVideo("auto_review_video_0",gid("drive_title").value),getLazyImageLoaded()}),gid=function(e){return document.getElementById(e)};var modelDiv,options={root:null,rootMargin:"0px",threshold:0},handler=function(e){e.forEach(function(e){e.isIntersecting&&e.intersectionRatio>0&&(observer.unobserve(e.target),modelDiv=e.target,nextModel())})};"IntersectionObserver"in window||document.body.classList.add("polyfill"),observer=new IntersectionObserver(handler,options);var targets=document.querySelectorAll(".newmodel");targets.forEach(function(e){observer.observe(e)});var variantDiv,options1={root:null,rootMargin:"0px",threshold:0},handler1=function(e){e.forEach(function(e){e.isIntersecting&&e.intersectionRatio>0&&(observer1.unobserve(e.target),variantDiv=e.target,nextVariant())})},refreshAds=function(e){e.forEach(function(e){if(e.isIntersecting&&e.intersectionRatio>0){observer2.unobserve(e.target);var t=e.target.id,a=$("#"+t).attr("story_id"),i=$("#article_"+a).find(".pg_rhs_ad").attr("id");$("#"+i+".pg_rhs_ad").dfp({setRequestNonPersonalizedAds:personalAds})}})};"IntersectionObserver"in window||document.body.classList.add("polyfill"),observer1=new IntersectionObserver(handler1,options1);var targets1=document.querySelectorAll(".newvariant");if(targets1.forEach(function(e){observer1.observe(e)}),document.querySelectorAll(".pg_ads").length>0){observer2=new IntersectionObserver(refreshAds,options1);var targets2=document.querySelectorAll(".pg_ads");targets2.forEach(function(e){observer2.observe(e)})}var playerGA=0,fromPage=0;